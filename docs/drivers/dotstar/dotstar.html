<!DOCTYPE html>
<html>
<head>
    <title>Moddable</title>
    <link href="https://fonts.googleapis.com/css?family=Inconsolata|Open+Sans" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="/assets/css/hljs.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/markdown.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />
</head>
    <body>
<div id="header">
    <div class="package"></div>
    <a href="https:&#x2F;&#x2F;github.com&#x2F;moddable-opensource&#x2F;moddable" class="badge" title="Github.com"><img src="/assets/images/github.png" alt="Github" /></a>
    <a href="/" class="home"><strong>Moddable</strong> <span class="headline">Moddable SDK</span></a>
</div>
        <div id="container">
            <div id="sidebar">
<ul class="list">
    <li>
        <h4><a href="/">Home</a></h4>
        <ul>
            <li><a href="https://www.moddable.com">Moddable</a></li>
            <li><a href="/">Documentation</a></li>
        </ul>
    </li>
    <li>
        <h4><a href="/">Resources</a></h4>
        <ul>
            <li><a href="https://github.com/moddable-opensource/moddable">GitHub</a></li>
            <li><a href="/">Link 2</a></li>
        </ul>
    </li>
</ul>
            </div>

<div id="content">
<h1>DotStar display driver</h1>
<p>Copyright 2018 Moddable Tech, Inc.</p>
<p>Revised: January 3, 2018</p>
<p><strong>Warning</strong>: These notes are preliminary. Omissions and errors are likely. If you encounter problems, please ask for assistance.</p>
<p>The DotStar display controller drives strings of color LED lights. The displays are available from <a href="https://learn.adafruit.com/adafruit-dotstar-leds/overview">Adafuit</a> in various lengths and configurations</p>
<p>These LEDs are not strictly a display, but they can be seen as one row of a display. There are options to purchase them in a organized in a rectangular grid, which is like a display.</p>
<p>The <a href="../../../examples/drivers/dotstar">dotstar</a> example works with a 144 LED DotStar string. It scans through an image one row at a time to update the pixels on the DotStar string.</p>
<h3>Adding DotStar to a project</h3>
<p>To add the DotStar driver to a project, include its manifest:</p>
<pre><code>&quot;include&quot;: [
	/* other includes here */
	&quot;$(MODULES)/drivers/dotstar/manifest.json&quot;,
],
</code></pre>
<h3>Pixel format</h3>
<p>The DotStar driver requires 16-bit color (<code>rgb565le</code>) pixels.</p>
<pre><code>mcconfig -m -p esp -f rgb565le
</code></pre>
<h3>Defines</h3>
<p>In the <code>defines</code> object, the optional <code>brightness</code> property may be set, where 255 is brightest and 0 is off.</p>
<pre><code>&quot;defines&quot;: {
	&quot;dotstar&quot;: {
		&quot;brightness&quot;: 64,
	}
}
</code></pre>
<h3>Configuring SPI</h3>
<p>The <code>defines</code> object must contain the <code>spi_port</code>.</p>
<pre><code>&quot;defines&quot;: {
	&quot;dotstar&quot;: {
		/* other properties here */	
		&quot;spi_port&quot;: &quot;#HSPI&quot;
	}
}
</code></pre>
<p>The <code>hz</code> property, when present, specifies the SPI bus speed. The default value is 20,000,000 Hz which is near the maximum SPI speed supported by the controllers.</p>

</div>

        </div>
    </body>
</html>
