<!DOCTYPE html>
<html>
<head>
    <title>Moddable</title>
    <link href="https://fonts.googleapis.com/css?family=Inconsolata|Open+Sans" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="/assets/css/hljs.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/markdown.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />
</head>
    <body>
<div id="header">
    <div class="package"></div>
    <a href="https:&#x2F;&#x2F;github.com&#x2F;moddable-opensource&#x2F;moddable" class="badge" title="Github.com"><img src="/assets/images/github.png" alt="Github" /></a>
    <a href="/" class="home"><strong>Moddable</strong> <span class="headline">Moddable SDK</span></a>
</div>
        <div id="container">
            <div id="sidebar">
<ul class="list">
    <li>
        <h4><a href="/">Home</a></h4>
        <ul>
            <li><a href="https://www.moddable.com">Moddable</a></li>
            <li><a href="/">Documentation</a></li>
        </ul>
    </li>
    <li>
        <h4><a href="/">Resources</a></h4>
        <ul>
            <li><a href="https://github.com/moddable-opensource/moddable">GitHub</a></li>
            <li><a href="/">Link 2</a></li>
        </ul>
    </li>
</ul>
            </div>

<div id="content">
<h1>Piu JavaScript Reference</h1>
<h2>About This Document</h2>
<p>Piu is a user interface framework designed to run on microcontrollers. The programming interface to Piu is a JavaScript API of global constructors, functions, and objects that define the containment hierarchy, appearance, behavior, and flow of applications. This document provides details on the objects that define the Piu API and important related concepts.</p>
<h2>Table of Contents</h2>
<ul>
<li><a href="#inheritance-hierarchy">Inheritance Hierarchy</a></li>
<li><a href="#introduction-to-important-concepts">Introduction to Important Concepts</a>
<ul>
<li><a href="#containment-hierarchy-and-appearance">Containment Hierarchy and Appearance</a></li>
<li><a href="#behavior-and-flow">Behavior and Flow</a></li>
</ul>
</li>
<li><a href="#global-properties">Global Properties</a>
<ul>
<li><a href="#built-in-properties">Built-in Properties</a></li>
<li><a href="#adding-additional-properties">Adding Additional Properties</a></li>
</ul>
</li>
<li><a href="#descriptions-of-properties">Descriptions of Properties</a>
<ul>
<li><a href="#anchor">Anchor</a></li>
<li><a href="#color">Color</a></li>
<li><a href="#coordinates">Coordinates</a></li>
<li><a href="#duration-fraction-interval-loop-and-time">Duration, Fraction, Interval, Loop, and Time</a></li>
<li><a href="#font">Font</a></li>
<li><a href="#tiles">Tiles</a></li>
<li><a href="#variant-variants-state-and-states">Variant, Variants, State, and States</a></li>
</ul>
</li>
<li><a href="#piu-object-reference">Piu Object Reference</a>
<ul>
<li><a href="#application-object">Application Object</a></li>
<li><a href="#behavior-object">Behavior Object</a></li>
<li><a href="#column-object">Column Object</a></li>
<li><a href="#container-object">Container Object</a></li>
<li><a href="#content-object">Content Object</a></li>
<li><a href="#die-object">Die Object</a></li>
<li><a href="#image-object">Image Object</a></li>
<li><a href="#label-object">Label Object</a></li>
<li><a href="#layout-object">Layout Object</a></li>
<li><a href="#port-object">Port Object</a></li>
<li><a href="#row-object">Row Object</a></li>
<li><a href="#scroller-object">Scroller Object</a></li>
<li><a href="#skin-object">Skin Object</a></li>
<li><a href="#sound-object">Sound Object</a></li>
<li><a href="#style-object">Style Object</a></li>
<li><a href="#text-object">Text Object</a></li>
<li><a href="#texture-object">Texture Object</a></li>
<li><a href="#timeline-object">Timeline Object</a></li>
<li><a href="#transition-object">Transition Object</a></li>
</ul>
</li>
</ul>
<h2>Inheritance Hierarchy</h2>
<p>Figure 1 summarizes the inheritance hierarchy for the objects described in this document.</p>
<p><strong>Figure 1.</strong> Piu Inheritance Hierarchy</p>
<p><img src="../assets/piu/inheritanceHierarchy.png" alt="" /></p>
<p>The basic relationship between these objects in the context of a Piu application is as follows:</p>
<ul>
<li>Graphical parts of the user interface are all <code>content</code> objects</li>
<li><code>skin</code>, <code>style</code>, and <code>texture</code> objects customize the look (colors, fonts, etc.) of <code>content</code> objects</li>
<li><code>behavior</code> objects are bound to <code>content</code> objects to handle events</li>
<li><code>timeline</code> and <code>transition</code> objects animate <code>content</code> objects</li>
</ul>
<h2>Introduction to Important Concepts</h2>
<p>This section explains important concepts related to Piu applications and defines some of the terms used throughout the rest of this document.</p>
<h3>Containment Hierarchy and Appearance</h3>
<p>The graphical user interface elements of Piu applications are composed of a hierarchy of <code>content</code> objects. The basic structure is as follows:</p>
<ul>
<li>The <code>application</code> object is the root of the containment hierarchy</li>
<li><code>container</code> objects are branches of the containment hierarchy</li>
<li><code>content</code> objects are leaves of the containment hierarchy</li>
</ul>
<p>Applications use constructors to define <code>content</code> and <code>container</code> objects. These objects are attached to the containment hierarchy using the <code>add</code>, <code>insert</code>, and <code>replace</code> functions, and are removed from the containment hierarchy using the <code>remove</code> and <code>replace</code> functions. See <a href="#container-functions">Functions</a> in the section <a href="#container-object">Container Object</a> for descriptions of these properties.</p>
<h4>Bound and Unbound Contents</h4>
<p>Contents that are not attached to the containment hierarchy are called <em>unbound</em> contents; contents attached to the containment hierarchy, <em>bound</em> contents. Only objects that are part of the containment hierarchy appear on screen.</p>
<p>Unbound contents do not participate in layout. They are neither measured nor fitted; consequently, their position and size are <code>undefined</code> and cannot be changed.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> content = <span class="hljs-keyword">new</span> Content();
<span class="hljs-keyword">let</span> before = content.position;	<span class="hljs-comment">// undefined</span>
application.add(content);
<span class="hljs-keyword">let</span> after = content.position;	<span class="hljs-comment">// {x: 160, y:120} (assuming the application is 320x240)</span>
</code></pre>
<h4>Constraints</h4>
<p>The coordinates of an object define implicit constraints on its position and size.</p>
<p>For example, centered content and contents whose sizes/position are dependent on their container's size/position cannot move.</p>
<pre><code class="language-javascript"><span class="hljs-comment">// Cannot move</span>
<span class="hljs-keyword">let</span> centeredContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">width</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">10</span>
});
<span class="hljs-keyword">let</span> dependentOnContainerContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
    <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">100</span>,
});

<span class="hljs-comment">// Can move</span>
<span class="hljs-keyword">let</span> unconstrainedContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
    <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>
});
</code></pre>
<h4>Measure and Fit</h4>
<h5>Measured size</h5>
<p>All contents have a <em>measured width</em> and <em>measured height</em>, which are the default width and height computed by the content itself. For example, the measured width of the following content object will be 100.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
	<span class="hljs-attr">width</span>: <span class="hljs-number">100</span> 
});
</code></pre>
<p>The measured width of the following content will be 0, because the content has no default width.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
	<span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span> 
});
</code></pre>
<p>The <code>coordinates</code> property of a <code>content</code> object reflect the content's measured size. This property can be changed at any time.</p>
<pre><code class="language-javascript">sampleContent.coordinates = { 
	<span class="hljs-attr">left</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">height</span>: <span class="hljs-number">100</span> 
};
</code></pre>
<h5>Fitted size</h5>
<p>All contents also have a <em>fitted width</em> and <em>fitted height</em>, which are the effective width and height of the content computed by its container.</p>
<p>If both <code>left</code> and <code>right</code> coordinates are defined, the content stretches horizontally with its container, and the fitted width of the content depends on the fitted width of its container. Similarly, if both <code>top</code> and <code>bottom</code> coordinates are defined, the content stretches vertically with its container, and the fitted height of the content depends on the fitted height of its container. For example, the fitted width and fitted height of the <code>sampleContent</code> object here will both be 100.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
	<span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span> 
});
<span class="hljs-keyword">let</span> sampleContainer = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
	<span class="hljs-attr">contents</span>: [
		sampleContent
	]
});
</code></pre>
<p>If a <code>left</code> or <code>right</code> coordinate (but not both) is defined, or if neither <code>left</code> nor <code>right</code> is defined, the fitted width equals the measured width. Similarly, if a <code>top</code> or <code>bottom</code> coordinate (but not both) is defined, or if neither <code>top</code> nor <code>bottom</code> is defined, the fitted width equals the measured height. For example, the fitted width and fitted height of the <code>sampleContent</code> object here will both be 50.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
	<span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">50</span> 
});
<span class="hljs-keyword">let</span> sampleContainer = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
	<span class="hljs-attr">contents</span>: [
		sampleContent
	]
});
</code></pre>
<p>The <code>width</code> and <code>height</code> properties of a <code>content</code> object reflect the content's fitted size. A content's measured width and height are available immediately after the content is created; the fitted width and height are not available until its <code>onDisplaying</code> event has been triggered.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">50</span>,
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onCreate(content) {
			<span class="hljs-keyword">let</span> measuredHeight = content.coordinates.height; <span class="hljs-comment">// 50</span>
			<span class="hljs-keyword">let</span> measuredWidth = content.coordinates.width; <span class="hljs-comment">// undefined</span>
			<span class="hljs-keyword">let</span> fittedWidth = content.width; <span class="hljs-comment">// undefined</span>
			<span class="hljs-keyword">let</span> fittedHeight = content.height; <span class="hljs-comment">// 50</span>
		}
		onDisplaying(content) {
			<span class="hljs-keyword">let</span> fittedWidth = content.width; <span class="hljs-comment">// 320 (assuming the application is 320x240)</span>
			<span class="hljs-keyword">let</span> fittedHeight = content.height; <span class="hljs-comment">// 50</span>
		}
	}
});
application.add(sampleContent)
</code></pre>
<h5>Templates</h5>
<p><em>Templates</em> are a tool that reduce the script code needed to instantiate contents and build the containment hierarchy. Templates are often used to create objects that are similar, but have a few slightly different properties.</p>
<p>For example, consider the following screens:</p>
<p><img src="../assets/piu/templates.png" alt="" /></p>
<p>The code for these screens without templates is unnecessarily repetitive. The only difference between <code>screen1</code> and <code>screen2</code> here is the header background color and string.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> screen1 = <span class="hljs-keyword">new</span> Column(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span> }), <span class="hljs-attr">style</span>: sampleStyle,
	<span class="hljs-attr">contents</span>: [
		Label(<span class="hljs-literal">null</span>, {
			<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">40</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
			<span class="hljs-attr">string</span>: <span class="hljs-string">"Screen 1"</span>
		}),
		Content(<span class="hljs-literal">null</span>, {
			<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
			<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> })
		}),
	]
});

<span class="hljs-keyword">let</span> screen2 = <span class="hljs-keyword">new</span> Column(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"red"</span> }), <span class="hljs-attr">style</span>: sampleStyle,
	<span class="hljs-attr">contents</span>: [
		Label(<span class="hljs-literal">null</span>, {
			<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">40</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
			<span class="hljs-attr">string</span>: <span class="hljs-string">"Screen 2"</span>
		}),
		Content(<span class="hljs-literal">null</span>, {
			<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
			<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> })
		}),
	]
});
</code></pre>
<p>Using templates significantly reduces the amount of code needed to define the two screens.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> BasicScreen = Column.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $.headerColor }), <span class="hljs-attr">style</span>: sampleStyle,
	<span class="hljs-attr">contents</span>: [
		Label(<span class="hljs-literal">null</span>, {
			<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">40</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
			<span class="hljs-attr">string</span>: $.title
		}),
		Content(<span class="hljs-literal">null</span>, {
			<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
			<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> })
		}),
	]
}));

<span class="hljs-keyword">let</span> screen1 = <span class="hljs-keyword">new</span> BasicScreen({ <span class="hljs-attr">title</span>: <span class="hljs-string">"Screen 1"</span>, <span class="hljs-attr">headerColor</span>: <span class="hljs-string">"blue"</span> });
<span class="hljs-keyword">let</span> screen2 = <span class="hljs-keyword">new</span> BasicScreen({ <span class="hljs-attr">title</span>: <span class="hljs-string">"Screen 2"</span>, <span class="hljs-attr">headerColor</span>: <span class="hljs-string">"red"</span> });
</code></pre>
<p>As seen in the example above, the constructor has one parameter, <code>$</code>, which applications use to pass data to the template. The data may have any prototype; it is often a <code>string</code>, <code>number</code>, or JSON object. In their attributes, <code>content</code> and <code>container</code> objects use <code>$</code> to access data properties. The <code>$</code> parameter is referred to as “the data” or “the instantiating data.”</p>
<p>The <code>template</code> function for most Piu objects returns a constructor and a <code>template</code> function; the only exceptions are the <code>Skin</code> and <code>Texture</code> objects, which simply return constructors. These <code>template</code> functions allow constructors to be further specialized. In the example below, a <code>HeaderWithBehavior</code> instance would have all the properties of a <code>BasicHeader</code> instance in addition to being active and having a behavior.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> headerStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"white"</span>, <span class="hljs-attr">horizontal</span>: <span class="hljs-string">"left"</span> });
<span class="hljs-keyword">let</span> headerSkin = <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span> });
<span class="hljs-keyword">let</span> BasicHeader = Label.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">40</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: headerSkin, <span class="hljs-attr">style</span>: headerStyle, <span class="hljs-attr">string</span>: $
}));

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HeaderBehavior</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
	onTouchEnded(header) {
		trace(<span class="hljs-string">"Header tapped\n"</span>);
	}
}
<span class="hljs-keyword">let</span> HeaderWithBehavior = BasicHeader.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">Behavior</span>: HeaderBehavior
}));
</code></pre>
<h3>Behavior and Flow</h3>
<h4>Events</h4>
<p>Piu delivers <em>events</em> to the containment hierarchy of applications, and <code>content</code> objects can reference <code>behavior</code> objects, which contain functions that respond to events. Piu uses events extensively.</p>
<p>When a <code>content</code> object receives an event, it checks whether its <code>behavior</code> object has a corresponding function to respond to that event (either directly or indirectly in its prototype chain). If it does, the <code>content</code> object calls the function, passing itself as the first parameter. If it does not, nothing happens.</p>
<h5>Low-level events</h5>
<p>Piu defines low-level events that are useful on a wide range of target devices. For example, <code>onTouchBegan</code> and <code>onTouchEnded</code> are useful for target devices with touch screens.</p>
<h5>Higher-level events</h5>
<p>Applications can also define their own higher-level events. To help efficiently implement common event propagation patterns, contents have <code>delegate</code>, <code>distribute</code>, <code>bubble</code>, <code>firstThat</code>, and <code>lastThat</code> properties. See <a href="#content-functions">Functions</a> in the section <a href="#content-object">Content Object</a> for descriptions of these properties.</p>
<h4>Animations</h4>
<p>There are multiple ways to create time-based animation behaviors. One way is to use <code>content</code> objects as clocks, as described in the <a href="#duration-fraction-interval-loop-and-time">Duration, Fraction, Interval, Loop, and Time</a> section of this document. This method is commonly used to animate a single content in response to events (to show touch feedback, for example) and to animate a single content for long periods of time.</p>
<p>The simplest way to create complex behaviors that animate several contents or properties is using the <code>timeline</code> object. The <code>timeline</code> object provides a mechanism for sequencing and running a collection of tweens, making it the best method for staggered animations of multiple content objects (to transition graphical elements of a screen in and out, for example). For more information, see the <a href="#timeline-object">Timeline Object</a> section of this document.</p>
<p>Piu <code>transition</code> objects are best for simple animations to move between screens or swap content objects. They often modify the containment hierarchy by adding or removing contents. They can also modify properties of objects as <code>timeline</code> objects do, but creating a sequence of animations is more complicated. For more information, see the <a href="#transition-object">Transition Object</a> section of this document.</p>
<h5>Easing equations</h5>
<p>Animations that linearly modify the properties of content objects often appear awkward. Using easing equations is a common way to implement animations that feel more natural.</p>
<p>Piu extends the JavaScript <code>Math</code> object with Robert Penner’s open source easing equations (see the Easing section of <a href="http://robertpenner.com/easing/penner_chapter7_tweening.pdf">Robert Penner’s Programming Macromedia Flash MX</a>). The source code is in <a href="../../modules/piu/All/piuTransition.c" title="piuTransition.c"><code>piuTransition.c</code></a>.</p>
<p>The Piu implementations of these easing equations all take a single argument: a <code>number</code> in the range [0, 1]. The return value is a <code>number</code> in the range [0, 1] that maps the input to the eased output. These equations are used extensively in all types of animations. They are commonly used to map the <code>fraction</code> property of <code>content</code> objects or the <code>fraction</code> argument of a <code>transition</code> object's <code>onStep</code> function, and as an argument to many <code>timeline</code> object functions.</p>
<h2>Global Properties</h2>
<p>Properties of the Piu global object can be used anywhere in an application.</p>
<h3>Built-in Properties</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../xs/sources/xsGlobal.c" title="xsGlobal.c"><code>xsGlobal.c</code></a></li>
</ul>
<h5><code>trace(string)</code></h5>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>string</code></td>
<td><code>string</code></td>
<td style="text-align:left">The string to trace</td>
</tr>
</tbody>
</table>
<p>Traces the specified string in the virtual machine of the hosted application.</p>
<blockquote>
<p>Note: Strings will not be traced until a line break (&quot;\n&quot;) has also been traced.</p>
</blockquote>
<pre><code class="language-javascript">trace(<span class="hljs-string">"Hello world\n"</span>);	

<span class="hljs-keyword">let</span> sampleVariable = <span class="hljs-number">2</span>;
trace(<span class="hljs-string">`sampleVariable value is: <span class="hljs-subst">${sampleVariable}</span>\n`</span>);    <span class="hljs-comment">// "sampleVariable value is 2"</span>
</code></pre>
<hr />
<h3>Adding Additional Properties</h3>
<p>Additional properites can be added by setting a property of the global object.</p>
<pre><code class="language-javascript">global.application = <span class="hljs-keyword">new</span> Application(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">displayListLength</span>: <span class="hljs-number">2048</span>, <span class="hljs-attr">commandListLength</span>: <span class="hljs-number">2048</span>
});
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> global.application;
</code></pre>
<h2>Descriptions of Properties</h2>
<p>This section provides descriptions of select properties referenced throughout the Piu Object Reference section below.</p>
<h3>Anchor</h3>
<p>Each <code>content</code> object can have an optional <code>anchor</code> property. When the template is instantiated, a reference to the created <code>content</code> object is assigned to a property of the instantiating data; the identifier of the property is the value of the <code>anchor</code> property.</p>
<p>Anchors allow applications to directly access specific contents and containers in a containment hierarchy instantiated from a template. This can make it easier to access objects to modify while the application is running—for example, to change the label of a string, disable a button, or add lines to a column in a table.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"white"</span> });
<span class="hljs-keyword">let</span> SampleContent = Label.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">anchor</span>: <span class="hljs-string">"ANCHORED_CONTENT"</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $.color }), <span class="hljs-attr">style</span>: sampleStyle,
	<span class="hljs-attr">string</span>: $.title
}));
<span class="hljs-keyword">let</span> SampleContainer = Container.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">contents</span>: [
		<span class="hljs-keyword">new</span> SampleContent($)
	],
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onCreate(container, data) {
			<span class="hljs-keyword">this</span>.data = data;
		}
		onTouchEnded(container) {
			<span class="hljs-keyword">this</span>.data[<span class="hljs-string">"ANCHORED_CONTENT"</span>].string = <span class="hljs-string">"Hello!"</span>
		}
	}
}));
application.add(<span class="hljs-keyword">new</span> SampleContainer({ <span class="hljs-attr">title</span>: <span class="hljs-string">"Tap to update"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"blue"</span> }));
</code></pre>
<p><img src="../assets/piu/anchor.gif" alt="" /></p>
<h3>Color</h3>
<p>A <code>color</code> parameter can be passed into the dictionaries of <code>skin</code> and <code>style</code> constructors.</p>
<p>To specify a color, you can use CSS names (Level 2) or hexadecimal notations (<code>&quot;#RGB&quot;</code>, <code>&quot;#RGBA&quot;</code>, <code>&quot;#RRGGBB&quot;</code>, <code>&quot;#RRGGBBAA&quot;</code>):</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> whiteSkin = <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>:<span class="hljs-string">"white"</span> });
<span class="hljs-keyword">const</span> redSkin = <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>:<span class="hljs-string">"#F00"</span> });
<span class="hljs-keyword">const</span> halfRedSkin = <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>:<span class="hljs-string">"#F008"</span> });
<span class="hljs-keyword">const</span> greenSkin = <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>:<span class="hljs-string">"#00FF00"</span> });
<span class="hljs-keyword">const</span> halfGreenSkin = <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>:<span class="hljs-string">"#00FF0088"</span> });
</code></pre>
<p>To specify a color with an alpha channel, you can also use a mere hexadecimal number <code>0xRRGGBBAA</code>:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> blueSkin = <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>:<span class="hljs-number">0x0000FFFF</span> });
<span class="hljs-keyword">const</span> halfBlueSkin = <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>:<span class="hljs-number">0x0000FF88</span> });
</code></pre>
<p>To build such hexadecimal numbers, Piu exports functions similar to the CSS functional notations:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { rgb, rgba, hsl, hsla } <span class="hljs-keyword">from</span> <span class="hljs-string">"piu/All"</span>;
<span class="hljs-keyword">const</span> yellowSkin = <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>:rgb(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0</span>) });
<span class="hljs-keyword">const</span> halfYellowSkin = <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>:rgba(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>) });
<span class="hljs-keyword">const</span> cyanSkin = <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>:hsl(<span class="hljs-number">180</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0.5</span>) });
<span class="hljs-keyword">const</span> halfCyanSkin = <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>:hsla(<span class="hljs-number">180</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>) });
</code></pre>
<p>In dictionaries, colors can be a single color or an array of 2, 3, or 4 colors. The <code>skin</code> and <code>style</code> objects blend a color based on the state of the <code>content</code> object that uses them. See <a href="#variant-variants-state-and-states">Variant, Variants, State, and States</a> for more information.</p>
<h3>Coordinates</h3>
<p>All <code>content</code> objects have a <code>coordinates</code> property. The coordinates property is an object with <code>left</code>, <code>width</code>, <code>right</code>, <code>top</code>, <code>height</code>, and <code>bottom</code> properties, all of which can be <code>undefined</code>.  The coordinates of contents determine their position and size relative to their container and their <code>previous</code> and <code>next</code> properties (other <code>content</code> objects in the same container).</p>
<p>When a content's container is an <code>application</code>, <code>container</code>, <code>scroller</code>, or <code>layout</code> object:</p>
<ul>
<li><code>top</code>, <code>bottom</code>, <code>left</code>, and <code>right</code> coordinates are all relative to their container</li>
<li>If <code>width</code>, <code>left</code>, and <code>right</code> coordinates are all specified, the width will be overruled</li>
<li>If <code>left</code> and <code>right</code> are both unspecified, the content will be centered horizontally in its container with the width specified (or a width of 0, if unspecified)</li>
<li>If <code>height</code>, <code>top</code>, and <code>bottom</code> coordinates are all specified, the height will be overruled</li>
<li>If <code>top</code> and <code>bottom</code> are both unspecified, the content will be centered vertically in its container with the height specified (or a height of 0, if unspecified)</li>
</ul>
<p>When a content's container is a <code>column</code> object:</p>
<ul>
<li><code>top</code> and <code>bottom</code> coordinates are relative to their <code>previous</code> and <code>next</code> properties</li>
<li><code>left</code> and <code>right</code> coordinates are relative to their container</li>
<li>If <code>width</code>, <code>left</code>, and <code>right</code> coordinates are all specified, the width will be overruled</li>
</ul>
<p>When a content's container is a <code>row</code> object:</p>
<ul>
<li><code>left</code> and <code>right</code> coordinates are relative to their <code>previous</code> and <code>next</code> properties</li>
<li><code>top</code> and <code>bottom</code>  coordinates are relative to their container</li>
<li>If <code>height</code>, <code>top</code>, and <code>bottom</code> coordinates are all specified, the height will be overruled</li>
</ul>
<h3>Duration, Fraction, Interval, Loop, and Time</h3>
<p>Every content in the containment hierarchy can be used as a clock to control time-based animation behaviors using its <code>duration</code>, <code>fraction</code>, <code>interval</code>, and <code>time</code> properties.</p>
<ul>
<li>The <code>duration</code> property is the duration of the animation, expressed in milliseconds.</li>
<li>The <code>time</code> property provides the current time of the content’s clock.</li>
<li>The <code>fraction</code> property is the ratio of the clock’s current time to the content’s duration.</li>
<li>The <code>interval</code> property is the time between frames (frame rate) of the animation, expressed in milliseconds.</li>
</ul>
<p>The content’s <code>start</code> and <code>stop</code> functions control when the clock is running. The clock is automatically stopped when its current time reaches its duration. If the content's <code>loop</code> property is set to true, the clock will restart.</p>
<p>When a clock is running, the <code>onTimeChanged</code> function of its content is triggered at the interval specified by the content's <code>interval</code> property. When the content's time is equal to its duration, the <code>onFinished</code> function is triggered.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> animatedContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">loop</span>: <span class="hljs-literal">true</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: [<span class="hljs-string">"red"</span>, <span class="hljs-string">"yellow"</span>, <span class="hljs-string">"blue"</span>] }),
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onCreate(content) {
			<span class="hljs-keyword">this</span>.startAnimation(content);
		}
		startAnimation(content) {
			content.duration = <span class="hljs-number">3000</span>;
			content.time = <span class="hljs-number">0</span>;
			content.start();
		}
		onTimeChanged(content) {
			content.state = content.fraction*<span class="hljs-number">2</span>;
		}
	}
});
application.add(animatedContent);
</code></pre>
<p><img src="../assets/piu/contentClockAnimation.gif" alt="" /></p>
<h4>Time-based animation</h4>
<p>The <code>interval</code> property sets the desired frame rate for an object's clock, but be aware that it may not be exact if the application is overloaded.  It is not safe to assume, for instance, that if a content's <code>interval</code> is 2 and its <code>duration</code> is 100 that it will trigger the <code>onTimeChanged</code> event exactly 50 times before it triggers the <code>onFinished</code> event. Therefore, it is recommended that applications use the <code>fraction</code> or <code>time</code> properties to determine which frame to display for animations.</p>
<p>For example, consider two implementations of a button that expands and contracts 10 pixels in both directions  when tapped.</p>
<p><img src="../assets/piu/expandingButton.gif" alt="" /></p>
<p>The following implementation is <strong>not recommended</strong>, as it assumes that <code>onTimeChanged</code> will be triggered exactly 20 times before <code>onFinished</code>. While this may work most of the time, it is possible that the content will trigger its <code>onFinished</code> event before it shrinks down to its original size.</p>
<pre><code class="language-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ExpandingBehavior</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
	onTouchEnded(content) {
		<span class="hljs-keyword">this</span>.index = <span class="hljs-number">0</span>;
		content.interval = <span class="hljs-number">5</span>;
		content.duration = <span class="hljs-number">100</span>;
		content.time = <span class="hljs-number">0</span>;
		content.start();
	}
	onTimeChanged(content) {
		<span class="hljs-keyword">this</span>.index++;
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.index &lt; <span class="hljs-number">10</span>) content.sizeBy(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);
		<span class="hljs-keyword">else</span> content.sizeBy(<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>);
	}
}

<span class="hljs-keyword">let</span> expandingButton = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span> }),
	<span class="hljs-attr">Behavior</span>: ExpandingBehavior
});
</code></pre>
<p>The following implementation is better because it makes no assumptions about the number of frames that will draw and ensures that the content shrinks down to the correct size when <code>onFinished</code> is called.</p>
<pre><code class="language-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ExpandingBehavior</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
	onTouchEnded(content) {
		<span class="hljs-keyword">this</span>.startingSize = { <span class="hljs-attr">h</span>: content.height, <span class="hljs-attr">w</span>: content.width };
		content.interval = <span class="hljs-number">5</span>;
		content.duration = <span class="hljs-number">100</span>;
		content.time = <span class="hljs-number">0</span>;
		content.start();
	}
	onTimeChanged(content) {
		<span class="hljs-keyword">let</span> startingSize = <span class="hljs-keyword">this</span>.startingSize;
		<span class="hljs-keyword">let</span> fraction = content.fraction;
		<span class="hljs-keyword">if</span> (fraction &gt; <span class="hljs-number">0.5</span>) fraction = <span class="hljs-number">1</span>-fraction;
		fraction *= <span class="hljs-number">20</span>;
		content.height = startingSize.h + fraction;
		content.width = startingSize.w + fraction;
	}
	onFinished(content) {
		<span class="hljs-keyword">let</span> startingSize = <span class="hljs-keyword">this</span>.startingSize;
		content.height = startingSize.h;
		content.width = startingSize.w;
	}
}

<span class="hljs-keyword">let</span> expandingButton = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span> }),
	<span class="hljs-attr">Behavior</span>: ExpandingBehavior
});
</code></pre>
<h3>Font</h3>
<p>A <code>font</code> parameter must be passed into the dictionary of <code>style</code> constructors.</p>
<p>Piu uses bitmap fonts. The metrics are provided by binary FNT files, the glyphs are provided by PNG files.</p>
<p>Fonts are assets and must be defined in the resources of your manifest. Use the default target or the <code>-alpha</code> or <code>-color</code> pseudo targets for fonts.</p>
<p>The binary FNT file format was defined by
<a href="http://www.angelcode.com/products/bmfont/doc/file_format.html">AngelCode</a>, which also released the <a href="http://www.angelcode.com/products/bmfont/">BMFont</a> generator on Windows. On Mac you can for instance use <a href="https://71squared.com/glyphdesigner">Glyph Designer</a> or <a href="https://www.bmglyph.com">bmGlyph</a> to generate such files.</p>
<p>One bitmap font corresponds to one style, one weight, one stretch, one size and one family. You will need separate bitmap fonts for each variation.</p>
<p>The <code>Style</code> constructor uses the <code>font</code> property of its dictionary to lookup its font. You can just set the <code>font</code> property to the name of a binary FNT file:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> popStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"popFont"</span> });
</code></pre>
<p>The <code>popStyle</code> object will use the <code>popFont.fnt</code> file in your assets.</p>
<p>The lookup happens only when <code>label</code> or <code>text</code> objects that use the style are bound to the displayed containment hierarchy, or when the <code>Style.prototype.measure</code> method is called.</p>
<h4>Cascading Styles</h4>
<p>In order to cascade styles, you may want to use something similar to the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/font">CSS font shortcut</a>.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> style = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"italic bold 16px Open Sans"</span> });
</code></pre>
<p>In Piu, the font property has five optional parts, in that order:</p>
<ol>
<li>style: <code>italic</code> | <code>normal</code> | <code>inherit</code></li>
<li>weight: <code>100</code> | <code>ultralight</code> | <code>200</code> | <code>thin</code> | <code>300</code> | <code>light</code> | <code>400</code> | <code>normal</code> | <code>500</code> | <code>medium</code> | <code>600</code> | <code>semibold</code> | <code>700</code> | <code>bold</code> |  <code>800</code> | <code>heavy</code> | <code>900</code> | <code>black</code> | <code>lighter</code>  | <code>bolder</code>  | <code>inherit</code></li>
<li>stretch: <code>condensed</code> | <code>normal</code> | <code>inherit</code></li>
<li>size: <code>xx-small</code> | <code>x-small</code> | <code>small</code> | <code>medium</code> | <code>large</code> | <code>x-large</code> | <code>xx-large</code> | <code>smaller</code> | <code>larger</code> | <code>[1-9][0-9]+px</code> | <code>[1-9][0-9]+%</code> | <code>inherit</code></li>
<li>family: the rest of the font property if any.</li>
</ol>
<p>The <code>inherit</code> value is the default value and is useful only to disambiguate a font property. By default the style of a <code>content</code> object inherits the style of its <code>container</code> objects.</p>
<p>All parts are optional and are cascaded separately. So you can for instance define a generic style for the application and specific styles for its contents:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> appStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"16px Fira Sans"</span> });
<span class="hljs-keyword">const</span> menuStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"bold"</span> });
</code></pre>
<p>Styles are only cascaded when <code>label</code> or <code>text</code> objects that use them are bound to the displayed containment hierarchy.</p>
<p>For Piu to find the corresponding bitmap font files in your assets, you have to adopt the following convention, based on common practices:</p>
<ul>
<li>the family, without spaces,</li>
<li><code>-</code>,</li>
<li>the capitalized name of the stretch, if not <code>normal</code>,</li>
<li>the capitalized name of the computed weight, if not <code>normal</code>,</li>
<li>the capitalized name of the style, if not <code>normal</code>,</li>
<li><code>Regular</code>, if the stretch, the computed weight and the style are all <code>normal</code>,</li>
<li><code>-</code>,</li>
<li>the computed size in pixels without units.</li>
</ul>
<p>Here above <code>style</code> will look for <code>OpenSans-BoldItalic-16.fnt</code>, <code>appStyle</code> will look for <code>FiraSans-Regular-16.fnt</code> and <code>menuStyle</code> will look for <code>FiraSans-Bold-16.fnt</code>.</p>
<h3>Tiles</h3>
<p>Applications can tile skins using their <code>tiles</code> property. The size of the tiles is determined by left, right, top, and bottom values, as follows:</p>
<ul>
<li>If no size values are defined, the skin becomes a 1-part pattern. The entire texture is repeated to fill the content.</li>
<li>If only <code>left</code> and <code>right</code> are defined, the skin becomes a horizontal 3-part pattern. The left part is drawn at the left of the content, the right part is drawn at the right of the content, and the center part is repeated to fill the center of the content.</li>
<li>If only <code>top</code> and <code>bottom</code> are defined, the skin becomes a vertical 3-part pattern. The top part is drawn at the top of the content, the bottom part is drawn at the bottom of the content, and the middle part is repeated to fill the middle of the content.</li>
<li>If all attributes are defined, the skin becomes a 9-part pattern. Corner parts are drawn in the corresponding corners of the content, side parts are repeated in the sides, and the middle part is repeated to fill the middle.</li>
</ul>
<p>Tiling skins allows content objects of different sizes to share a single asset. Here is an example that uses this 30x30 pixel background to fill arbitarily sized contents.</p>
<p><img src="../assets/piu/roundedRectangle.png" alt="" /></p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> roundedRectangleTexture = <span class="hljs-keyword">new</span> Texture(<span class="hljs-string">"roundedRectangle.png"</span>);
<span class="hljs-keyword">let</span> roundedRectangleSkin = <span class="hljs-keyword">new</span> Skin({ 
	<span class="hljs-attr">texture</span>: roundedRectangleTexture, 
	<span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">30</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">30</span>, 
	<span class="hljs-attr">tiles</span>: { <span class="hljs-attr">left</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">5</span> }
});

<span class="hljs-keyword">let</span> sampleStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"white"</span> });

<span class="hljs-keyword">let</span> smallText = <span class="hljs-keyword">new</span> Label(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">skin</span>: roundedRectangleSkin, <span class="hljs-attr">top</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">30</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">30</span>, 
	<span class="hljs-attr">style</span>: sampleStyle, <span class="hljs-attr">string</span>: <span class="hljs-string">"Hi"</span>
});
<span class="hljs-keyword">let</span> bigText = <span class="hljs-keyword">new</span> Text(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">skin</span>: roundedRectangleSkin, <span class="hljs-attr">top</span>: <span class="hljs-number">70</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">120</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,  
	<span class="hljs-attr">style</span>: sampleStyle, <span class="hljs-attr">string</span>: <span class="hljs-string">"This is a long string"</span>
});

application.add(smallText);
application.add(bigText);
</code></pre>
<p><img src="../assets/piu/skinTiles.png" alt="" /></p>
<h3>Variant, Variants, State, and States</h3>
<p>Applications often use the <code>state</code> and <code>variant</code> properties of <code>content</code> objects to update their appearance. Beacuse they can change dynamically, they can be used to animate <code>content</code> objects and provide visual feedback to touch events, for example.</p>
<h4>Colored skins and styles</h4>
<p>A common way that the <code>state</code> property is used is to update the color of contents. As described in the <a href="#color">Color section</a> of this document, the <code>fill</code> property of a <code>skin</code> or <code>style</code> object can be an array of colors. The <code>state</code> property of a <code>content</code> object using the <code>skin</code> determines the index of the array. If the state is not an integer, colors from surrounding states are blended.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> multiColoredSkin = <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: [<span class="hljs-string">"black"</span>, <span class="hljs-string">"white"</span>, <span class="hljs-string">"red"</span>] });
<span class="hljs-keyword">let</span> blackContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
	<span class="hljs-attr">top</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">80</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">80</span>, 
	<span class="hljs-attr">skin</span>: multiColoredSkin, <span class="hljs-attr">state</span>: <span class="hljs-number">0</span>, 
});
<span class="hljs-keyword">let</span> redContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
	<span class="hljs-attr">top</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">120</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">80</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">80</span>, 
	<span class="hljs-attr">skin</span>: multiColoredSkin, <span class="hljs-attr">state</span>: <span class="hljs-number">2</span>
});
<span class="hljs-keyword">let</span> grayContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
	<span class="hljs-attr">top</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">220</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">80</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">80</span>, 
	<span class="hljs-attr">skin</span>: multiColoredSkin, <span class="hljs-attr">state</span>: <span class="hljs-number">0.5</span> 
});
application.add(blackContent);
application.add(redContent);
application.add(grayContent);
</code></pre>
<p><img src="../assets/piu/states.png" alt="" /></p>
<h4>Reusing textures</h4>
<p>It is often convenient to store several icons or other user interface elements in a single image. Specifying <code>states</code> and <code>variants</code> properties in the dictionary of <code>skin</code> constructors enables you to reference different sections of the same texture. This prevents an application from having to reference similar images and create multiple skins.</p>
<p>The <code>states</code> and <code>variants</code> properties of a skin are numerical values used to define the size of a single element in the texture. The <code>states</code> property represents the vertical offset between states, and the <code>variants</code> property represents the horizontal offset between variants. Here is an example of an asset that includes ten 28x28 pixel icons in one image, and a <code>skin</code> that will allow applications to reference each icon separately.</p>
<p><img src="../assets/piu/wifi-strip.png" alt="" /></p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> wiFiStripTexture = <span class="hljs-keyword">new</span> Texture({ <span class="hljs-attr">path</span>:<span class="hljs-string">"wifi-strip.png"</span> });
<span class="hljs-keyword">const</span> wiFiSkin = <span class="hljs-keyword">new</span> Skin({ 
	<span class="hljs-attr">texture</span>: wiFiStripTexture, 
	<span class="hljs-attr">width</span>: <span class="hljs-number">28</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">28</span>, 
	<span class="hljs-attr">states</span>: <span class="hljs-number">28</span>, <span class="hljs-attr">variants</span>: <span class="hljs-number">28</span>
});
</code></pre>
<p>The <code>states</code> and <code>variants</code> properties of <code>texture</code> objects should not be confused with the <code>state</code> and <code>variant</code> properties of <code>content</code> objects, although they are related. The <code>state</code> and <code>variant</code> of a <code>content</code> object are used to select which area of their <code>skin</code> to render. Here is a visualization of the <code>state</code> and <code>variant</code> properties a <code>content</code> would use to reference different portions of the <code>skin</code> object from the last example.</p>
<p><img src="../assets/piu/wifi-strip.gif" alt="" /></p>
<p>The <code>state</code> and <code>variant</code> of a <code>content</code> can be updated at any time. This is often done when an event is triggered.</p>
<pre><code class="language-javscript">let WiFiStatusIcon = Content.template($ =&gt; ({
    skin: wiFiSkin, state: $.passwordProtected, variant: 0,
    interval: 500, duration: 2500, loop: true,
    active: true,
    Behavior: class extends Behavior {
    	onDisplaying(content) {
    		content.start();
    	}
        onTimeChanged(content) {
        	let variant = content.variant;
        	variant++;
        	if (variant &gt; 4) variant = 0;
        	content.variant = variant;
        }
    }
}));
application.add(new WiFiStatusIcon({ passwordProtected: false }, { top: 20, right: 20 }));
application.add(new WiFiStatusIcon({ passwordProtected: true }, { top: 58, right: 20 }));
</code></pre>
<p><img src="../assets/piu/stateAndVariant.gif" alt="" /></p>
<h2>Piu Object Reference</h2>
<p>This section provides details on the objects that define the Piu API. For each object, the following information is presented if relevant:</p>
<ul>
<li>
<p><strong>Source Code</strong>: A link to the source code for the object</p>
</li>
<li>
<p><strong>Relevant Examples</strong>: Links to example apps that demonstrate how to use the object</p>
</li>
<li>
<p><strong>Constructor Description</strong>: A description of the object's constructor(s)</p>
</li>
<li>
<p><strong>Dictionary</strong>: Present when additional information is needed regarding the dictionary passed to the object's dictionary-based constructor; describes the properties that the dictionary may contain. Dictionary parameters set properties having the same name (unless noted otherwise) in the created instance.</p>
</li>
<li>
<p><strong>Prototype Description</strong>: The prototype from which this object's prototype inherits and descriptions of any properties and functions specific to this object's prototype</p>
</li>
<li>
<p><strong>Events</strong>: Descriptions of the events that the object triggers</p>
</li>
</ul>
<p>For the complete JavaScript programming interface, see <a href="../../modules/piu/All/piuAll.js" title="piuAll.js"><code>piuAll.js</code></a>.</p>
<h3>Application Object</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../modules/piu/All/piuApplication.c" title="piuApplication.c"><code>piuApplication.c</code></a></li>
<li><strong>Relevant Examples:</strong> all</li>
</ul>
<p>All Piu applications must have an <code>application</code> object at the root of their containment hierarchy. All other <code>content</code> objects must be added to the <code>application</code> to appear on screen.</p>
<p>There is no default object, so you have to create one yourself and export it in the main module.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> Application();
</code></pre>
<p>Alternatively, you can export a function that returns an <code>application</code> object.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
	<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Application();
}
</code></pre>
<h4>Constructor Description</h4>
<h5><code>Application([behaviorData, dictionary])</code></h5>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>behaviorData</code></td>
<td><code>*</code></td>
<td style="text-align:left">A parameter that is passed into the <code>onCreate</code> function of this container's <code>behavior</code>. This may be any type of object, including <code>null</code> or a dictionary with arbitrary parameters.</td>
</tr>
<tr>
<td><code>dictionary</code></td>
<td><code>object</code></td>
<td style="text-align:left">An object with properties to initialize the result. Only parameters specified in the <a href="#dictionary">Dictionary</a> section below will have an effect; other parameters will be ignored.</td>
</tr>
</tbody>
</table>
<p>Returns an <code>application</code> instance, an object that inherits from <code>Container.prototype</code>.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> Application(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span> }),
});
</code></pre>
<p><img src="../assets/piu/sampleApplication1.png" alt="" /></p>
<h5><code>Application.template(anonymous)</code></h5>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>anonymous</code></td>
<td><code>function</code></td>
<td style="text-align:left">A function that returns an object with properties to initialize the instances that the result creates</td>
</tr>
</tbody>
</table>
<p>Returns a constructor, a function that creates instances of <code>Application.prototype</code>. The <code>prototype</code> property of the result is <code>Application.prototype</code>. The result also provides a <code>template</code> function.</p>
<pre><code class="language-javascript"><span class="hljs-comment">// Taken from the balls example app</span>

...

let BallApplication = Application.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">skin</span>:backgroundSkin,
	<span class="hljs-attr">contents</span>: [
		Content(<span class="hljs-number">6</span>, { <span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">skin</span>:ballSkin, <span class="hljs-attr">variant</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">Behavior</span>: BallBehavior } ),
		Content(<span class="hljs-number">5</span>, { <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">skin</span>:ballSkin, <span class="hljs-attr">variant</span>:<span class="hljs-number">1</span>, <span class="hljs-attr">Behavior</span>: BallBehavior } ),
		Content(<span class="hljs-number">4</span>, { <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">skin</span>:ballSkin, <span class="hljs-attr">variant</span>:<span class="hljs-number">2</span>, <span class="hljs-attr">Behavior</span>: BallBehavior } ),
		Content(<span class="hljs-number">3</span>, { <span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">skin</span>:ballSkin, <span class="hljs-attr">variant</span>:<span class="hljs-number">3</span>, <span class="hljs-attr">Behavior</span>: BallBehavior } ),
	]
}));

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> BallApplication(<span class="hljs-literal">null</span>, { <span class="hljs-attr">displayListLength</span>:<span class="hljs-number">4096</span>, <span class="hljs-attr">touchCount</span>:<span class="hljs-number">0</span> });
</code></pre>
<h4>Dictionary</h4>
<p>Same as for <code>container</code> object (see <a href="#container-dictionary">Dictionary</a> in the section <a href="#container-object">Container Object</a>), plus:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>displayListLength</code></td>
<td><code>number</code></td>
<td style="text-align:left">The size of the display list buffer in bytes</td>
</tr>
<tr>
<td><code>touchCount</code></td>
<td><code>number</code></td>
<td style="text-align:left">The number of touch events that can trigger at the same time</td>
</tr>
</tbody>
</table>
<h4>Prototype Description</h4>
<p>Prototype inherits from <code>Container.prototype</code>.</p>
<h3>Behavior Object</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../modules/piu/All/piuBehavior.c" title="piuBehavior.c"><code>piuBehavior.c</code></a></li>
<li><strong>Relevant Examples:</strong> <a href="../../examples/piu/balls" title="balls">balls</a>, <a href="../../examples/piu/drag" title="drag">drag</a></li>
</ul>
<p>The <code>behavior</code> object contains functions corresponding to events triggered by a <code>content</code> object. A <code>content</code> object checks whether its behavior owns or inherits a function property with the name of the event, and if so calls that function, passing itself as the first parameter.</p>
<h4>Constructor Description</h4>
<p>Applications define their own constructors for <code>behavior</code> objects, which inherit from <code>Behavior.prototype</code> and assign them to <code>content</code> objects when they are constructed. When a <code>content</code> object is constructed, it creates an instance of the behavior class assigned to it and triggers the behavior's <code>onCreate</code> event. This function does nothing by default; a behavior can use it to initialize its properties, for example.</p>
<pre><code class="language-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SampleBehavior</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
	onCreate(content, data) {
		<span class="hljs-keyword">this</span>.name = data.name;
	}
	onTouchEnded(content) {
		trace(<span class="hljs-string">`Name is: <span class="hljs-subst">${<span class="hljs-keyword">this</span>.name}</span>\n`</span>);	<span class="hljs-comment">// "Name is: Moddable"</span>
	}
}

<span class="hljs-keyword">let</span> sampleContent = <span class="hljs-keyword">new</span> Content({ <span class="hljs-attr">name</span>: <span class="hljs-string">"Moddable"</span> }, { 
    <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span>}),
    <span class="hljs-attr">Behavior</span>: SampleBehavior
});
application.add(sampleContent);
</code></pre>
<p><img src="../assets/piu/behaviorSample.gif" alt="Behavior Sample" /></p>
<h4>Prototype Description</h4>
<p>Prototype inherits from <code>Object.prototype</code>.</p>
<h3>Column Object</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../modules/piu/All/piuColumn.c" title="piuColumn.c"><code>piuColumn.c</code></a></li>
<li><strong>Relevant Examples:</strong> <a href="../../examples/piu/keyboard" title="keyboard">keyboard</a>, <a href="../../examples/piu/weather" title="weather">weather</a></li>
</ul>
<p>The <code>column</code> object is a <code>container</code> object that arranges its contents vertically.</p>
<h4>Constructor Description</h4>
<h5><code>Column([behaviorData, dictionary])</code></h5>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>behaviorData</code></td>
<td><code>*</code></td>
<td style="text-align:left">A parameter that is passed into the <code>onCreate</code> function of this content's <code>behavior</code>. This may be any type of object, including <code>null</code> or a dictionary with arbitrary parameters.</td>
</tr>
<tr>
<td><code>dictionary</code></td>
<td><code>object</code></td>
<td style="text-align:left">An object with properties to initialize the result. The dictionary is the same as for the <code>content</code> object. Only parameters specified in the <a href="#content-dictionary">Dictionary</a> section of the <a href="#container-object">Content Object</a> will have an effect; other parameters will be ignored.</td>
</tr>
</tbody>
</table>
<p>Returns a <code>column</code> instance, an object that inherits from <code>Column .prototype</code></p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> ColoredSquare = Content.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $ })
}));

<span class="hljs-keyword">let</span> sampleColumn = <span class="hljs-keyword">new</span> Column(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">contents</span>: [
		<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"red"</span>),
		<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"blue"</span>),
		<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"black"</span>),
	]
});
application.add(sampleColumn);
</code></pre>
<p><img src="../assets/piu/sampleColumn1.png" alt="" /></p>
<h5><code>Column.template(anonymous)</code></h5>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>anonymous</code></td>
<td><code>function</code></td>
<td style="text-align:left">A function that returns an object with properties to initialize the instances that the result creates</td>
</tr>
</tbody>
</table>
<p>Returns a constructor, a function that creates instances of <code>Column.prototype</code>. The <code>prototype</code> property of the result is <code>Column.prototype</code>. The result also provides a <code>template</code> function.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> ColoredSquare = Content.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $ })
}));

<span class="hljs-keyword">let</span> SampleColumn = Column.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">contents</span>: [
		<span class="hljs-keyword">new</span> ColoredSquare($.firstColor),
		<span class="hljs-keyword">new</span> ColoredSquare($.secondColor),
	],
}));
application.add(<span class="hljs-keyword">new</span> SampleColumn({ <span class="hljs-attr">firstColor</span>:<span class="hljs-string">"red"</span>, <span class="hljs-attr">secondColor</span>:<span class="hljs-string">"blue"</span> }));
</code></pre>
<p><img src="../assets/piu/sampleColumn2.png" alt="" /></p>
<h4>Prototype Description</h4>
<p>Prototype inherits from <code>Container.prototype</code>.</p>
<p><a id="column-events"></a></p>
<h4>Events</h4>
<p>Same as for <code>container</code> object (see <a href="#container-events">Events</a> in the section <a href="#container-object">Container Object</a>)</p>
<h3>Container Object</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../modules/piu/All/piuContainer.c" title="piuContainer.c"><code>piuContainer.c</code></a></li>
<li><strong>Relevant Examples:</strong> <a href="../../examples/piu/drag" title="drag">drag</a>, <a href="../../examples/piu/transitions" title="transitions">transitions</a></li>
</ul>
<p>The <code>container</code> object is a <code>content</code> object that can contain other <code>content</code> objects. In a container, <code>content</code> objects are stored in a doubly linked list. The <code>content</code> objects can also be accessed by index or by name using the <code>content</code> property, for instance <code>container.content(0)</code> or <code>container.content(&quot;foo&quot;)</code>.</p>
<h4>Constructor Description</h4>
<h5><code>Container([behaviorData, dictionary])</code></h5>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>behaviorData</code></td>
<td><code>*</code></td>
<td style="text-align:left">A parameter that is passed into the <code>onCreate</code> function of this container's <code>behavior</code>. This may be any type of object, including <code>null</code> or a dictionary with arbitrary parameters.</td>
</tr>
<tr>
<td><code>dictionary</code></td>
<td><code>object</code></td>
<td style="text-align:left">An object with properties to initialize the result.Only parameters specified in the <a href="#container-dictionary">Dictionary</a> section below will have an effect; other parameters will be ignored.</td>
</tr>
</tbody>
</table>
<p>Returns a <code>container</code> instance, an object that inherits from <code>Container.prototype</code>.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> ColoredSquare = Content.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $ })
}));

<span class="hljs-keyword">let</span> sampleContainer = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, { 
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span>}),
	<span class="hljs-attr">contents</span>: [
		<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"blue"</span>, { <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span> }),
		<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"red"</span>, { <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">50</span> }),
		<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"black"</span>, { <span class="hljs-attr">left</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span> }),
	]
})
application.add(sampleContainer);
</code></pre>
<p><img src="../assets/piu/sampleContainer1.png" alt="" /></p>
<h5><code>Container.template(anonymous)</code></h5>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>anonymous</code></td>
<td><code>function</code></td>
<td style="text-align:left">A function that returns an object with properties to initialize the instances that the result creates</td>
</tr>
</tbody>
</table>
<p>Returns a constructor, a function that creates instances of <code>Container.prototype</code>. The <code>prototype</code> property of the result is <code>Container.prototype</code>. The result also provides a <code>template</code> function.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> ColoredSquare = Content.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $ })
}));

<span class="hljs-keyword">let</span> SampleContainer = Container.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({ 
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $.backgroundColor }),
	<span class="hljs-attr">contents</span>: [
		<span class="hljs-keyword">new</span> ColoredSquare( $.squareColor ),
	]
}));
application.add(<span class="hljs-keyword">new</span> SampleContainer({ <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">"white"</span>, <span class="hljs-attr">squareColor</span>: <span class="hljs-string">"blue"</span> }));
</code></pre>
<p><img src="../assets/piu/sampleContainer2.png" alt="" /></p>
<p><a id="container-dictionary"></a></p>
<h4>Dictionary</h4>
<p>Same as for <code>content</code> object (see <a href="#content-dictionary">Dictionary</a> in the section <a href="#content-object">Content Object</a>), plus:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>clip</code></td>
<td><code>boolean</code></td>
<td style="text-align:left">If <code>true</code>, this container will clip its contents.</td>
</tr>
</tbody>
</table>
<h4>Prototype Description</h4>
<p>Prototype inherits from <code>Content.prototype</code>.</p>
<p><a id="container-properties"></a></p>
<h5>Properties</h5>
<p>Same as for <code>content</code> object (see <a href="#content-properties">Properties</a> in the section <a href="#content-object">Content Object</a>), plus:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default Value</th>
<th>Read Only</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>clip</code></td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td></td>
<td style="text-align:left">If <code>true</code>, this container clips its contents.</td>
</tr>
<tr>
<td><code>first</code></td>
<td><code>object</code></td>
<td></td>
<td>✓</td>
<td style="text-align:left">The first <code>content</code> object in this container, or <code>null</code> if this container is empty</td>
</tr>
<tr>
<td><code>last</code></td>
<td><code>object</code></td>
<td></td>
<td>✓</td>
<td style="text-align:left">The last <code>content</code> object in this container, or <code>null</code> if this container is empty</td>
</tr>
<tr>
<td><code>length</code></td>
<td><code>number</code></td>
<td></td>
<td>✓</td>
<td style="text-align:left">The number of <code>content</code> objects in this container</td>
</tr>
<tr>
<td><code>transitioning</code></td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>✓</td>
<td style="text-align:left">If <code>true</code>, this container is running a <code>transition</code> object.</td>
</tr>
</tbody>
</table>
<p><a id="container-functions"></a></p>
<h5>Functions</h5>
<p><strong><code>add(content)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content</code></td>
<td><code>content</code></td>
<td style="text-align:left">The <code>content</code> object to add. It must be unbound; that is, its container must be <code>null</code>.</td>
</tr>
</tbody>
</table>
<p>Adds the specified <code>content</code> object to this container. The <code>content</code> object becomes the last <code>content</code> object in this container.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> ColoredSquare = Content.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $ })
}));
<span class="hljs-keyword">let</span> sampleContainer = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, { 
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
});

sampleContainer.add(<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"black"</span>, {<span class="hljs-attr">bottom</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">15</span>}));
sampleContainer.add(<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"blue"</span>, {<span class="hljs-attr">left</span>: <span class="hljs-number">100</span>}));
sampleContainer.add(<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"green"</span>, {<span class="hljs-attr">top</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">10</span>}));
application.add(sampleContainer);
</code></pre>
<p><img src="../assets/piu/containerAdd.png" alt="" /></p>
<hr />
<p><strong><code>content(at)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>at</code></td>
<td><code>number</code> or <code>string</code></td>
<td style="text-align:left">The <code>index</code> or <code>name</code> property of the <code>content</code> object you want to access</td>
</tr>
</tbody>
</table>
<p>Returns the specified <code>content</code> object, or <code>undefined</code> if no content with the <code>index</code> or <code>name</code> specified is in this container</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleContainer = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">contents</span>: [
		<span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">"Moddable"</span> }),
		<span class="hljs-keyword">new</span> Content(),
	]
});
<span class="hljs-keyword">let</span> namedContent = sampleContainer.content(<span class="hljs-string">"Moddable"</span>);
<span class="hljs-keyword">let</span> unnamedContent = sampleContainer.content(<span class="hljs-number">1</span>);
<span class="hljs-keyword">let</span> nonexistentContent = sampleContainer.content(<span class="hljs-string">"Nonexistent"</span>);	<span class="hljs-comment">// undefined</span>
</code></pre>
<hr />
<p><strong><code>empty([start, stop])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>start</code></td>
<td><code>number</code></td>
<td style="text-align:left">The starting index</td>
</tr>
<tr>
<td><code>stop</code></td>
<td><code>number</code></td>
<td style="text-align:left">The stopping index (<code>this.length</code> by default)</td>
</tr>
</tbody>
</table>
<p>Removes <code>content</code> objects from this container, starting at index <code>start</code> and stopping at index <code>stop</code>. If <code>start</code> or <code>stop</code> is less than 0, it is an offset from <code>this.length</code>.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> ColoredSquare = Content.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $ })
}));

<span class="hljs-keyword">let</span> sampleContainer = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, { 
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
	<span class="hljs-attr">contents</span>: [
		<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"blue"</span>, { <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>:<span class="hljs-number">0</span> }),
		<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"red"</span>, { <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span> })
	]
});

sampleContainer.empty();
application.add(sampleContainer);
</code></pre>
<p><img src="../assets/piu/containerEmpty.png" alt="" /></p>
<hr />
<p><strong><code>firstThat(id [, ...])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td><code>string</code></td>
<td style="text-align:left">The name of the event to trigger</td>
</tr>
<tr>
<td><code>...</code></td>
<td><code>*</code></td>
<td style="text-align:left">Zero or more extra parameters</td>
</tr>
</tbody>
</table>
<p>Causes all <code>content</code> objects in this container to trigger an event named by the value of <code>id</code>. The order of traversal is from the first to the last. Traversal halts when a distributed event returns <code>true</code>. Note that the first parameter of a distributed event is the <code>content</code> object that triggers the event, not this container. Additional parameters, if any, of the event are the extra parameters of the <code>firstThat</code> function.</p>
<pre><code class="language-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SampleBehavior</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
	sampleEvent(content) {
		trace(content.name+<span class="hljs-string">" triggered\n"</span>);
		<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
	}
}

<span class="hljs-keyword">let</span> sampleContainer = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, { 
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
	<span class="hljs-attr">contents</span>: [
		Content(<span class="hljs-literal">null</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">"firstContent"</span> }),
		Content(<span class="hljs-literal">null</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">"secondContent"</span>, <span class="hljs-attr">Behavior</span>: SampleBehavior }),
		Content(<span class="hljs-literal">null</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">"thirdContent"</span>, <span class="hljs-attr">Behavior</span>: SampleBehavior }),
	],
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onDisplaying(container) {
			container.firstThat(<span class="hljs-string">"sampleEvent"</span>);	<span class="hljs-comment">// "secondContent triggered" will be traced here</span>
		}
	}
});
application.add(sampleContainer);
</code></pre>
<hr />
<p><strong><code>insert(content, before)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content</code></td>
<td><code>content</code></td>
<td style="text-align:left">The <code>content</code> object to insert. Its container must be <code>null</code>.</td>
</tr>
<tr>
<td><code>before</code></td>
<td><code>object</code></td>
<td style="text-align:left">The <code>content</code> object before which to insert. Its container must be this container.</td>
</tr>
</tbody>
</table>
<p>Inserts one <code>content</code> object before another in this container as specified by the parameters</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> ColoredSquare = Content.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
    <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $ })
}));

<span class="hljs-keyword">let</span> sampleContainer = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, { 
    <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
    <span class="hljs-attr">contents</span>: [
        <span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"blue"</span>, { <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>:<span class="hljs-number">0</span> }),
    ]
});
<span class="hljs-keyword">let</span> redSquare = <span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"red"</span>, { <span class="hljs-attr">top</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">20</span>, });
sampleContainer.insert(redSquare, sampleContainer.first);
application.add(sampleContainer);
</code></pre>
<p><img src="../assets/piu/containerInsert.png" alt="" /></p>
<hr />
<p><strong><code>lastThat(id [, ...])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td><code>string</code></td>
<td style="text-align:left">The name of the event to trigger</td>
</tr>
<tr>
<td><code>...</code></td>
<td><code>*</code></td>
<td style="text-align:left">Zero or more extra parameters</td>
</tr>
</tbody>
</table>
<p>Causes all <code>content</code> objects in this container to trigger an event named by the value of <code>id</code>. The order of traversal is from the last to the first. Traversal halts when a distributed event returns <code>true</code>. Note that the first parameter of a distributed event is the <code>content</code> object that triggers the event, not this container. Additional parameters, if any, of the event are the extra parameters of the <code>lastThat</code> function.</p>
<pre><code class="language-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SampleBehavior</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
	sampleEvent(content) {
		trace(content.name+<span class="hljs-string">" triggered\n"</span>);
		<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
	}
}

<span class="hljs-keyword">let</span> sampleContainer = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, { 
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
	<span class="hljs-attr">contents</span>: [
		Content(<span class="hljs-literal">null</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">"firstContent"</span> }),
		Content(<span class="hljs-literal">null</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">"secondContent"</span>, <span class="hljs-attr">Behavior</span>: SampleBehavior }),
		Content(<span class="hljs-literal">null</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">"thirdContent"</span>, <span class="hljs-attr">Behavior</span>: SampleBehavior }),
	],
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onDisplaying(container) {
			container.lastThat(<span class="hljs-string">"sampleEvent"</span>);	<span class="hljs-comment">// "thirdContent triggered" will be traced here</span>
		}
	}
});
application.add(sampleContainer);
</code></pre>
<hr />
<p><strong><code>remove(content)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content</code></td>
<td><code>content</code></td>
<td style="text-align:left">The <code>content</code> object to remove. Its container must be this container.</td>
</tr>
</tbody>
</table>
<p>Removes the specified <code>content</code> object from this container</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> ColoredSquare = Content.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $ })
}));

<span class="hljs-keyword">let</span> redSquare = <span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"red"</span>);
<span class="hljs-keyword">let</span> blueSquare = <span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"blue"</span>);

<span class="hljs-keyword">let</span> sampleContainer = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, { 
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
	<span class="hljs-attr">contents</span>: [
		redSquare,
		blueSquare,
	],
});
sampleContainer.remove(redSquare);
application.add(sampleContainer);
</code></pre>
<p><img src="../assets/piu/containerRemove.png" alt="" /></p>
<hr />
<p><strong><code>replace(content, by)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content</code></td>
<td><code>content</code></td>
<td style="text-align:left">The <code>content</code> object to replace. Its container must be this container.</td>
</tr>
<tr>
<td><code>by</code></td>
<td><code>content</code></td>
<td style="text-align:left">The replacing <code>content</code> object. It must be unbound; that is, its container must be <code>null</code>.</td>
</tr>
</tbody>
</table>
<p>Replaces one <code>content</code> object with another in this container as specified by the parameters</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> ColoredSquare = Content.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $ })
}));

<span class="hljs-keyword">let</span> redSquare = <span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"red"</span>);
<span class="hljs-keyword">let</span> blueSquare = <span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"blue"</span>);

<span class="hljs-keyword">let</span> sampleContainer = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, { 
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
	<span class="hljs-attr">contents</span>: [
		blueSquare,
	],
});
sampleContainer.replace(blueSquare, redSquare);
application.add(sampleContainer);
</code></pre>
<p><img src="../assets/piu/containerReplace.png" alt="" /></p>
<hr />
<p><strong><code>run(transition [, ...])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>transition</code></td>
<td><code>transition</code></td>
<td style="text-align:left">The <code>transition</code> object to run</td>
</tr>
<tr>
<td><code>...</code></td>
<td><code>*</code></td>
<td style="text-align:left">Zero or more extra parameters</td>
</tr>
</tbody>
</table>
<p>Runs the specified <code>transition</code> object in this container, binding that object to this container for the duration of the transition. The extra parameters are passed to the <code>onBegin</code> and <code>onEnd</code> functions of the <code>transition</code> object. The container triggers the <code>onTransitionBeginning</code> event before the transition starts and the <code>onTransitionEnded</code> event after the transition ends.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">import</span> CombTransition <span class="hljs-keyword">from</span> <span class="hljs-string">"piu/CombTransition"</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SwitchScreenBehavior</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
	onCreate(content, data) {
		<span class="hljs-keyword">this</span>.data = data;
	}
	onTouchEnded(content) {
		<span class="hljs-keyword">let</span> data = <span class="hljs-keyword">this</span>.data;
		<span class="hljs-keyword">let</span> transition = <span class="hljs-keyword">new</span> CombTransition(<span class="hljs-number">250</span>, <span class="hljs-built_in">Math</span>.quadEaseOut, <span class="hljs-string">"horizontal"</span>, <span class="hljs-number">4</span>);
		<span class="hljs-keyword">let</span> nextScreen = <span class="hljs-keyword">new</span> ColoredScreen({ <span class="hljs-attr">color</span>: data.nextColor, <span class="hljs-attr">nextColor</span>: data.color })
		application.run(transition, application.first, nextScreen);
	}
}
<span class="hljs-keyword">let</span> ColoredScreen = Container.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, 
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $.color }),
	<span class="hljs-attr">contents</span>: [
		Content($, {
			<span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, 
			<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $.nextColor }),
			<span class="hljs-attr">Behavior</span>: SwitchScreenBehavior
		})
	]
}));
application.add(<span class="hljs-keyword">new</span> ColoredScreen({ <span class="hljs-attr">color</span>: <span class="hljs-string">"red"</span>, <span class="hljs-attr">nextColor</span>: <span class="hljs-string">"blue"</span> }));
</code></pre>
<p><img src="../assets/piu/containerRun.gif" alt="" /></p>
<hr />
<p><strong><code>swap(content0, content1)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content0, content1</code></td>
<td><code>content</code></td>
<td style="text-align:left">The <code>content</code> objects to swap. The container of both objects must be this container.</td>
</tr>
</tbody>
</table>
<p>Swaps the specified <code>content</code> objects in this container</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> ColoredSquare = Content.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
    <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $ })
}));

<span class="hljs-keyword">let</span> sampleContainer = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, { 
    <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
    <span class="hljs-attr">contents</span>: [
        <span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"blue"</span>, { <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>:<span class="hljs-number">0</span> }),
        <span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"red"</span>, { <span class="hljs-attr">top</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">left</span>:<span class="hljs-number">50</span> }),
    ],
    <span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
    	onTouchEnded(container) {
    		container.swap(container.first, container.last);
    	}
    }
});
application.add(sampleContainer);
</code></pre>
<p><img src="../assets/piu/containerSwap.gif" alt="" /></p>
<hr />
<p><a id="container-events"></a></p>
<h4>Events</h4>
<p>Same as for <code>content</code> object (see <a href="#content-events">Events</a> in the section <a href="#content-object">Content Object</a>), plus:</p>
<p><strong><code>onTransitionBeginning(container)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>container</code></td>
<td><code>container</code></td>
<td style="text-align:left">The <code>container</code> object that triggered the event</td>
</tr>
</tbody>
</table>
<p>This event is triggered when a <code>transition</code> object starts in the specified <code>container</code> object.</p>
<hr />
<p><strong><code>onTransitionEnded(container)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>container</code></td>
<td><code>container</code></td>
<td style="text-align:left">The <code>container</code> object that triggered the event</td>
</tr>
</tbody>
</table>
<p>This event is triggered when a <code>transition</code> object ends in the specified <code>container</code> object.</p>
<hr />
<h3>Content Object</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../modules/piu/All/piuContent.c" title="piuContent.c"><code>piuContent.c</code></a></li>
<li><strong>Relevant Examples:</strong> <a href="../../examples/piu/balls" title="balls">balls</a>, <a href="../../examples/piu/keyboard" title="keyboard">love-js</a></li>
</ul>
<p>Applications use <code>content</code> objects for graphical parts of their user interface, such as buttons, icons, sliders, switches, and tabs.</p>
<h4>Constructor Description</h4>
<h5><code>Content([behaviorData, dictionary])</code></h5>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>behaviorData</code></td>
<td><code>*</code></td>
<td style="text-align:left">A parameter that is passed into the <code>onCreate</code> function of this content's <code>behavior</code>. This may be any type of object, including <code>null</code> or a dictionary with arbitrary parameters.</td>
</tr>
<tr>
<td><code>dictionary</code></td>
<td><code>object</code></td>
<td style="text-align:left">An object with properties to initialize the result. Only parameters specified in the <a href="#content-dictionary">Dictionary</a> section below will have an effect; other parameters will be ignored.</td>
</tr>
</tbody>
</table>
<p>Returns a <code>content</code> instance, an object that inherits from <code>Content.prototype</code></p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-string">"Hello"</span>, { 
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span>}),
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onCreate(content, data) {
			trace(<span class="hljs-string">`<span class="hljs-subst">${data}</span>\n`</span>);		<span class="hljs-comment">// Prints "Hello" to console</span>
		}
	}
})
application.add(sampleContent);
</code></pre>
<p><img src="../assets/piu/sampleContent1.png" alt="" /></p>
<h5><code>Content.template(anonymous)</code></h5>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>anonymous</code></td>
<td><code>function</code></td>
<td style="text-align:left">A function that returns an object with properties to initialize the instances that the result creates</td>
</tr>
</tbody>
</table>
<p>Returns a constructor, a function that creates instances of <code>Content.prototype</code>. The <code>prototype</code> property of the result is <code>Content.prototype</code>. The result also provides a <code>template</code> function.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> SampleContent = Content.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({ 
	<span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: $.color}),
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onCreate(content, data) {
			trace(<span class="hljs-string">`This box is <span class="hljs-subst">${data.color}</span>\n`</span>);		<span class="hljs-comment">// Prints "This box is red" to console</span>
		}
	}
}));
application.add(<span class="hljs-keyword">new</span> SampleContent({<span class="hljs-attr">color</span>: <span class="hljs-string">"red"</span>}, {<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">50</span>}));
application.add(<span class="hljs-keyword">new</span> SampleContent({<span class="hljs-attr">color</span>: <span class="hljs-string">"blue"</span>}));
</code></pre>
<p><img src="../assets/piu/sampleContent2.png" alt="" /></p>
<p><a id="content-dictionary"></a></p>
<h4>Dictionary</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>active</code></td>
<td><code>boolean</code></td>
<td style="text-align:left">If <code>true</code>, this content can be touched; that is, it triggers touch events.</td>
</tr>
<tr>
<td><code>anchor</code></td>
<td><code>string</code></td>
<td style="text-align:left">Creates an anchor, a reference to the created <code>content</code> object in the instantiating data</td>
</tr>
<tr>
<td><code>backgroundTouch</code></td>
<td><code>boolean</code></td>
<td style="text-align:left">If <code>true</code>, this container receives any touch events that are received by its contents; that is, it will trigger touch events when one of its contents has been touched.</td>
</tr>
<tr>
<td><code>Behavior</code></td>
<td><code>function</code></td>
<td style="text-align:left">A function that creates instances of <code>Behavior.prototype</code>; generally a class that extends the <code>Behavior</code> class. This content will create an instance of this <code>behavior</code>, set its <code>behavior</code> parameter to the created instance, and trigger the <code>onCreate</code> method.</td>
</tr>
<tr>
<td><code>bottom</code></td>
<td><code>number</code></td>
<td style="text-align:left">This content's <code>bottom</code> coordinate, in pixels (setting <code>bottom</code> in the created instance's <code>coordinates</code> property)</td>
</tr>
<tr>
<td><code>duration</code></td>
<td><code>number</code></td>
<td style="text-align:left">This content's duration, in milliseconds. This content triggers the <code>onFinished</code> event when its clock is running and its time equals its duration.</td>
</tr>
<tr>
<td><code>exclusiveTouch</code></td>
<td><code>boolean</code></td>
<td style="text-align:left">If <code>true</code>, this content always captures touches; that is, <code>captureTouch</code> is implicitly invoked on <code>onTouchDown</code> for this content. Setting <code>exclusiveTouch</code> to <code>true</code> is equivalent to calling <code>captureTouch</code> in response to the <code>onTouchDown</code> event for every touch id.</td>
</tr>
<tr>
<td><code>fraction</code></td>
<td><code>number</code></td>
<td style="text-align:left">This content's fraction--that is, the ratio of its time to its duration</td>
</tr>
<tr>
<td><code>height</code></td>
<td><code>number</code></td>
<td style="text-align:left">This content's height, in pixels (setting <code>height</code> in the created instance's <code>coordinates</code> property)</td>
</tr>
<tr>
<td><code>interval</code></td>
<td><code>number</code></td>
<td style="text-align:left">The time between ticks of this content's clock--that is, number of milliseconds between triggering the <code>onTimeChanged</code> events of the content's behavior when its clock is running.</td>
</tr>
<tr>
<td><code>left</code></td>
<td><code>number</code></td>
<td style="text-align:left">This content's <code>left</code> coordinate, in pixels (setting <code>left</code> in the created instance's <code>coordinates</code> property)</td>
</tr>
<tr>
<td><code>loop</code></td>
<td><code>boolean</code></td>
<td style="text-align:left">If <code>true</code>, this content will restart its clock when its time equals its duration</td>
</tr>
<tr>
<td><code>multipleTouch</code></td>
<td><code>boolean</code></td>
<td style="text-align:left">If <code>true</code>, this content handles multiple touches.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>string</code></td>
<td style="text-align:left">This content's name</td>
</tr>
<tr>
<td><code>right</code></td>
<td><code>number</code></td>
<td style="text-align:left">This content's <code>right</code> coordinate, in pixels (setting <code>right</code> in the created instance's <code>coordinates</code> property)</td>
</tr>
<tr>
<td><code>skin</code></td>
<td><code>skin</code></td>
<td style="text-align:left">This content's skin</td>
</tr>
<tr>
<td><code>Skin</code></td>
<td><code>function</code></td>
<td style="text-align:left">A function that creates instances of <code>Skin.prototype</code>. This content will create an instance of this <code>skin</code>, and set its <code>skin</code> parameter to the created instance.</td>
</tr>
<tr>
<td><code>state</code></td>
<td><code>number</code></td>
<td style="text-align:left">This content's state. If this content's skin defines states, setting the state changes the appearance of this content.</td>
</tr>
<tr>
<td><code>style</code></td>
<td><code>style</code></td>
<td style="text-align:left">This content's style</td>
</tr>
<tr>
<td><code>Style</code></td>
<td><code>function</code></td>
<td style="text-align:left">A function that creates instances of <code>Style.prototype</code>. This content will create an instance of this <code>style</code>, and set its <code>style</code> parameter to the created instance.</td>
</tr>
<tr>
<td><code>time</code></td>
<td><code>number</code></td>
<td style="text-align:left">This content's time, in milliseconds. When its time is set, this content triggers the <code>onTimeChanged</code> event.</td>
</tr>
<tr>
<td><code>top</code></td>
<td><code>number</code></td>
<td style="text-align:left">This content's <code>top</code> coordinate, in pixels (setting <code>top</code> in the created instance's <code>coordinates</code> property)</td>
</tr>
<tr>
<td><code>variant</code></td>
<td><code>number</code></td>
<td style="text-align:left">This content's variant. If this content's skin defines variants, setting the variant changes the appearance of this content.</td>
</tr>
<tr>
<td><code>visible</code></td>
<td><code>boolean</code></td>
<td style="text-align:left">If <code>true</code>, this content is visible.</td>
</tr>
<tr>
<td><code>width</code></td>
<td><code>number</code></td>
<td style="text-align:left">This content's width, in pixels (setting <code>width</code> in the created instance's <code>coordinates</code> property)</td>
</tr>
</tbody>
</table>
<h4>Prototype Description</h4>
<p>Prototype inherits from <code>Object.prototype</code>.</p>
<p><a id="content-properties"></a></p>
<h5>Properties</h5>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default Value</th>
<th>Read Only</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>active</code></td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td></td>
<td style="text-align:left">If <code>true</code>, this content can be touched; that is, it triggers touch events.</td>
</tr>
<tr>
<td><code>anchor</code></td>
<td><code>string</code></td>
<td>The identifier of the property that references this content object in its instantiating data</td>
<td></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td><code>backgroundTouch</code></td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td></td>
<td style="text-align:left">If <code>true</code>, this container receives any touch events that are received by its contents; that is, it will trigger touch events when one of its contents has been touched.</td>
</tr>
<tr>
<td><code>behavior</code></td>
<td><code>object</code></td>
<td><code>null</code></td>
<td></td>
<td style="text-align:left">This content's <code>behavior</code> object or <code>null</code>. When this content triggers an event, it calls the corresponding function property of its behavior, if any.</td>
</tr>
<tr>
<td><code>bounds</code></td>
<td><code>object</code></td>
<td></td>
<td></td>
<td style="text-align:left">This content's global position and size, as an object with <code>x</code>, <code>y</code>, <code>width</code>, and <code>height</code> number properties, specified in pixels. If this content is unbound, the getter returns <code>undefined</code> and the setter is ignored.</td>
</tr>
<tr>
<td><code>container</code></td>
<td><code>object</code></td>
<td></td>
<td>✓</td>
<td style="text-align:left">This content's container, or <code>null</code> if this content is unbound--that is, if it has no container</td>
</tr>
<tr>
<td><code>coordinates</code></td>
<td><code>object</code></td>
<td></td>
<td></td>
<td style="text-align:left">This content's coordinates, as an object with <code>left</code>, <code>width</code>, <code>right</code>, <code>top</code>, <code>height</code>, or <code>bottom</code> number properties (specified in pixels), or an empty object if no coordinates are passed into the constructor</td>
</tr>
<tr>
<td><code>duration</code></td>
<td><code>number</code></td>
<td>0</td>
<td></td>
<td style="text-align:left">This content's duration, in milliseconds. This content triggers the <code>onFinished</code> event when its clock is running and its time equals its duration.</td>
</tr>
<tr>
<td><code>exclusiveTouch</code></td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td></td>
<td style="text-align:left">If <code>true</code>, this content always captures touches; that is, <code>captureTouch</code> is implicitly invoked on <code>onTouchDown</code> for this content. Setting <code>exclusiveTouch</code> to <code>true</code> is equivalent to calling <code>captureTouch</code> in response to the <code>onTouchDown</code> event for every touch id.</td>
</tr>
<tr>
<td><code>fraction</code></td>
<td><code>number</code></td>
<td><code>undefined</code></td>
<td></td>
<td style="text-align:left">This content's fraction--that is, the ratio of its time to its duration. If the duration is 0, the getter returns <code>undefined</code> and the setter is ignored. This content triggers the <code>onTimeChanged</code> event when its fraction is set.</td>
</tr>
<tr>
<td><code>height</code></td>
<td><code>number</code></td>
<td></td>
<td></td>
<td style="text-align:left">This content's height, in pixels</td>
</tr>
<tr>
<td><code>index</code></td>
<td><code>number</code></td>
<td></td>
<td>✓</td>
<td style="text-align:left">The index of this content in its container, or –1 if this content is unbound</td>
</tr>
<tr>
<td><code>interval</code></td>
<td><code>number</code></td>
<td>1</td>
<td></td>
<td style="text-align:left">The time between ticks of this content's clock--that is, number of milliseconds between triggering the <code>onTimeChanged</code> events of the content's behavior when its clock is running.</td>
</tr>
<tr>
<td><code>loop</code></td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td></td>
<td style="text-align:left">If <code>true</code>, this content will restart its clock when its time equals its duration</td>
</tr>
<tr>
<td><code>multipleTouch</code></td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td></td>
<td style="text-align:left">If <code>true</code>, this content handles multiple touches.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>string</code></td>
<td></td>
<td></td>
<td style="text-align:left">This content's name</td>
</tr>
<tr>
<td><code>next</code></td>
<td><code>object</code></td>
<td></td>
<td>✓</td>
<td style="text-align:left">The next <code>content</code> object of this content's container; <code>null</code> if this content is the last <code>content</code> object of this content's container or if this content has no container</td>
</tr>
<tr>
<td><code>offset</code></td>
<td><code>object</code></td>
<td></td>
<td></td>
<td style="text-align:left">This content's local position, as an object with <code>x</code> and <code>y</code> number properties, specified in pixels. If this content is unbound, the getter returns <code>undefined</code> and the setter is ignored.</td>
</tr>
<tr>
<td><code>position</code></td>
<td><code>object</code></td>
<td></td>
<td></td>
<td style="text-align:left">This content's global position, as an object with <code>x</code> and <code>y</code> number properties, specified in pixels. If this content is unbound, the getter returns <code>undefined</code> and the setter is ignored.</td>
</tr>
<tr>
<td><code>previous</code></td>
<td><code>object</code></td>
<td></td>
<td>✓</td>
<td style="text-align:left">The previous <code>content</code> object in this content's container; <code>null</code> if this content is the first <code>content</code> object of this content's container or if this content has no container</td>
</tr>
<tr>
<td><code>running</code></td>
<td><code>boolean</code></td>
<td></td>
<td>✓</td>
<td style="text-align:left">If <code>true</code>, this content's clock is running.</td>
</tr>
<tr>
<td><code>size</code></td>
<td><code>object</code></td>
<td></td>
<td></td>
<td style="text-align:left">This content's size, as an object with <code>width</code> and <code>height</code> number properties, specified in pixels</td>
</tr>
<tr>
<td><code>skin</code></td>
<td><code>skin</code></td>
<td><code>null</code></td>
<td></td>
<td style="text-align:left">This content's skin or <code>null</code></td>
</tr>
<tr>
<td><code>state</code></td>
<td><code>number</code></td>
<td>0</td>
<td></td>
<td style="text-align:left">This content's state. If this content's skin defines states, setting the state changes the appearance of this content.</td>
</tr>
<tr>
<td><code>style</code></td>
<td><code>style</code></td>
<td><code>null</code></td>
<td></td>
<td style="text-align:left">This content's style or <code>null</code></td>
</tr>
<tr>
<td><code>time</code></td>
<td><code>number</code></td>
<td>0</td>
<td></td>
<td style="text-align:left">This content's time, in milliseconds. When its time is set, this content triggers the <code>onTimeChanged</code> event.</td>
</tr>
<tr>
<td><code>variant</code></td>
<td><code>number</code></td>
<td>0</td>
<td></td>
<td style="text-align:left">This content's variant. If this content's skin defines variants, setting the variant changes the appearance of this content.</td>
</tr>
<tr>
<td><code>visible</code></td>
<td><code>boolean</code></td>
<td><code>true</code></td>
<td></td>
<td style="text-align:left">If <code>true</code>, this content is visible.</td>
</tr>
<tr>
<td><code>width</code></td>
<td><code>number</code></td>
<td></td>
<td></td>
<td style="text-align:left">This content's width, in pixels</td>
</tr>
<tr>
<td><code>x</code></td>
<td><code>number</code></td>
<td></td>
<td></td>
<td style="text-align:left">This content's global x position. If this content is unbound, the getters return <code>undefined</code> and the setters are ignored.</td>
</tr>
<tr>
<td><code>y</code></td>
<td><code>number</code></td>
<td></td>
<td></td>
<td style="text-align:left">This content's global y position. If this content is unbound, the getters return <code>undefined</code> and the setters are ignored.</td>
</tr>
</tbody>
</table>
<p><a id="content-functions"></a></p>
<h5>Functions</h5>
<p><strong><code>bubble(id [, ...])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td><code>string</code></td>
<td style="text-align:left">The name of the event to trigger</td>
</tr>
<tr>
<td><code>...</code></td>
<td><code>*</code></td>
<td style="text-align:left">Zero or more extra parameters</td>
</tr>
</tbody>
</table>
<p>Causes this content and all <code>container</code> objects upward in the containment hierarchy to trigger an event named by the value of <code>id</code>. The bubbling halts when a bubbled event returns <code>true</code>. Note that the first parameter of a bubbled event is the <code>container</code> object that triggers the event, not this content. Additional parameters, if any, of a bubbled event are the extra parameters of the <code>bubble</code> function.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> NamedContainer = Container.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">name</span>: $.name, <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">20</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $.color }),
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		printName(container) {
			trace(<span class="hljs-string">`<span class="hljs-subst">${container.name}</span> triggered\n`</span>);
		}
		onTouchEnded(container) {
			trace(<span class="hljs-string">"\n"</span>);
			container.bubble(<span class="hljs-string">"printName"</span>);
		}
	}
}));
<span class="hljs-keyword">let</span> outerContainer = <span class="hljs-keyword">new</span> NamedContainer({ <span class="hljs-attr">name</span>: <span class="hljs-string">"outerContainer"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"red"</span> });
<span class="hljs-keyword">let</span> middleContainer = <span class="hljs-keyword">new</span> NamedContainer({ <span class="hljs-attr">name</span>: <span class="hljs-string">"middleContainer"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"blue"</span> });
<span class="hljs-keyword">let</span> innerContainer = <span class="hljs-keyword">new</span> NamedContainer({ <span class="hljs-attr">name</span>: <span class="hljs-string">"innerContainer"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"black"</span> });
outerContainer.add(middleContainer);
middleContainer.add(innerContainer);
application.add(outerContainer);
</code></pre>
<p><img src="../assets/piu/bubble.gif" alt="" /></p>
<hr />
<p><strong><code>captureTouch(id, x, y, ticks)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td><code>number</code></td>
<td style="text-align:left">The identifier of the touch</td>
</tr>
<tr>
<td><code>x, y</code></td>
<td><code>number</code></td>
<td style="text-align:left">The global position of the touch, in pixels</td>
</tr>
<tr>
<td><code>ticks</code></td>
<td><code>number</code></td>
<td style="text-align:left">The global time of the touch</td>
</tr>
</tbody>
</table>
<p>Causes this content to capture the touch named <code>id</code>, meaning that only this content will trigger the remaining <code>onTouchMoved</code> and <code>onTouchEnded</code> events related to that touch. Other <code>content</code> objects concerned with the captured touch trigger the <code>onTouchCancelled</code> event when the <code>captureTouch</code> function is called.</p>
<pre><code class="language-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BlueBehavior</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
    onTouchBegan(content, id, x, y, ticks) {
    	trace(<span class="hljs-string">"Blue touch began\n"</span>);
        content.captureTouch(id, x, y, ticks);		<span class="hljs-comment">// With this line, the redContainer behavior's onTouchCancelled method is called; without this line, its onTouchBegan and onTouchEnded methods would be called</span>
    }
    onTouchEnded(content, id, x, y, ticks) {
    	trace(<span class="hljs-string">"Blue touch ended\n"</span>);
    }
}
<span class="hljs-keyword">let</span> blueCapturingContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
    <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">25</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">25</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">50</span>,
    <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span>}),
    <span class="hljs-attr">Behavior</span>: BlueBehavior
});

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RedBehavior</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
    onTouchBegan(content, id, x, y, ticks) {
        trace(<span class="hljs-string">"Red touch began\n"</span>);
    }
    onTouchCancelled(content) {
    	trace(<span class="hljs-string">"Red touch cancelled\n"</span>);
    }
    onTouchEnded(content, id, x, y, ticks) {
    	trace(<span class="hljs-string">"Red touch ended\n"</span>);
    }
}
<span class="hljs-keyword">let</span> redContainer = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, { 
    <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">backgroundTouch</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"red"</span>}),
    <span class="hljs-attr">contents</span>: [
    	blueCapturingContent
    ],
    <span class="hljs-attr">Behavior</span>: RedBehavior
});

application.add(redContainer);
</code></pre>
<p><img src="../assets/piu/contentCaptureTouch.gif" alt="" /></p>
<hr />
<p><strong><code>defer(id [, ...])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td><code>string</code></td>
<td style="text-align:left">The name of the event to trigger</td>
</tr>
<tr>
<td><code>...</code></td>
<td><code>*</code></td>
<td style="text-align:left">Zero or more extra parameters</td>
</tr>
</tbody>
</table>
<p>The <code>defer</code> function is similar to the <code>delegate</code> function; both cause this content to trigger an event named by the value of <code>id</code>. The difference is in their timing. The <code>delegate</code> function sends the event immediately while the <code>defer</code> functions posts the event. The event will be triggered at the following iteration of the main event loop.</p>
<p>The first parameter of the deferred event is this content. Additional parameters, if any, of the deferred event are the extra parameters of the <code>defer</code> function.</p>
<hr />
<p><strong><code>delegate(id [, ...])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td><code>string</code></td>
<td style="text-align:left">The name of the event to trigger</td>
</tr>
<tr>
<td><code>...</code></td>
<td><code>*</code></td>
<td style="text-align:left">Zero or more extra parameters</td>
</tr>
</tbody>
</table>
<p>Causes this content to trigger an event named by the value of <code>id</code>. The first parameter of the delegated event is this content. Additional parameters, if any, of the delegated event are the extra parameters of the <code>delegate</code> function.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> NamedContainer = Container.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">name</span>: $.name, <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">20</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $.color }),
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		printName(container) {
			trace(<span class="hljs-string">`<span class="hljs-subst">${container.name}</span> triggered\n`</span>);
		}
		onTouchEnded(container) {
			trace(<span class="hljs-string">"\n"</span>);
			container.delegate(<span class="hljs-string">"printName"</span>);
		}
	}
}));
<span class="hljs-keyword">let</span> outerContainer = <span class="hljs-keyword">new</span> NamedContainer({ <span class="hljs-attr">name</span>: <span class="hljs-string">"outerContainer"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"blue"</span> });
<span class="hljs-keyword">let</span> middleContainer = <span class="hljs-keyword">new</span> NamedContainer({ <span class="hljs-attr">name</span>: <span class="hljs-string">"middleContainer"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"black"</span> });
<span class="hljs-keyword">let</span> innerContainer = <span class="hljs-keyword">new</span> NamedContainer({ <span class="hljs-attr">name</span>: <span class="hljs-string">"innerContainer"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"red"</span> });
outerContainer.add(middleContainer);
middleContainer.add(innerContainer);
application.add(outerContainer);
</code></pre>
<p><img src="../assets/piu/delegate.gif" alt="" /></p>
<hr />
<p><strong><code>focus()</code></strong></p>
<p>Focuses this content so that it triggers keyboard events. Only one content object at a time is focused.</p>
<hr />
<p><strong><code>distribute(id [, ...])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td><code>string</code></td>
<td style="text-align:left">The name of the event</td>
</tr>
<tr>
<td><code>...</code></td>
<td><code>*</code></td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<p>Causes this container and all <code>content</code> objects downward in the containment hierarchy to trigger an event named by the value of <code>id</code>. The order of traversal is depth first. Traversal halts when one of the triggered event-handling functions returns <code>true</code>. Note that the first parameter of a distributed event is the <code>content</code> object that triggers the event, not this container. Additional parameters, if any, of the event are the extra parameters of the <code>distribute</code> function.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> NamedContainer = Container.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">name</span>: $.name, <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">20</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $.color }),
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		printName(container) {
			trace(<span class="hljs-string">`<span class="hljs-subst">${container.name}</span> triggered\n`</span>);
		}
		onTouchEnded(container) {
			trace(<span class="hljs-string">"\n"</span>);
			container.distribute(<span class="hljs-string">"printName"</span>);
		}
	}
}));
<span class="hljs-keyword">let</span> outerContainer = <span class="hljs-keyword">new</span> NamedContainer({ <span class="hljs-attr">name</span>: <span class="hljs-string">"outerContainer"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"red"</span> });
<span class="hljs-keyword">let</span> middleContainer = <span class="hljs-keyword">new</span> NamedContainer({ <span class="hljs-attr">name</span>: <span class="hljs-string">"middleContainer"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"blue"</span> });
<span class="hljs-keyword">let</span> innerContainer = <span class="hljs-keyword">new</span> NamedContainer({ <span class="hljs-attr">name</span>: <span class="hljs-string">"innerContainer"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"black"</span> });
outerContainer.add(middleContainer);
middleContainer.add(innerContainer);
application.add(outerContainer);
</code></pre>
<p><img src="../assets/piu/distribute.gif" alt="" /></p>
<hr />
<p><strong><code>hit(x, y)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x, y</code></td>
<td><code>number</code></td>
<td style="text-align:left">The global position to test, in pixels</td>
</tr>
</tbody>
</table>
<p>Returns this content if this content is active, bound, and contains the position, and <code>undefined</code> otherwise. If this content is a <code>container</code> instance, returns either one of its contents or itself if the content or itself is active, bound, and contains the position, or <code>undefined</code>.</p>
<blockquote>
<p>Note that this function should only be used after a content has been measured and fitted; otherwise it will always return <code>undefined</code>.</p>
</blockquote>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
    <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, 
    <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span>}),
    <span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
        onDisplaying(content) {
			<span class="hljs-keyword">let</span> x = content == content.hit(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>);		<span class="hljs-comment">// true</span>
			<span class="hljs-keyword">let</span> y = content.hit(<span class="hljs-number">200</span>, <span class="hljs-number">200</span>);			<span class="hljs-comment">// undefined</span>
        }
    }
});
</code></pre>
<hr />
<p><strong><code>measure()</code></strong></p>
<p>Returns the measured size of this content, as an object with <code>width</code> and <code>height</code> parameters.</p>
<blockquote>
<p>Note that this function should only be used after a content has been measured and fitted (that is, after it triggers <code>onDisplaying</code>); otherwise it will always return <code>undefined</code>.</p>
</blockquote>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
    <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, 
    <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span>}),
    <span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
        onDisplaying(content) {
            <span class="hljs-keyword">let</span> size = content.measure(); 	<span class="hljs-comment">// {height: 100, width: 100}</span>
            <span class="hljs-keyword">let</span> height = size.height;		<span class="hljs-comment">// 100</span>
        }
    }
});
application.add(sampleContent);
</code></pre>
<hr />
<p><strong><code>moveBy(x, y)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x, y</code></td>
<td><code>number</code></td>
<td style="text-align:left">The deltas by which to move this content, in pixels</td>
</tr>
</tbody>
</table>
<p>Moves this content as specified by the parameters. If the content's coordinates constrain its position, the <code>moveBy</code> function ignores the corresponding horizontal or vertical deltas.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> unconstrainedContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
    <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span>}),
});
application.add(unconstrainedContent);
unconstrainedContent.moveBy(<span class="hljs-number">100</span>,<span class="hljs-number">100</span>);	<span class="hljs-comment">// Moves unconstrainedContent 100 pixels in the x and y directions</span>

<span class="hljs-keyword">let</span> constrainedContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
    <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">140</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">220</span>,
    <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"red"</span>}),
});
application.add(constrainedContent);
constrainedContent.moveBy(<span class="hljs-number">100</span>,<span class="hljs-number">100</span>);	<span class="hljs-comment">// Does nothing</span>
</code></pre>
<p><img src="../assets/piu/contentMoveBy.png" alt="" /></p>
<hr />
<p><strong><code>sizeBy(width, height)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>width, height</code></td>
<td><code>number</code></td>
<td style="text-align:left">The deltas by which to size this content, in pixels</td>
</tr>
</tbody>
</table>
<p>Sizes this content as specified by the parameters. If this content's coordinates constrain its size, the <code>sizeBy</code> function ignores the corresponding horizontal or vertical deltas.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> unconstrainedContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
    <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span>}),
})
application.add(unconstrainedContent);
unconstrainedContent.sizeBy(<span class="hljs-number">100</span>,<span class="hljs-number">100</span>);	<span class="hljs-comment">// Makes unconstrainedContent 100 pixels wider and taller </span>

<span class="hljs-keyword">let</span> constrainedContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
    <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">140</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">220</span>,
    <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"red"</span>}),
})
application.add(constrainedContent);
constrainedContent.sizeBy(<span class="hljs-number">100</span>,<span class="hljs-number">100</span>);	<span class="hljs-comment">// Does nothing</span>
</code></pre>
<p><img src="../assets/piu/contentSizeBy.png" alt="" /></p>
<hr />
<p><strong><code>start()</code></strong></p>
<p>Starts this content's clock</p>
<pre><code class="language-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SampleBehavior</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
	onDisplaying(content) {
		<span class="hljs-keyword">this</span>.index = <span class="hljs-number">0</span>;
		content.interval = <span class="hljs-number">750</span>;
		content.time = <span class="hljs-number">0</span>;
		content.start();
	}
	onTimeChanged(content) {
		<span class="hljs-keyword">let</span> state = content.state + <span class="hljs-number">1</span>;
		<span class="hljs-keyword">if</span> (state &gt; <span class="hljs-number">3</span>) state = <span class="hljs-number">0</span>;
		content.state = state;
	}
}
<span class="hljs-keyword">let</span> sampleContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
	<span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: [<span class="hljs-string">"red"</span>, <span class="hljs-string">"orange"</span>, <span class="hljs-string">"yellow"</span>, <span class="hljs-string">"green"</span>]}),
	<span class="hljs-attr">Behavior</span>: SampleBehavior
});
application.add(sampleContent);
</code></pre>
<p><img src="../assets/piu/contentStart.gif" alt="" /></p>
<hr />
<p><strong><code>stop()</code></strong></p>
<p>Stops this content's clock</p>
<pre><code class="language-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SampleBehavior</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
	onDisplaying(content) {
		<span class="hljs-keyword">this</span>.index = <span class="hljs-number">0</span>;
		content.interval = <span class="hljs-number">750</span>;
		content.time = <span class="hljs-number">0</span>;
		content.start();
	}
	onTimeChanged(content) {
		content.state = !content.state;
	}
	onTouchBegan(content) {
		content.stop();
	}
	onTouchEnded(content) {
		content.start();
	}
}
<span class="hljs-keyword">let</span> sampleContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
	<span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: [<span class="hljs-string">"blue"</span>, <span class="hljs-string">"white"</span>]}),
	<span class="hljs-attr">Behavior</span>: SampleBehavior
});
application.add(sampleContent);
</code></pre>
<p><img src="../assets/piu/contentStop.gif" alt="" /></p>
<p><a id="content-events"></a></p>
<h4>Events</h4>
<p>The following standard events are triggered by <code>content</code> objects.</p>
<p><strong><code>onCreate(content, data, context)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content</code></td>
<td><code>content</code></td>
<td style="text-align:left">The <code>content</code> object that triggered the event</td>
</tr>
<tr>
<td><code>data, context</code></td>
<td><code>object</code></td>
<td style="text-align:left">The parameters of the constructor of the <code>content</code> object that references or contains the behavior</td>
</tr>
</tbody>
</table>
<p>This event is triggered when the content is constructed.</p>
<hr />
<p><strong><code>onDisplaying(content)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content</code></td>
<td><code>content</code></td>
<td style="text-align:left">The <code>content</code> object that triggered the event</td>
</tr>
</tbody>
</table>
<p>This event is triggered after the specified <code>content</code> object is added to the containment hierarchy and has been measured and fitted, but before it is visible to the user. This is the first event the object receives after its coordinates have been computed.</p>
<hr />
<p><strong><code>onFinished(content)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content</code></td>
<td><code>content</code></td>
<td style="text-align:left">The <code>content</code> object that triggered the event</td>
</tr>
</tbody>
</table>
<p>This event is triggered when the specified <code>content</code> object is running and its time equals its duration.</p>
<hr />
<p><strong><code>onTimeChanged(content)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content</code></td>
<td><code>content</code></td>
<td style="text-align:left">The <code>content</code> object that triggered the event</td>
</tr>
</tbody>
</table>
<p>This event is triggered when the time of the specified <code>content</code> object changes.</p>
<hr />
<p><strong><code>onTouchBegan(content, id, x, y, ticks)</code></strong></p>
<p><strong><code>onTouchCancelled(content, id)</code></strong></p>
<p><strong><code>onTouchEnded(content, id, x, y, ticks)</code></strong></p>
<p><strong><code>onTouchMoved(content, id, x, y, ticks)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content</code></td>
<td><code>content</code></td>
<td style="text-align:left">The <code>content</code> object that triggered the event</td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>number</code></td>
<td style="text-align:left">The identifier of the touch</td>
</tr>
<tr>
<td><code>x, y</code></td>
<td><code>number</code></td>
<td style="text-align:left">The global coordinates of the event, in pixels</td>
</tr>
<tr>
<td><code>ticks</code></td>
<td><code>number</code></td>
<td style="text-align:left">The global time of the event</td>
</tr>
</tbody>
</table>
<p>These events are triggered when the specified <code>content</code> object is active and touched.</p>
<h3>Die Object</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../modules/piu/MC/piuDie.c" title="piuDie.c"><code>piuDie.c</code></a></li>
<li><strong>Relevant Examples:</strong> <a href="../../examples/piu/cards" title="cards">cards</a></li>
</ul>
<p>The <code>die</code> object is a <code>layout</code> object that allows you to “die cut” its contents with a region, minimizing the areas to invalidate and to update. These are useful for building animations and transitions on constrained devices that cannot update every screen pixel at every frame.</p>
<p>The <code>die</code> object maintains two regions:</p>
<ul>
<li>the work region that the available operations build,</li>
<li>the clip region that clips the contents of the <code>die</code> object</li>
</ul>
<p>Both regions are initially empty.</p>
<h4>Constructor Description</h4>
<h5><code>Die([behaviorData, dictionary])</code></h5>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>behaviorData</code></td>
<td><code>*</code></td>
<td style="text-align:left">A parameter that is passed into the <code>onCreate</code> function of this die's <code>behavior</code>. This may be any type of object, including <code>null</code> or a dictionary with arbitrary parameters.</td>
</tr>
<tr>
<td><code>dictionary</code></td>
<td><code>object</code></td>
<td style="text-align:left">An object with properties to initialize the result. The dictionary is the same as for the <code>content</code> object. Only parameters specified in the <a href="#content-dictionary">Dictionary</a> section of the <a href="#container-object">Content Object</a> will have an effect; other parameters will be ignored.</td>
</tr>
</tbody>
</table>
<p>Returns a <code>die</code> instance, an object that inherits from <code>Die.prototype.</code></p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleDie = <span class="hljs-keyword">new</span> Die(<span class="hljs-literal">null</span>, {
    <span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>,
    <span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
        onDisplaying(die) {
            die.or(<span class="hljs-number">40</span>, <span class="hljs-number">40</span>, die.width<span class="hljs-number">-80</span>, die.height<span class="hljs-number">-80</span>)
                .cut();
        }
    },
    <span class="hljs-attr">contents</span>: [
        <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
            <span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>, 
            <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
        }),
    ]
});

<span class="hljs-keyword">let</span> sampleScreenWithDie = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, {
    <span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>, 
    <span class="hljs-attr">contents</span>: [
    	Content(<span class="hljs-literal">null</span>, {
    		<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">120</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
    		<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span> }),
    	}),
    	Content(<span class="hljs-literal">null</span>, {
    		<span class="hljs-attr">top</span>: <span class="hljs-number">120</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
    		<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"black"</span> }),
    	}),
    	sampleDie
    ]
});
application.add(sampleScreenWithDie);
</code></pre>
<p><img src="../assets/piu/sampleDie1.png" alt="" /></p>
<h5><code>Die.template(anonymous)</code></h5>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>anonymous</code></td>
<td><code>function</code></td>
<td style="text-align:left">A function that returns an object with properties to initialize the instances that the result creates</td>
</tr>
</tbody>
</table>
<p>Returns a constructor, a function that creates instances of <code>Die.prototype</code>. The <code>prototype</code> property of the result is <code>Die.prototype</code>. The result also provides a <code>template</code> function.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> SampleDie = Die.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
    <span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>,
    <span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
        onDisplaying(die) {
            die.or(<span class="hljs-number">40</span>, <span class="hljs-number">40</span>, die.width<span class="hljs-number">-80</span>, die.height<span class="hljs-number">-80</span>)
                .cut();
        }
    },
    <span class="hljs-attr">contents</span>: [
        <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
            <span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>, 
            <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
        }),
    ]
}));

<span class="hljs-keyword">let</span> sampleScreenWithDie = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, {
    <span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>, 
    <span class="hljs-attr">contents</span>: [
    	Content(<span class="hljs-literal">null</span>, {
    		<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
    		<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span> }),
    	}),
    	Row(<span class="hljs-literal">null</span>, {
    		<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
    		<span class="hljs-attr">contents</span>: [
    			SampleDie(),
    			SampleDie(),
    		]
    	})
    ]
});
application.add(sampleScreenWithDie);

</code></pre>
<p><img src="../assets/piu/sampleDie2.png" alt="" /></p>
<h4>Prototype Description</h4>
<p>Prototype inherits from <code>Layout.prototype</code>.</p>
<h5>Functions</h5>
<p>Same as for <code>layout</code> object (see <a href="#layout-functions">Functions</a> in the section <a href="#layout-object">Layout Object</a>), plus:</p>
<p><strong><code>and(x, y, width, height)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x, y, width, height</code></td>
<td><code>number</code></td>
<td style="text-align:left">A local rectangle, in pixels</td>
</tr>
</tbody>
</table>
<p>Intersects the rectangle with the work region and returns <code>this</code>.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleContainer = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, {
    <span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span> }),
    <span class="hljs-attr">contents</span>: [
        Die($, {
            <span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>,
            <span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
                onDisplaying(die) {
                    die.fill()
                    	.and(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)
                    	.cut();
                }
            },
            <span class="hljs-attr">contents</span>: [
                <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
                	<span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>, 
                	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
                }),
            ]
        }),
    ]
});
application.add(sampleContainer);
</code></pre>
<p><img src="../assets/piu/dieAndOr.png" alt="" /></p>
<hr />
<p><strong><code>attach(content)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content</code></td>
<td><code>content</code></td>
<td style="text-align:left">The <code>content</code> object to attach</td>
</tr>
</tbody>
</table>
<p>Binds the <code>die</code> object to the containment hierarchy by replacing the specified <code>content</code> object in the content's container with this <code>die</code> object and adding the <code>content</code> object to this <code>die</code> object.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> whiteScreen = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
	<span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>, 
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
    <span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
    	onDisplaying(content) {
    		application.insert(blueScreen, content);
    		<span class="hljs-keyword">let</span> die = <span class="hljs-keyword">this</span>.die = <span class="hljs-keyword">new</span> Die();
    		die.attach(content);
    		die.or(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, die.width, die.height/<span class="hljs-number">4</span>)
    		die.or(<span class="hljs-number">0</span>, die.height/<span class="hljs-number">2</span>, die.width, die.height/<span class="hljs-number">4</span>)
    			.cut();
    	}
    }
});
<span class="hljs-keyword">let</span> blueScreen = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
	<span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>, 
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span> }),
});
application.add(whiteScreen);
</code></pre>
<p><img src="../assets/piu/dieAttach.png" alt="" /></p>
<hr />
<p><strong><code>cut()</code></strong></p>
<p>Copies the work region into the current region, and invalidates only the difference between the work and the clip regions.</p>
<hr />
<p><strong><code>detach()</code></strong></p>
<p>Unbind this <code>die</code> object from the content hierarchy by removing the first <code>content</code> object from this <code>die</code> object and replacing this <code>die</code> object in its container with the removed <code>content</code> object.</p>
<pre><code>let whiteScreen = new Content(null, { 
	active: true, left:0, right:0, top:0, bottom:0, 
	skin: new Skin({ fill: &quot;white&quot; }),
	Behavior: class extends Behavior {
    	onTouchBegan(content) {
    		application.add(blueScreen);
    		let die = this.die = new Die();
    		die.attach(blueScreen);
    		die.or(0, 0, die.width, die.height/4)
    		die.or(0, die.height/2, die.width, die.height/4)
    			.cut();
    	}
    	onTouchEnded(content) {
    		let die = this.die;
    		die.detach();
    		application.remove(blueScreen)
    	}
	}
});
let blueScreen = new Content(null, { 
	active: true, left:0, right:0, top:0, bottom:0, 
	skin: new Skin({ fill: &quot;blue&quot; }),
});
application.add(whiteScreen);
</code></pre>
<p><img src="../assets/piu/layoutDetach.gif" alt="" /></p>
<hr />
<p><strong><code>empty()</code></strong></p>
<p>Empties the work region and returns <code>this</code>.</p>
<hr />
<p><strong><code>fill()</code></strong></p>
<p>Sets the work region to the bounds of this <code>die</code> object and returns <code>this</code>.</p>
<hr />
<p><strong><code>or(x, y, width, height)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x, y, width, height</code></td>
<td><code>number</code></td>
<td style="text-align:left">A local rectangle, in pixels</td>
</tr>
</tbody>
</table>
<p>Inclusively unions the rectangle with the work region and returns <code>this</code>.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleContainer = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, {
    <span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"red"</span> }),
    <span class="hljs-attr">contents</span>: [
        Die($, {
            <span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>,
            <span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
                onDisplaying(die) {
                    die.or(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)
                    die.or(<span class="hljs-number">80</span>, <span class="hljs-number">80</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)
                    	.cut();
                }
            },
            <span class="hljs-attr">contents</span>: [
                <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
                	<span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>, 
                	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
                }),
            ]
        }),
    ]
});
application.add(sampleContainer);
</code></pre>
<p><img src="../assets/piu/dieOr.png" alt="" /></p>
<hr />
<p><strong><code>set(x, y, width, height)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x, y, width, height</code></td>
<td><code>number</code></td>
<td style="text-align:left">A local rectangle, in pixels</td>
</tr>
</tbody>
</table>
<p>Sets the work region to the rectangle and returns <code>this</code>.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleContainer = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, {
    <span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span> }),
    <span class="hljs-attr">contents</span>: [
        Die($, {
            <span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>,
            <span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
                onDisplaying(die) {
                    die.set(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">220</span>, <span class="hljs-number">140</span>)
                    	.cut();
                }
            },
            <span class="hljs-attr">contents</span>: [
                <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
                	<span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>, 
                	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
                }),
            ]
        }),
    ]
});
application.add(sampleContainer);
</code></pre>
<p><img src="../assets/piu/dieSet.png" alt="" /></p>
<hr />
<p><strong><code>sub(x, y, width, height)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x, y, width, height</code></td>
<td><code>number</code></td>
<td style="text-align:left">A local rectangle, in pixels</td>
</tr>
</tbody>
</table>
<p>Subtracts the rectangle from the work region and returns <code>this</code>.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleContainer = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, {
    <span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span> }),
    <span class="hljs-attr">contents</span>: [
        Die($, {
            <span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>,
            <span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
                onDisplaying(die) {
                    die.fill()
                    	.sub(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)
                    	.sub(<span class="hljs-number">100</span>, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)
                    	.sub(<span class="hljs-number">200</span>, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)
                    	.cut();
                }
            },
            <span class="hljs-attr">contents</span>: [
                <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
                	<span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>, 
                	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
                }),
            ]
        }),
    ]
});
application.add(sampleContainer);
</code></pre>
<p><img src="../assets/piu/dieSub.png" alt="" /></p>
<hr />
<p><strong><code>xor(x, y, width, height)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x, y, width, height</code></td>
<td><code>number</code></td>
<td style="text-align:left">A local rectangle, in pixels</td>
</tr>
</tbody>
</table>
<p>Exclusively unions the work region with the rectangle and returns <code>this</code>.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleContainer = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, {
    <span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span> }),
    <span class="hljs-attr">contents</span>: [
        Die($, {
            <span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>,
            <span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
                onDisplaying(die) {
                    die.set(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, die.width/<span class="hljs-number">2</span>, die.height)
                    	.xor(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, die.width<span class="hljs-number">-100</span>, die.height<span class="hljs-number">-100</span>)
                    	.cut();
                }
            },
            <span class="hljs-attr">contents</span>: [
                <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, { 
                	<span class="hljs-attr">left</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">right</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">top</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>:<span class="hljs-number">0</span>, 
                	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
                }),
            ]
        }),
    ]
});
application.add(sampleContainer);
</code></pre>
<p><img src="../assets/piu/dieXor.png" alt="" /></p>
<h3>Image Object</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../modules/piu/MC/piuImage.c" title="piuImage.c"><code>piuImage.c</code></a></li>
<li><strong>Relevant Examples:</strong> <a href="../../examples/piu/images" title="images">images</a></li>
</ul>
<p>The <code>image</code> object is a <code>content</code> object that displays images.</p>
<p>Image assets may be a GIF, JPEG, or PNG file, or a folder of JPEG and PNG files. The <a href="../../examples/piu/images" title="images">images</a> example provides an example for every supported type.</p>
<p>Assets must be defined in the resources of your manifest. The quality of JPEG and PNG files can be set to a value between 1 and 100; higher numbers correspond to higher quality.</p>
<pre><code class="language-javascript"><span class="hljs-string">"resources"</span>:{
	<span class="hljs-string">"*-image(100)"</span>: [
		<span class="hljs-string">"$(MODDABLE)/examples/assets/images/screen1"</span>,
	],
	<span class="hljs-string">"*-image(40)"</span>: [
		<span class="hljs-string">"$(MODDABLE)/examples/assets/images/screen2"</span>,
	]
},
</code></pre>
<p>Images in a folder are used as frames of a single animated image. The frame rate is determined by the name of the folder. For example, the <code>fish.15fps</code> folder from <a href="../../examples/assets/images">the example images folder</a> tells the application to run at 15 frames per second. In the manifest, the <code>.15fps</code> is dropped from the path.</p>
<pre><code class="language-javascript"><span class="hljs-string">"resources"</span>:{
	<span class="hljs-string">"*-image"</span>: [
		<span class="hljs-string">"$(MODDABLE)/examples/assets/images/fish"</span>,
	],
}
</code></pre>
<p>The frame rate of a GIF is set in the file itself and cannot be changed by the application.</p>
<p>All supported image types are compressed into a single resource with a <code>.cs</code> extension. These are the files that should be referenced in the application's script code. For example, to create <code>image</code> objects using the assets mentioned above, the application would use the paths <code>&quot;screen1.cs&quot;</code>, <code>&quot;screen2.cs&quot;</code>, and <code>&quot;street.cs&quot;</code>.</p>
<h4>Constructor Description</h4>
<h5><code>Image([behaviorData, dictionary])</code></h5>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>behaviorData</code></td>
<td><code>*</code></td>
<td style="text-align:left">A parameter that is passed into the <code>onCreate</code> function of this image's <code>behavior</code>. This may be any type of object, including <code>null</code> or a dictionary with arbitrary parameters.</td>
</tr>
<tr>
<td><code>dictionary</code></td>
<td><code>object</code></td>
<td style="text-align:left">An object with properties to initialize the result. Only parameters specified in the <a href="#image-dictionary">Dictionary</a> section below will have an effect; other parameters will be ignored.</td>
</tr>
</tbody>
</table>
<p>Returns an <code>image</code> instance, an object that inherits from <code>Image.prototype</code></p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleImage = <span class="hljs-keyword">new</span> Image(<span class="hljs-literal">null</span>, ({
	<span class="hljs-attr">path</span>: <span class="hljs-string">"screen1.cs"</span>
}));
application.add(sampleImage);
</code></pre>
<blockquote>
<p>This example uses <code>screen1.png</code> from <a href="../../examples/assets/images">the example images folder</a></p>
</blockquote>
<p><img src="../assets/piu/imageSample1.png" alt="" /></p>
<h5><code>Image.template(anonymous)</code></h5>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>anonymous</code></td>
<td><code>function</code></td>
<td style="text-align:left">A function that returns an object with properties to initialize the instances that the result creates</td>
</tr>
</tbody>
</table>
<p>Returns a constructor, a function that creates instances of <code>Image.prototype</code>. The <code>prototype</code> property of the result is <code>Image.prototype</code>. The result also provides a <code>template</code> function.</p>
<pre><code class="language-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ImageBehavior</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
	onDisplaying(image) {
		image.start();
	}
}
<span class="hljs-keyword">let</span> SampleImage = Image.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">path</span>: $, <span class="hljs-attr">loop</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">Behavior</span>:ImageBehavior,
}));
application.add(<span class="hljs-keyword">new</span> SampleImage(<span class="hljs-string">"street.cs"</span>));
</code></pre>
<blockquote>
<p>This example uses <code>street.gif</code> from <a href="../../examples/assets/images">the example images folder</a></p>
</blockquote>
<p><img src="../assets/piu/sampleImage2.gif" alt="" /></p>
<p><a id="image-dictionary"></a></p>
<h4>Dictionary</h4>
<p>Same as for <code>content</code> object (see <a href="#content-dictionary">Dictionary</a> in the section <a href="#content-object">Content Object</a>), plus:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>path</code></td>
<td><code>string</code></td>
<td style="text-align:left">The URL of the image file. It must be a file URL.</td>
</tr>
</tbody>
</table>
<h4>Prototype Description</h4>
<p>Prototype inherits from <code>Content.prototype</code>.</p>
<h5>Properties</h5>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default Value</th>
<th>Read Only</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>frameCount</code></td>
<td><code>number</code></td>
<td></td>
<td>✓</td>
<td style="text-align:left">The total number of frames in this image</td>
</tr>
<tr>
<td><code>frameIndex</code></td>
<td><code>number</code></td>
<td></td>
<td></td>
<td style="text-align:left">The index of the current frame</td>
</tr>
</tbody>
</table>
<h3>Label Object</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../modules/piu/All/piuLabel.c" title="piuLabel.c"><code>piuLabel.c</code></a></li>
<li><strong>Relevant Examples:</strong> <a href="../../examples/piu/cards" title="cards">cards</a>, <a href="../../examples/piu/keyboard" title="keyboard">keyboard</a></li>
</ul>
<p>The <code>label</code> object is a <code>content</code> object that renders a string on a single line with a single style. The string is truncated if it does not fit the bounds of the <code>label</code> object.</p>
<h4>Constructor Description</h4>
<h5><code>Label([behaviorData, dictionary])</code></h5>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>behaviorData</code></td>
<td><code>*</code></td>
<td style="text-align:left">A parameter that is passed into the <code>onCreate</code> function of this label's <code>behavior</code>. This may be any type of object, including <code>null</code> or a dictionary with arbitrary parameters.</td>
</tr>
<tr>
<td><code>dictionary</code></td>
<td><code>object</code></td>
<td style="text-align:left">An object with properties to initialize the result. Only parameters specified in the <a href="#label-dictionary">Dictionary</a> section below will have an effect; other parameters will be ignored.</td>
</tr>
</tbody>
</table>
<p>Returns a <code>label</code> instance, an object that inherits from <code>Label.prototype</code></p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"blue"</span> });
<span class="hljs-keyword">let</span> sampleLabel = <span class="hljs-keyword">new</span> Label(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, 
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
	<span class="hljs-attr">style</span>: sampleStyle, <span class="hljs-attr">string</span>: <span class="hljs-string">"Hello, World!"</span>
});
application.add(sampleLabel)
</code></pre>
<p><img src="../assets/piu/styleSample1.png" alt="" /></p>
<h5><code>Label.template(anonymous)</code></h5>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>anonymous</code></td>
<td><code>function</code></td>
<td style="text-align:left">A function that returns an object with properties to initialize the instances that the result creates</td>
</tr>
</tbody>
</table>
<p>Returns a constructor, a function that creates instances of <code>Label.prototype</code>. The <code>prototype</code> property of the result is <code>Label.prototype</code>. The result also provides a <code>template</code> function.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> blueStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"blue"</span> });
<span class="hljs-keyword">let</span> redStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"red"</span> });
<span class="hljs-keyword">let</span> SampleLabel = Label.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">style</span>: $.style, <span class="hljs-attr">string</span>: $.string,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
}));
application.add(<span class="hljs-keyword">new</span> SampleLabel({ <span class="hljs-attr">string</span>: <span class="hljs-string">"Hello, World!"</span>, <span class="hljs-attr">style</span>: blueStyle }, { <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span> }));
application.add(<span class="hljs-keyword">new</span> SampleLabel({ <span class="hljs-attr">string</span>: <span class="hljs-string">"Hello, World!"</span>, <span class="hljs-attr">style</span>: redStyle }, { <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span> }));
</code></pre>
<p><img src="../assets/piu/styleSample2.png" alt="" /></p>
<p><a id="label-dictionary"></a></p>
<h4>Dictionary</h4>
<p>Same as for <code>content</code> object (see <a href="#content-dictionary">Dictionary</a> in the section <a href="#content-object">Content Object</a>), plus:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>string</code></td>
<td><code>string</code></td>
<td style="text-align:left">This label's string</td>
</tr>
</tbody>
</table>
<h4>Prototype Description</h4>
<p>Prototype inherits from <code>Content.prototype</code>.</p>
<h5>Properties</h5>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default Value</th>
<th>Read Only</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>string</code></td>
<td><code>string</code></td>
<td></td>
<td></td>
<td style="text-align:left">This label's string</td>
</tr>
</tbody>
</table>
<h3>Layout Object</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../modules/piu/All/piuLayout.c" title="piuLayout.c"><code>piuLayout.c</code></a></li>
<li><strong>Relevant Examples:</strong> N/A</li>
</ul>
<p>The <code>layout</code> object is a <code>container</code> object that delegates positioning and sizing of its contents to a script in its behavior.</p>
<p>When its width is measured, the <code>layout</code> object triggers the <code>onMeasureHorizontally</code> event, and the behavior can modify the measured width of the <code>layout</code> object or the coordinates of its contents.</p>
<p>When its height is measured, the <code>layout</code> object triggers the <code>onMeasureVertically</code> event, and the behavior can modify the measured height of the <code>layout</code> object or the coordinates of its contents.</p>
<h4>Constructor Description</h4>
<h5><code>Layout([behaviorData, dictionary])</code></h5>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>behaviorData</code></td>
<td><code>*</code></td>
<td style="text-align:left">A parameter that is passed into the <code>onCreate</code> function of this layout's <code>behavior</code>. This may be any type of object, including <code>null</code> or a dictionary with arbitrary parameters.</td>
</tr>
<tr>
<td><code>dictionary</code></td>
<td><code>object</code></td>
<td style="text-align:left">An object with properties to initialize the result. The dictionary is the same as for the <code>content</code> object. Only parameters specified in the <a href="#content-dictionary">Dictionary</a> section of the <a href="#container-object">Content Object</a> will have an effect; other parameters will be ignored.</td>
</tr>
</tbody>
</table>
<p>Returns a <code>layout</code> instance, an object that inherits from <code>Layout.prototype/</code></p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> ColoredSquare = Content.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">height</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $ }),
}));

<span class="hljs-keyword">let</span> sampleLayout = <span class="hljs-keyword">new</span> Layout(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">height</span>: application.height, <span class="hljs-attr">width</span>: application.width,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"black"</span>}),
	<span class="hljs-attr">contents</span>: [
		<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"red"</span>, {<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>}),
		<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"yellow"</span>, {<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>}),
		<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"green"</span>, {<span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>}),
		<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"blue"</span>, {<span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>}),
	],
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onMeasureHorizontally(layout, width) {
			<span class="hljs-keyword">let</span> squareWidth = width/<span class="hljs-number">2</span>;
			<span class="hljs-keyword">let</span> square = layout.first;
			<span class="hljs-keyword">while</span> (square) {
				square.sizeBy(squareWidth, <span class="hljs-number">0</span>);
				square = square.next;
			}
			<span class="hljs-keyword">return</span> width;
		}
		onMeasureVertically(layout, height) {
			<span class="hljs-keyword">let</span> squareHeight = height/<span class="hljs-number">2</span>;
			<span class="hljs-keyword">let</span> square = layout.first;
			<span class="hljs-keyword">while</span> (square) {
				square.sizeBy(<span class="hljs-number">0</span>, squareHeight);
				square = square.next;
			}
			<span class="hljs-keyword">return</span> height;
		}
	}
});
application.add(sampleLayout);
</code></pre>
<p><img src="../assets/piu/sampleLayout1.png" alt="" /></p>
<h5><code>Layout.template(anonymous)</code></h5>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>anonymous</code></td>
<td><code>function</code></td>
<td style="text-align:left">A function that returns an object with properties to initialize the instances that the result creates</td>
</tr>
</tbody>
</table>
<p>Returns a constructor, a function that creates instances of <code>Layout.prototype</code>. The <code>prototype</code> property of the result is <code>Layout.prototype</code>. The result also provides a <code>template</code> function.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> ColoredSquare = Content.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">height</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $ }),
}));

<span class="hljs-keyword">let</span> SampleLayout = Layout.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">contents</span>: [
		<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"red"</span>, {<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>}),
		<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"yellow"</span>, {<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>}),
		<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"green"</span>, {<span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>}),
		<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"blue"</span>, {<span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>}),
	],
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onMeasureHorizontally(layout, width) {
			<span class="hljs-keyword">let</span> squareWidth = width/<span class="hljs-number">2</span>;
			<span class="hljs-keyword">let</span> square = layout.first;
			<span class="hljs-keyword">while</span> (square) {
				square.sizeBy(squareWidth, <span class="hljs-number">0</span>);
				square = square.next;
			}
			<span class="hljs-keyword">return</span> width;
		}
		onMeasureVertically(layout, height) {
			<span class="hljs-keyword">let</span> squareHeight = height/<span class="hljs-number">2</span>;
			<span class="hljs-keyword">let</span> square = layout.first;
			<span class="hljs-keyword">while</span> (square) {
				square.sizeBy(<span class="hljs-number">0</span>, squareHeight);
				square = square.next;
			}
			<span class="hljs-keyword">return</span> height;
		}
	}
}));
application.add(<span class="hljs-keyword">new</span> SampleLayout(<span class="hljs-literal">null</span>, {<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>}));
application.add(<span class="hljs-keyword">new</span> SampleLayout(<span class="hljs-literal">null</span>, {<span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>}));
</code></pre>
<p><img src="../assets/piu/sampleLayout2.png" alt="" /></p>
<h4>Prototype Description</h4>
<p>Prototype inherits from <code>Container.prototype</code>.</p>
<h4>Events</h4>
<p>Same as for <code>container</code> object (see <a href="#container-events">Events</a> in the section <a href="#container-object">Container Object</a>), plus:</p>
<p><strong><code>onFitHorizontally(layout, width)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>layout</code></td>
<td><code>object</code></td>
<td style="text-align:left">The <code>layout</code> object that triggered the event</td>
</tr>
<tr>
<td><code>width</code></td>
<td><code>number</code></td>
<td style="text-align:left">The fitted width of the <code>layout</code> object, in pixels</td>
</tr>
</tbody>
</table>
<p>This event is triggered when the fitted width of the <code>layout</code> object is calculated. Once this is triggered, the behavior can modify the coordinates of its contents. Returns the fitted width of the <code>layout</code> object, in pixels.</p>
<hr />
<p><strong><code>onFitVertically(layout, height)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>layout</code></td>
<td><code>object</code></td>
<td style="text-align:left">The <code>layout</code> object that triggered the event</td>
</tr>
<tr>
<td><code>height</code></td>
<td><code>number</code></td>
<td style="text-align:left">The fitted height of the <code>layout</code> object, in pixels</td>
</tr>
</tbody>
</table>
<p>This event is triggered when the fitted height of the <code>layout</code> object is calculated. Once this is triggered, the behavior can modify the coordinates of its contents.  Returns the height of the <code>layout</code> object, in pixels.</p>
<hr />
<p><strong><code>onMeasureHorizontally(layout, width)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>layout</code></td>
<td><code>object</code></td>
<td style="text-align:left">The <code>layout</code> object that triggered the event</td>
</tr>
<tr>
<td><code>width</code></td>
<td><code>number</code></td>
<td style="text-align:left">The measured width of the <code>layout</code> object, in pixels</td>
</tr>
</tbody>
</table>
<p>This event is triggered when the measured width of the <code>layout</code> object is calculated. Returns the measured width of the <code>layout</code> object, in pixels.</p>
<hr />
<p><strong><code>onMeasureVertically(layout, height)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>layout</code></td>
<td><code>object</code></td>
<td style="text-align:left">The <code>layout</code> object that triggered the event</td>
</tr>
<tr>
<td><code>height</code></td>
<td><code>number</code></td>
<td style="text-align:left">The measured height of the <code>layout</code> object, in pixels</td>
</tr>
</tbody>
</table>
<p>This event is triggered when the measured height of the <code>layout</code> object is calculated. Returns the measured height of the <code>layout</code> object, in pixels.</p>
<hr />
<h3>Port Object</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../modules/piu/All/piuPort.c" title="piuPort.c"><code>piuPort.c</code></a></li>
<li><strong>Relevant Examples:</strong> <a href="../../examples/piu/countdown" title="countdown">countdown</a>, <a href="../../examples/piu/list" title="list">list</a>, <a href="../../examples/piu/spinner" title="spinner">spinner</a></li>
</ul>
<p>The <code>port</code> object is a <code>content</code> object that delegates drawing to a script in its behavior that draws using simple Piu graphics commands.</p>
<p>The <code>port</code> object has a clip rectangle (initially the bounds of the <code>port</code> object) that affects all drawing.</p>
<h4>Constructor Description</h4>
<h5><code>Port([behaviorData, dictionary])</code></h5>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>behaviorData</code></td>
<td><code>*</code></td>
<td style="text-align:left">A parameter that is passed into the <code>onCreate</code> function of this content's <code>behavior</code>. This may be any type of object, including <code>null</code> or a dictionary with arbitrary parameters.</td>
</tr>
<tr>
<td><code>dictionary</code></td>
<td><code>object</code></td>
<td style="text-align:left">An object with properties to initialize the result. The dictionary is the same as for the <code>content</code> object. Only parameters specified in the <a href="#content-dictionary">Dictionary</a> section of the <a href="#container-object">Content Object</a> will have an effect; other parameters will be ignored.</td>
</tr>
</tbody>
</table>
<p>Returns a <code>port</code> instance, an object that inherits from <code>Port.prototype</code></p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> samplePort = <span class="hljs-keyword">new</span> Port(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span>}),
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onDraw(port) {
			port.fillColor(<span class="hljs-string">"blue"</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, port.width<span class="hljs-number">-100</span>, port.height<span class="hljs-number">-100</span>);
		}
	}
})
application.add(samplePort);
</code></pre>
<p><img src="../assets/piu/samplePort1.png" alt="" /></p>
<h5><code>Port.template(anonymous)</code></h5>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>anonymous</code></td>
<td><code>function</code></td>
<td style="text-align:left">A function that returns an object with properties to initialize the instances that the result creates</td>
</tr>
</tbody>
</table>
<p>Returns a constructor, a function that creates instances of <code>Port.prototype</code>. The <code>prototype</code> property of the result is <code>Port.prototype</code>. The result also provides a <code>template</code> function.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> SamplePort = Port.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span>}),
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onCreate(port, data) {
			<span class="hljs-keyword">this</span>.colors = data;
		}
		onDraw(port) {
			<span class="hljs-keyword">let</span> colors = <span class="hljs-keyword">this</span>.colors;
			<span class="hljs-keyword">let</span> x = <span class="hljs-number">0</span>, y = <span class="hljs-number">0</span>;
			<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; colors.length; i++) {
				port.fillColor(colors[i], x, y, <span class="hljs-number">75</span>, <span class="hljs-number">75</span>);
				x += <span class="hljs-number">35</span>;
				y += <span class="hljs-number">35</span>;
			}
		}
	}
}));
application.add(<span class="hljs-keyword">new</span> SamplePort([<span class="hljs-string">"blue"</span>, <span class="hljs-string">"red"</span>, <span class="hljs-string">"black"</span>]));
</code></pre>
<p><img src="../assets/piu/samplePort2.png" alt="" /></p>
<h4>Prototype Description</h4>
<p>Prototype inherits from <code>Content.prototype</code>.</p>
<p><a id="port-functions"></a></p>
<h5>Functions</h5>
<p><strong><code>drawContent(x, y, width, height)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x, y, width, height</code></td>
<td><code>number</code></td>
<td style="text-align:left">The local position and size of the area in which to draw, in pixels</td>
</tr>
</tbody>
</table>
<p>Draws this port's skin in the position specified</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> heartSkin = <span class="hljs-keyword">new</span> Skin({ 
	<span class="hljs-attr">texture</span>: <span class="hljs-keyword">new</span> Texture(<span class="hljs-string">"heart.png"</span>), 
	<span class="hljs-attr">color</span>: <span class="hljs-string">"red"</span>,
	<span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">60</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">60</span>, 
});

<span class="hljs-keyword">let</span> sampleStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>, <span class="hljs-attr">color</span>: [<span class="hljs-string">"red"</span>, <span class="hljs-string">"yellow"</span>, <span class="hljs-string">"green"</span>, <span class="hljs-string">"blue"</span>] });
<span class="hljs-keyword">let</span> samplePort = <span class="hljs-keyword">new</span> Port(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: heartSkin, 
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onDraw(port) {
			<span class="hljs-keyword">let</span> size = <span class="hljs-number">60</span>;
			port.drawContent(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, size, size);
			port.drawContent(port.width-size, <span class="hljs-number">0</span>, size, size);
			port.drawContent(<span class="hljs-number">0</span>, port.height-size, size, size);
			port.drawContent(port.width-size, port.height-size, size, size);
		}
	}
});
application.add(samplePort);
</code></pre>
<p><img src="../assets/piu/portDrawContent.png" alt="" /></p>
<hr />
<p><strong><code>drawLabel(string, x, y, width, height)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>string</code></td>
<td><code>string</code></td>
<td style="text-align:left">The string to draw</td>
</tr>
<tr>
<td><code>x, y, width, height</code></td>
<td><code>number</code></td>
<td style="text-align:left">The local position and size of the area in which to draw, in pixels</td>
</tr>
</tbody>
</table>
<p>Draws the string the way a label instance would, with the style of this port</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"red"</span> });
<span class="hljs-keyword">let</span> samplePort = <span class="hljs-keyword">new</span> Port(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }), <span class="hljs-attr">style</span>: sampleStyle,
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onDraw(port) {
			<span class="hljs-keyword">let</span> string = <span class="hljs-string">"Hello, World!"</span>;
			<span class="hljs-keyword">let</span> size = sampleStyle.measure(string);
			port.drawLabel(string, port.width-size.width, port.height-size.height, size.width, size.height);
		}
	}
})
application.add(samplePort);
</code></pre>
<p><img src="../assets/piu/portDrawLabel.png" alt="" /></p>
<hr />
<p><strong><code>drawSkin(skin, x, y, width, height [, variant, state])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>skin</code></td>
<td><code>skin</code></td>
<td style="text-align:left">The skin to draw</td>
</tr>
<tr>
<td><code>x, y, width, height</code></td>
<td><code>number</code></td>
<td style="text-align:left">The local position and size of the area in which to draw, in pixels</td>
</tr>
<tr>
<td><code>variant</code></td>
<td><code>number</code></td>
<td style="text-align:left">The variant of the skin to draw. If the specified skin defines variants, setting the variant changes the appearance.</td>
</tr>
<tr>
<td><code>state</code></td>
<td><code>number</code></td>
<td style="text-align:left">The state of the skin to draw. If the specified skin defines states, setting the state changes the appearance.</td>
</tr>
</tbody>
</table>
<p>Draws the skin the way a <code>content</code> instance would, with the state, variant, and position specified.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> heartSkin = <span class="hljs-keyword">new</span> Skin({ 
	<span class="hljs-attr">texture</span>: <span class="hljs-keyword">new</span> Texture(<span class="hljs-string">"heart.png"</span>), 
	<span class="hljs-attr">color</span>: [<span class="hljs-string">"red"</span>, <span class="hljs-string">"blue"</span>],
	<span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">60</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">60</span>, 
});

<span class="hljs-keyword">let</span> samplePort = <span class="hljs-keyword">new</span> Port(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onDraw(port) {
			port.drawSkin(heartSkin, <span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>); 
		}
	}
})
application.add(samplePort);
</code></pre>
<p><img src="../assets/piu/portDrawSkin.png" alt="" /></p>
<hr />
<p><strong><code>drawString(string, style, color, x, y, width, height)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>string</code></td>
<td><code>string</code></td>
<td style="text-align:left">The string to draw</td>
</tr>
<tr>
<td><code>style</code></td>
<td><code>style</code></td>
<td style="text-align:left">The style to use to draw the string</td>
</tr>
<tr>
<td><code>color</code></td>
<td><code>string</code></td>
<td style="text-align:left">The color to draw the string, as a string of the form specified in the <a href="#color">Color</a> section of this document</td>
</tr>
<tr>
<td><code>x, y, width, height</code></td>
<td><code>number</code></td>
<td style="text-align:left">The local position and size of the area in which to draw, in pixels</td>
</tr>
</tbody>
</table>
<p>Draws the string the way a <code>label</code> instance would, with the style, color, and position specified.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>});

<span class="hljs-keyword">let</span> samplePort = <span class="hljs-keyword">new</span> Port(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span>}),
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onDraw(port) {
			port.drawString(<span class="hljs-string">"Hello, World!"</span>, sampleStyle, <span class="hljs-string">"blue"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, port.width, port.height);
		}
	}
});
application.add(samplePort);
</code></pre>
<p><img src="../assets/piu/portDrawString.png" alt="" /></p>
<hr />
<p><strong><code>drawStyle(string, style, x, y, w, h [, ellipsis, state])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>string</code></td>
<td><code>string</code></td>
<td style="text-align:left">The string to draw</td>
</tr>
<tr>
<td><code>style</code></td>
<td><code>style</code></td>
<td style="text-align:left">The style to use to draw the string</td>
</tr>
<tr>
<td><code>x, y, width, height</code></td>
<td><code>number</code></td>
<td style="text-align:left">The local position and size of the area in which to draw, in pixels</td>
</tr>
<tr>
<td><code>ellipsis</code></td>
<td><code>boolean</code></td>
<td style="text-align:left">If <code>true</code>, the string is truncated to fit the specified bounds. If <code>false</code>, the entire string is drawn, even if it extends beyond the specified bounds.</td>
</tr>
<tr>
<td><code>state</code></td>
<td><code>number</code></td>
<td style="text-align:left">The state of the style to draw. If the specified style has multiple fill colors, setting the state selects which color to use.</td>
</tr>
</tbody>
</table>
<p>Draws a string with the style, position, and state specified.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>, <span class="hljs-attr">color</span>: [<span class="hljs-string">"red"</span>, <span class="hljs-string">"yellow"</span>, <span class="hljs-string">"green"</span>, <span class="hljs-string">"blue"</span>] });
<span class="hljs-keyword">let</span> samplePort = <span class="hljs-keyword">new</span> Port(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }), 
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onDraw(port) {
			<span class="hljs-keyword">let</span> string = <span class="hljs-string">"Hello, World!"</span>;
			<span class="hljs-keyword">let</span> size = sampleStyle.measure(string);
			<span class="hljs-keyword">let</span> w = size.width;
			<span class="hljs-keyword">let</span> h = size.height;
			port.drawStyle(string, sampleStyle, <span class="hljs-number">20</span>, <span class="hljs-number">10</span>, w, h, <span class="hljs-literal">true</span>, <span class="hljs-number">0</span>);
			port.drawStyle(string, sampleStyle, <span class="hljs-number">20</span>, h+<span class="hljs-number">10</span>, w, h, <span class="hljs-literal">true</span>, <span class="hljs-number">1</span>);
			port.drawStyle(string, sampleStyle, <span class="hljs-number">20</span>, h*<span class="hljs-number">2</span>+<span class="hljs-number">10</span>, w<span class="hljs-number">-10</span>, h, <span class="hljs-literal">false</span>, <span class="hljs-number">2</span>);	<span class="hljs-comment">// Not truncated</span>
			port.drawStyle(string, sampleStyle, <span class="hljs-number">20</span>, h*<span class="hljs-number">3</span>+<span class="hljs-number">10</span>, w<span class="hljs-number">-10</span>, h, <span class="hljs-literal">true</span>, <span class="hljs-number">3</span>);	<span class="hljs-comment">// Truncated</span>
		}
	}
});
application.add(samplePort);
</code></pre>
<p><img src="../assets/piu/portDrawStyle.png" alt="" /></p>
<hr />
<p><strong><code>drawTexture(texture, color, x, y, sx, sy, sw, sh)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>texture</code></td>
<td><code>texture</code></td>
<td style="text-align:left">The texture to draw</td>
</tr>
<tr>
<td><code>color</code></td>
<td><code>string</code></td>
<td style="text-align:left">If the texture has only an alpha bitmap, the value of the <code>color</code> property will be used to colorize the bitmap. Must be a string of the form specified in the <a href="#color">Color</a> section of this document.</td>
</tr>
<tr>
<td><code>x, y</code></td>
<td><code>number</code></td>
<td style="text-align:left">The local position and size of the area in which to draw, in pixels</td>
</tr>
<tr>
<td><code>sx, sy, sw, sh</code></td>
<td><code>number</code></td>
<td style="text-align:left">The source area--the position and size of the area to copy pixels from, in pixels. The default is the entire image.</td>
</tr>
</tbody>
</table>
<p>Draws the image referenced by the texture.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> ballTexture = <span class="hljs-keyword">new</span> Texture(<span class="hljs-string">"balls.png"</span>);
<span class="hljs-keyword">let</span> alphaHeartTexture = <span class="hljs-keyword">new</span> Texture(<span class="hljs-string">"heart.png"</span>);

<span class="hljs-keyword">let</span> samplePort = <span class="hljs-keyword">new</span> Port(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span>}),
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onDraw(port) {
			port.drawTexture(ballTexture, <span class="hljs-string">"black"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">30</span>, <span class="hljs-number">30</span>);
			port.drawTexture(alphaHeartTexture, <span class="hljs-string">"red"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">30</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>);
			port.drawTexture(alphaHeartTexture, <span class="hljs-string">"blue"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">90</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>);
		}
	}
})
application.add(samplePort);
</code></pre>
<p><img src="../assets/piu/portDrawTexture.png" alt="" /></p>
<hr />
<p><strong><code>fillColor(color, x, y, width, height)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>color</code></td>
<td><code>string</code></td>
<td style="text-align:left">The color to draw the image in, as a string of the form specified in the <a href="#color">Color</a> section of this document</td>
</tr>
<tr>
<td><code>x, y, width, height</code></td>
<td><code>number</code></td>
<td style="text-align:left">The local position and size of the area to fill, in pixels</td>
</tr>
</tbody>
</table>
<p>Fills the area with the color specified.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> samplePort = <span class="hljs-keyword">new</span> Port(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span>}),
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onDraw(port) {
			port.fillColor(<span class="hljs-string">"red"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, port.width/<span class="hljs-number">2</span>, port.height);
			port.fillColor(<span class="hljs-string">"blue"</span>, port.width/<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, port.width/<span class="hljs-number">2</span>, port.height);
		}
	}
})
application.add(samplePort);
</code></pre>
<p><img src="../assets/piu/portFillColor.png" alt="" /></p>
<hr />
<p><strong><code>fillTexture(texture, color, x, y, width, height [, sx, sy, sw, sh])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>texture</code></td>
<td><code>texture</code></td>
<td style="text-align:left">The filling image</td>
</tr>
<tr>
<td><code>x, y, width, height</code></td>
<td><code>number</code></td>
<td style="text-align:left">The destination area--the local position and size of the area to copy pixels to, in pixels</td>
</tr>
<tr>
<td><code>sx, sy, sw, sh</code></td>
<td><code>number</code></td>
<td style="text-align:left">The source area--the position and size of the area to copy pixels from, in pixels. The default is the entire image.</td>
</tr>
</tbody>
</table>
<p>Fills the area with the image. The source area of the image is repeated to cover the destination area.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> alphaHeartTexture = <span class="hljs-keyword">new</span> Texture(<span class="hljs-string">"heart.png"</span>);

<span class="hljs-keyword">let</span> samplePort = <span class="hljs-keyword">new</span> Port(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span>}),
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onDraw(port) {
			<span class="hljs-keyword">let</span> w = port.width, h = port.height;
			port.fillTexture(alphaHeartTexture, <span class="hljs-string">"red"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, w, h/<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>);
			port.fillTexture(alphaHeartTexture, <span class="hljs-string">"blue"</span>, <span class="hljs-number">0</span>, h/<span class="hljs-number">2</span>, w, h/<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>);
		}
	}
})
application.add(samplePort);
</code></pre>
<p><img src="../assets/piu/portFillTexture.png" alt="" /></p>
<hr />
<p><strong><code>invalidate([x, y, width, height])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x, y, width, height</code></td>
<td><code>number</code></td>
<td style="text-align:left">The local position and size of the area to invalidate, in pixels</td>
</tr>
</tbody>
</table>
<p>Invalidates the specified area of this port (or the entire port if no area is specified), which triggers the <code>onDraw</code> event.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> samplePort = <span class="hljs-keyword">new</span> Port(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span>}),
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onCreate(port) {
			<span class="hljs-keyword">this</span>.color = <span class="hljs-string">"blue"</span>;
		}
		onDraw(port) {
			port.fillColor(<span class="hljs-keyword">this</span>.color, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, port.width, port.height);
		}
		onTouchEnded(port) {
			<span class="hljs-keyword">this</span>.color = (<span class="hljs-keyword">this</span>.color == <span class="hljs-string">"blue"</span>)? <span class="hljs-string">"red"</span> : <span class="hljs-string">"blue"</span>;
			port.invalidate();
		}
	}
})
application.add(samplePort);
</code></pre>
<p><img src="../assets/piu/portInvalidate.gif" alt="" /></p>
<hr />
<p><strong><code>measureString(string, style)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>string</code></td>
<td><code>string</code></td>
<td style="text-align:left">The string to measure</td>
</tr>
<tr>
<td><code>style</code></td>
<td><code>style</code></td>
<td style="text-align:left">The style to use when measuring the string</td>
</tr>
</tbody>
</table>
<p>Measures the string the way a <code>label</code> instance would, with the style specified</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>});
<span class="hljs-keyword">let</span> samplePort = <span class="hljs-keyword">new</span> Port(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span>}),
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onCreate(port) {
			<span class="hljs-keyword">this</span>.index = <span class="hljs-number">0</span>;
			<span class="hljs-keyword">this</span>.strings = [<span class="hljs-string">"H"</span>, <span class="hljs-string">"He"</span>, <span class="hljs-string">"Hel"</span>, <span class="hljs-string">"Hell"</span>, <span class="hljs-string">"Hello"</span>];
		}
		onDraw(port) {
			<span class="hljs-keyword">let</span> string = <span class="hljs-keyword">this</span>.strings[<span class="hljs-keyword">this</span>.index];
			<span class="hljs-keyword">let</span> stringWidth = port.measureString(string, sampleStyle).width;
			port.drawString(string, sampleStyle, <span class="hljs-string">"blue"</span>, (port.width-stringWidth)/<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, stringWidth, <span class="hljs-number">30</span>);
		}
		onTouchEnded(port) {
			<span class="hljs-keyword">this</span>.index++;
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.index == <span class="hljs-keyword">this</span>.strings.length) <span class="hljs-keyword">this</span>.index = <span class="hljs-number">0</span>;
			port.invalidate();
		}
	}
})
application.add(samplePort);
</code></pre>
<p><img src="../assets/piu/portMeasure.gif" alt="" /></p>
<hr />
<p><strong><code>popClip()</code></strong></p>
<p>Restores the current clip rectangle from this port's clip rectangles stack</p>
<hr />
<p><strong><code>pushClip([x, y, width, height])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x, y, width, height</code></td>
<td><code>number</code></td>
<td>The local position and size of the clip rectangle</td>
</tr>
</tbody>
</table>
<p>Saves the specified clip rectangle to this port's clip rectangles stack</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> alphaHeartTexture = <span class="hljs-keyword">new</span> Texture(<span class="hljs-string">"heart.png"</span>);
<span class="hljs-keyword">let</span> samplePort = <span class="hljs-keyword">new</span> Port(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span>}),
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onDraw(port) {
			port.fillTexture(alphaHeartTexture, <span class="hljs-string">"blue"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, port.width, port.height, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>);
			port.pushClip(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>);
			port.fillTexture(alphaHeartTexture, <span class="hljs-string">"red"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, port.width, port.height, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>);
			port.popClip();
		}
	}
})
application.add(samplePort);
</code></pre>
<p><img src="../assets/piu/portPushPopClip.png" alt="" /></p>
<hr />
<p><a id="port-events"></a></p>
<h4>Events</h4>
<p>Same as for <code>content</code> object (see <a href="#content-events">Events</a> in the section <a href="#content-object">Content Object</a>), plus:</p>
<p><strong><code>onDraw(port, x, y, width, height)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>port</code></td>
<td><code>port</code></td>
<td style="text-align:left">The <code>port</code> object that triggered the event</td>
</tr>
<tr>
<td><code>x, y, width, height</code></td>
<td><code>number</code></td>
<td style="text-align:left">The local position and size of the area to draw, in pixels</td>
</tr>
</tbody>
</table>
<p>This event is triggered when the specified <code>port</code> object needs to update the area (when it's invalidated).</p>
<h3>Row Object</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../modules/piu/All/piuRow.c" title="piuRow.c"><code>piuRow.c</code></a></li>
<li><strong>Relevant Examples:</strong> N/A</li>
</ul>
<p>The <code>row</code> object is a <code>container</code> object that arranges its contents horizontally.</p>
<h4>Constructor Description</h4>
<h5><code>Row([behaviorData, dictionary])</code></h5>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>behaviorData</code></td>
<td><code>*</code></td>
<td style="text-align:left">A parameter that is passed into the <code>onCreate</code> function of this content's <code>behavior</code>. This may be any type of object, including <code>null</code> or a dictionary with arbitrary parameters.</td>
</tr>
<tr>
<td><code>dictionary</code></td>
<td><code>object</code></td>
<td style="text-align:left">An object with properties to initialize the result. The dictionary is the same as for the <code>content</code> object. Only parameters specified in the <a href="#content-dictionary">Dictionary</a> section of the <a href="#container-object">Content Object</a> will have an effect; other parameters will be ignored.</td>
</tr>
</tbody>
</table>
<p>Returns a <code>row</code> instance, an object that inherits from <code>Row.prototype</code></p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleRow = <span class="hljs-keyword">new</span> Row(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">contents</span>: [
		<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"red"</span>),
		<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"blue"</span>),
		<span class="hljs-keyword">new</span> ColoredSquare(<span class="hljs-string">"black"</span>),
	]
});
application.add(sampleRow);
</code></pre>
<p><img src="../assets/piu/sampleRow1.png" alt="" /></p>
<h5><code>Row.template(anonymous)</code></h5>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>anonymous</code></td>
<td><code>function</code></td>
<td style="text-align:left">A function that returns an object with properties to initialize the instances that the result creates</td>
</tr>
</tbody>
</table>
<p>Returns a constructor, a function that creates instances of <code>Row.prototype</code>. The <code>prototype</code> property of the result is <code>Row.prototype</code>. The result also provides a <code>template</code> function.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> ColoredSquare = Content.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $ })
}));

<span class="hljs-keyword">let</span> SampleRow = Row.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">contents</span>: [
		<span class="hljs-keyword">new</span> ColoredSquare($.firstColor),
		<span class="hljs-keyword">new</span> ColoredSquare($.secondColor),
	],
}));
application.add(<span class="hljs-keyword">new</span> SampleRow({ <span class="hljs-attr">firstColor</span>:<span class="hljs-string">"red"</span>, <span class="hljs-attr">secondColor</span>:<span class="hljs-string">"blue"</span> }));
</code></pre>
<p><img src="../assets/piu/sampleRow2.png" alt="" /></p>
<h4>Prototype Description</h4>
<p>Prototype inherits from <code>Container.prototype</code>.</p>
<p><a id="row-events"></a></p>
<h4>Events</h4>
<p>Same as for <code>container</code> object (see <a href="#container-events">Events</a> in the section <a href="#container-object">Container Object</a>)</p>
<h3>Scroller Object</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../modules/piu/All/piuScroller.c" title="piuScroller.c"><code>piuScroller.c</code></a></li>
<li><strong>Relevant Examples:</strong> <a href="../../examples/piu/scroller" title="scroller">scroller</a>, <a href="../../examples/piu/list" title="list">list</a></li>
</ul>
<p>The <code>scroller</code> object is a <code>container</code> object that scrolls its first <code>content</code> object horizontally and vertically.</p>
<h4>Constructor Description</h4>
<h5><code>Scroller([behaviorData, dictionary])</code></h5>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>behaviorData</code></td>
<td><code>*</code></td>
<td style="text-align:left">A parameter that is passed into the <code>onCreate</code> function of this content's <code>behavior</code>. This may be any type of object, including <code>null</code> or a dictionary with arbitrary parameters.</td>
</tr>
<tr>
<td><code>dictionary</code></td>
<td><code>object</code></td>
<td style="text-align:left">An object with properties to initialize the result. Only parameters specified in the <a href="#scroller-dictionary">Dictionary</a> section below will have an effect; other parameters will be ignored.</td>
</tr>
</tbody>
</table>
<p>Returns a <code>scroller</code> instance, an object that inherits from <code>Scroller.prototype</code></p>
<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { VerticalScrollerBehavior } <span class="hljs-keyword">from</span> <span class="hljs-string">"scroller"</span>;	<span class="hljs-comment">// See "scroller.js" from the scroller example</span>

<span class="hljs-keyword">let</span> sampleStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"white"</span> });
<span class="hljs-keyword">let</span> scrollerSample = <span class="hljs-keyword">new</span> Scroller(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, 
	<span class="hljs-attr">style</span>: sampleStyle, <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span> }),
	<span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">backgroundTouch</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">clip</span>: <span class="hljs-literal">true</span>,
	<span class="hljs-attr">Behavior</span>: VerticalScrollerBehavior,
	<span class="hljs-attr">contents</span>:[
		Text(<span class="hljs-literal">null</span>, {
			<span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>,
			<span class="hljs-attr">blocks</span>: [
				{<span class="hljs-attr">spans</span>: [
					<span class="hljs-string">"Lorem ipsum dolor sit amet, consectetur adipiscing elit."</span>,
					<span class="hljs-string">"Pellentesque a massa et massa rutrum maximus non quis tellus."</span>,
					<span class="hljs-string">"Fusce quis eros quis leo sodales vehicula. Praesent pretium massa vel ornare pharetra."</span>
				]}
			]
		}),
	],
});
application.add(scrollerSample);
</code></pre>
<p><img src="../assets/piu/sampleScroller1.gif" alt="" /></p>
<h5><code>Scroller.template(anonymous)</code></h5>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>anonymous</code></td>
<td><code>function</code></td>
<td style="text-align:left">A function that returns an object with properties to initialize the instances that the result creates</td>
</tr>
</tbody>
</table>
<p>Returns a constructor, a function that creates instances of <code>Scroller.prototype</code>. The <code>prototype</code> property of the result is <code>Scroller.prototype</code>. The result also provides a <code>template</code> function.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { VerticalScrollerBehavior } <span class="hljs-keyword">from</span> <span class="hljs-string">"scroller"</span>;	<span class="hljs-comment">// See "scroller.js" from the scroller example</span>

<span class="hljs-keyword">let</span> sampleStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"white"</span> });
<span class="hljs-keyword">let</span> ScrollerSample = Scroller.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"black"</span> }),
	<span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">backgroundTouch</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">clip</span>: <span class="hljs-literal">true</span>,
	<span class="hljs-attr">Behavior</span>: VerticalScrollerBehavior,
	<span class="hljs-attr">contents</span>:[
		Text(<span class="hljs-literal">null</span>, {
			<span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
			<span class="hljs-attr">string</span>: <span class="hljs-string">"The quick brown fox jumps over the lazy dog. The quick brown fox jumps over the lazy dog. The quick brown fox jumps over the lazy dog."</span>,
		}),
	],
}));
<span class="hljs-keyword">let</span> screenWithScrollerSample = <span class="hljs-keyword">new</span> Column(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">style</span>: sampleStyle, 
	<span class="hljs-attr">contents</span>: [
		Text(<span class="hljs-literal">null</span>, {
			<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">40</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
			<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"blue"</span> }),
			<span class="hljs-attr">string</span>: <span class="hljs-string">"Scroller Example"</span>
		}),
		<span class="hljs-keyword">new</span> ScrollerSample(),
	]
});
application.add(screenWithScrollerSample);
</code></pre>
<p><img src="../assets/piu/scrollerSample2.gif" alt="" /></p>
<p><a id="scroller-dictionary"></a></p>
<h4>Dictionary</h4>
<p>Same as for <code>container</code> object (see <a href="#container-dictionary">Dictionary</a> in the section <a href="#container-object">Container Object</a>), plus:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th style="text-align:left">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>loop</code></td>
<td><code>boolean</code></td>
<td style="text-align:left">If <code>true</code>, this scroller will loop its first <code>content</code> object</td>
</tr>
</tbody>
</table>
<h4>Prototype Description</h4>
<p>Prototype inherits from <code>Container.prototype</code>.</p>
<h5>Properties</h5>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default Value</th>
<th>Read Only</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>constraint</code></td>
<td><code>object</code></td>
<td></td>
<td>✓</td>
<td style="text-align:left">The constrained scroll offsets of this scroller, as an object with <code>x</code> and <code>y</code> number properties. The scroll offsets when this scroller is tracking may be different from the constrained scroll offsets.</td>
</tr>
<tr>
<td><code>loop</code></td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td></td>
<td style="text-align:left">If <code>true</code>, this content will restart its clock when its time equals its duration</td>
</tr>
<tr>
<td><code>scroll</code></td>
<td><code>object</code></td>
<td></td>
<td></td>
<td style="text-align:left">The scroll offsets of this scroller, as an object with <code>x</code> and <code>y</code> number properties, specified in pixels</td>
</tr>
<tr>
<td><code>tracking</code></td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td></td>
<td style="text-align:left">If <code>true</code>, this scroller is tracking. When tracking, the scroller does not constrain its scroll offsets.</td>
</tr>
</tbody>
</table>
<h5>Functions</h5>
<p><strong><code>reveal(bounds)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bounds</code></td>
<td><code>object</code></td>
<td style="text-align:left">The local position and size of the area to reveal, as an object with <code>x</code>, <code>y</code>, <code>width</code>, and <code>height</code> properties, specified in pixels</td>
</tr>
</tbody>
</table>
<p>Scrolls this scroller to reveal the specified area</p>
<pre><code class="language-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SampleScrollerBehavior</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
	onDisplaying(scroller) {
		<span class="hljs-keyword">let</span> bounds = scroller.bounds;
		bounds.y = scroller.first.last.y;
		scroller.reveal(bounds);
	}
}
<span class="hljs-keyword">let</span> sampleStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"white"</span> });
<span class="hljs-keyword">let</span> ScrollerItem = Label.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">left</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">90</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">30</span>,
	<span class="hljs-attr">style</span>: sampleStyle, <span class="hljs-attr">string</span>: <span class="hljs-string">"Item"</span> + $
}));
<span class="hljs-keyword">let</span> scrollerSample = <span class="hljs-keyword">new</span> Scroller(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, 
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"black"</span> }),
	<span class="hljs-attr">Behavior</span>: SampleScrollerBehavior,
	<span class="hljs-attr">contents</span>:[
		Column(<span class="hljs-literal">null</span>, {
			<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>,
			<span class="hljs-attr">contents</span>: [
				ScrollerItem(<span class="hljs-number">1</span>),
				ScrollerItem(<span class="hljs-number">2</span>),
				ScrollerItem(<span class="hljs-number">3</span>),
				ScrollerItem(<span class="hljs-number">4</span>),
				ScrollerItem(<span class="hljs-number">5</span>),
			]
		})
	],
});
application.add(scrollerSample);
</code></pre>
<p><img src="../assets/piu/scrollerReveal.png" alt="" /></p>
<hr />
<p><strong><code>scrollBy(dx, dy)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dx, dy</code></td>
<td><code>number</code></td>
<td style="text-align:left">The deltas by which to scroll this scroller, in pixels</td>
</tr>
</tbody>
</table>
<p>Adds the deltas to the scroll offsets of this scroller</p>
<pre><code class="language-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SampleScrollerBehavior</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
	onDisplaying(scroller) {
		<span class="hljs-keyword">this</span>.halfway = scroller.y + scroller.height/<span class="hljs-number">2</span>;
	}
	onTouchEnded(scroller, id, x, y, ticks) {
		scroller.scrollBy(<span class="hljs-number">0</span>, y-<span class="hljs-keyword">this</span>.halfway);
	}
}

<span class="hljs-keyword">let</span> ColoredSquare = Content.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">left</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">80</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $ })
}));
<span class="hljs-keyword">let</span> scrollerSample = <span class="hljs-keyword">new</span> Scroller(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, 
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"black"</span> }),
	<span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">backgroundTouch</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">clip</span>: <span class="hljs-literal">true</span>,
	<span class="hljs-attr">Behavior</span>: SampleScrollerBehavior,
	<span class="hljs-attr">contents</span>:[
		Column(<span class="hljs-literal">null</span>, {
			<span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
			<span class="hljs-attr">contents</span>: [
				ColoredSquare(<span class="hljs-string">"red"</span>),
				ColoredSquare(<span class="hljs-string">"orange"</span>),
				ColoredSquare(<span class="hljs-string">"yellow"</span>),
				ColoredSquare(<span class="hljs-string">"green"</span>),
				ColoredSquare(<span class="hljs-string">"blue"</span>),
				ColoredSquare(<span class="hljs-string">"purple"</span>),
			]
		})
	],
});
application.add(scrollerSample);
</code></pre>
<p><img src="../assets/piu/scrollBy.gif" alt="" /></p>
<hr />
<p><strong><code>scrollTo(x, y)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x, y</code></td>
<td><code>number</code></td>
<td style="text-align:left">The offsets to which to scroll this scroller, in pixels</td>
</tr>
</tbody>
</table>
<p>Changes the scroll offsets of this scroller</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> ColoredSquare = Content.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">80</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">80</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $ }),
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onDisplaying(content) {
			<span class="hljs-keyword">this</span>.x = content.x - <span class="hljs-number">40</span>;
			<span class="hljs-keyword">this</span>.y = content.y - <span class="hljs-number">40</span>;
		}
		onTouchEnded(content) {
			<span class="hljs-keyword">let</span> scroller = content.container.container;
			scroller.scrollTo(<span class="hljs-keyword">this</span>.x, <span class="hljs-keyword">this</span>.y);
		}
	}
}));
<span class="hljs-keyword">let</span> scrollerSample = <span class="hljs-keyword">new</span> Scroller(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, 
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"black"</span> }),
	<span class="hljs-attr">contents</span>:[
		Column(<span class="hljs-literal">null</span>, {
			<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>,
			<span class="hljs-attr">contents</span>: [
				ColoredSquare(<span class="hljs-string">"red"</span>, {<span class="hljs-attr">left</span>: <span class="hljs-number">0</span>}),
				ColoredSquare(<span class="hljs-string">"orange"</span>, {<span class="hljs-attr">left</span>: <span class="hljs-number">40</span>}),
				ColoredSquare(<span class="hljs-string">"yellow"</span>, {<span class="hljs-attr">left</span>: <span class="hljs-number">80</span>}),
				ColoredSquare(<span class="hljs-string">"green"</span>, {<span class="hljs-attr">left</span>: <span class="hljs-number">120</span>}),
				ColoredSquare(<span class="hljs-string">"blue"</span>, {<span class="hljs-attr">left</span>: <span class="hljs-number">160</span>}),
				ColoredSquare(<span class="hljs-string">"purple"</span>, {<span class="hljs-attr">left</span>: <span class="hljs-number">200</span>}),
			]
		})
	],
});
application.add(scrollerSample);
</code></pre>
<p><img src="../assets/piu/scrollTo.gif" alt="" /></p>
<hr />
<p><a id="scroller-events"></a></p>
<h4>Events</h4>
<p>Same as for <code>container</code> object (see <a href="#container-events">Events</a> in the section <a href="#container-object">Container Object</a>), plus:</p>
<h5><code>onScrolled(scroller)</code></h5>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>scroller</code></td>
<td><code>scroller</code></td>
<td style="text-align:left">The <code>scroller</code> object that triggered the event</td>
</tr>
</tbody>
</table>
<p>This event is triggered when the specified <code>scroller</code> object scrolls.</p>
<p>When triggered by a scroller, this event is also triggered by all the contents of the scroller. This makes it easier to implement scrollbars, for example.</p>
<h3>Skin Object</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../modules/piu/All/piuSkin.c" title="piuSkin.c"><code>piuSkin.c</code></a></li>
<li><strong>Relevant Examples:</strong> <a href="../../examples/piu/balls" title="balls">balls</a>, <a href="../../examples/piu/cards" title="cards">cards</a>, <a href="../../examples/piu/drag" title="drag">drag</a></li>
</ul>
<p>The <code>skin</code> object defines the appearance of <code>content</code> objects. It can draw or fill <code>content</code> objects with portions of <code>texture</code> objects or fill or stroke <code>content</code> objects with colors.</p>
<h4>Constructor Description</h4>
<h5><code>Skin([dictionary])</code></h5>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dictionary</code></td>
<td><code>object</code></td>
<td style="text-align:left">An object with properties to initialize the result. Only parameters specified in the <a href="#skin-dictionary">Dictionary</a> section below will have an effect; other parameters will be ignored.</td>
</tr>
</tbody>
</table>
<p>Returns a <code>skin</code> instance, an object that inherits from <code>Skin.prototype</code></p>
<pre><code class="language-javascript"><span class="hljs-comment">// Texture skin</span>
<span class="hljs-keyword">let</span> ballTexture = <span class="hljs-keyword">new</span> Texture(<span class="hljs-string">"balls.png"</span>);
<span class="hljs-keyword">let</span> ballSkin = <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">texture</span>:ballTexture, <span class="hljs-attr">x</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">y</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">width</span>:<span class="hljs-number">30</span>, <span class="hljs-attr">height</span>:<span class="hljs-number">30</span>, <span class="hljs-attr">variants</span>:<span class="hljs-number">30</span> });
<span class="hljs-keyword">let</span> ballContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: ballSkin
});
application.add(ballContent);

<span class="hljs-comment">// Color skin</span>
<span class="hljs-keyword">let</span> borderedSkin = <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"black"</span>, <span class="hljs-attr">stroke</span>: <span class="hljs-string">"blue"</span>, <span class="hljs-attr">borders</span>: { <span class="hljs-attr">left</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">5</span>}})
<span class="hljs-keyword">let</span> borderedContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">50</span>,
	<span class="hljs-attr">skin</span>: borderedSkin
});
application.add(borderedContent);
</code></pre>
<p><img src="../assets/piu/sampleSkin1.png" alt="" /></p>
<h5><code>Skin.template([dictionary])</code></h5>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dictionary</code></td>
<td><code>object</code></td>
<td>An object with properties to initialize the result. Only parameters specified in the <a href="#skin-dictionary">Dictionary</a> section below will have an effect; other parameters will be ignored.</td>
</tr>
</tbody>
</table>
<p>Returns a constructor, a function that creates instances of <code>Skin.prototype</code>. The <code>prototype</code> property of the result is <code>Skin.prototype</code>.</p>
<pre><code class="language-javascript"><span class="hljs-comment">// Texture skin</span>
<span class="hljs-keyword">let</span> ballTexture = <span class="hljs-keyword">new</span> Texture(<span class="hljs-string">"balls.png"</span>);
<span class="hljs-keyword">let</span> BallSkin = Skin.template({ <span class="hljs-attr">texture</span>:ballTexture, <span class="hljs-attr">x</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">y</span>:<span class="hljs-number">0</span>, <span class="hljs-attr">width</span>:<span class="hljs-number">30</span>, <span class="hljs-attr">height</span>:<span class="hljs-number">30</span>, <span class="hljs-attr">variants</span>:<span class="hljs-number">30</span> });
<span class="hljs-keyword">let</span> ballContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">variant</span>: <span class="hljs-number">2</span>,
		<span class="hljs-attr">Skin</span>: BallSkin		<span class="hljs-comment">// Note the capital "S" in "Skin"</span>
});
application.add(ballContent);

<span class="hljs-comment">// Color skin</span>
<span class="hljs-keyword">let</span> BorderedSkin = Skin.template({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"black"</span>, <span class="hljs-attr">stroke</span>: <span class="hljs-string">"red"</span>, <span class="hljs-attr">borders</span>: { <span class="hljs-attr">left</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">5</span>}})
<span class="hljs-keyword">let</span> borderedContent = <span class="hljs-keyword">new</span> Content(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">50</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> BorderedSkin()	<span class="hljs-comment">// Note the lowercase "S" in "Skin"</span>
});
application.add(borderedContent);
</code></pre>
<p><img src="../assets/piu/sampleSkin2.png" alt="" /></p>
<p><a id="skin-dictionary"></a></p>
<h4>Dictionary</h4>
<p>If there is a <code>texture</code> or <code>Texture</code> property in the dictionary, the constructor returns a texture skin, otherwise the constructor returns a color skin.</p>
<p><strong>Texture skins only</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bottom</code></td>
<td><code>number</code></td>
<td style="text-align:left">The skin's bottom tile (setting the <code>bottom</code> parameter in the created instance, and <code>bottom</code> in the created instance's <code>tiles</code> property)</td>
</tr>
<tr>
<td><code>color</code></td>
<td><code>string</code></td>
<td style="text-align:left">If the texture has only an alpha bitmap, the value of the <code>color</code> property will be used to colorize the bitmap. Must be a string or array of strings of the form specified in the <a href="colors">Colors</a> section of this document.</td>
</tr>
<tr>
<td><code>left</code></td>
<td><code>number</code></td>
<td style="text-align:left">The skin's left tile (setting the <code>left</code> parameter in the created instance, and <code>left</code> in the created instance's <code>tiles</code> property)</td>
</tr>
<tr>
<td><code>right</code></td>
<td><code>number</code></td>
<td style="text-align:left">The skin's right tile (setting the <code>right</code> parameter in the created instance, and <code>right</code> in the created instance's <code>tiles</code> property)</td>
</tr>
<tr>
<td><code>states</code></td>
<td><code>number</code></td>
<td style="text-align:left">This skin's vertical offset between states, in pixels</td>
</tr>
<tr>
<td><code>texture</code></td>
<td><code>texture</code></td>
<td style="text-align:left">This skin's texture</td>
</tr>
<tr>
<td><code>Texture</code></td>
<td><code>function</code></td>
<td style="text-align:left">A function that creates instances of <code>Texture.prototype</code>. This skin will create an instance of this <code>texture</code>, and seet its <code>texture</code> parameter to the created instance.</td>
</tr>
<tr>
<td><code>tiles</code></td>
<td><code>object</code></td>
<td style="text-align:left">This skin's tiles, as an object with <code>left</code>, <code>right</code>, <code>top</code>, or <code>bottom</code> number properties, specified in pixels. See <a href="#tiles">Tiles</a> for more information.</td>
</tr>
<tr>
<td><code>top</code></td>
<td><code>number</code></td>
<td style="text-align:left">The skin's top tile (setting the <code>top</code> parameter in the created instance, and <code>top</code> in the created instance's <code>tiles</code> property)</td>
</tr>
<tr>
<td><code>variants</code></td>
<td><code>number</code></td>
<td style="text-align:left">This skin's horizontal offset between variants, in pixels</td>
</tr>
<tr>
<td><code>x, y, width, height</code></td>
<td><code>number</code></td>
<td style="text-align:left">The portion of the <code>texture</code> object to extract, in pixels (setting the created instance's <code>bounds</code>, <code>width</code>, and <code>height</code> properties)</td>
</tr>
</tbody>
</table>
<p><strong>Color skins only</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>borders</code></td>
<td><code>object</code></td>
<td style="text-align:left">The borders to stroke <code>content</code> objects with, as an object with <code>left</code>, <code>right</code>, <code>top</code>, or <code>bottom</code> number properties, specified in pixels. The default is no borders.</td>
</tr>
<tr>
<td><code>fill</code></td>
<td><code>string</code> or <code>array</code></td>
<td style="text-align:left">The color(s) to fill <code>content</code> objects with, as a string or an <code>array</code> of strings of the form specified in the <a href="#color">Color</a> section of this document.</td>
</tr>
<tr>
<td><code>stroke</code></td>
<td><code>string</code> or <code>array</code></td>
<td style="text-align:left">This skin's stroke color(s), as a string or an <code>array</code> of strings of the form specified in the <a href="#color">Color</a> section of this document.</td>
</tr>
</tbody>
</table>
<h4>Prototype Description</h4>
<p>Prototype inherits from <code>Object.prototype</code>.</p>
<h5>Properties</h5>
<p>All properties of a <code>skin</code> object are read-only, but you can change the style of content objects at any time.</p>
<p><strong>Texture Skins</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bottom</code></td>
<td><code>number</code></td>
<td>0</td>
<td>The skin's bottom tile</td>
</tr>
<tr>
<td><code>color</code></td>
<td><code>string</code></td>
<td></td>
<td>If the texture has only an alpha bitmap, the value of the <code>color</code> property will be used to colorize the bitmap. Must be a string or array of strings of the form specified in the <a href="colors">Colors</a> section of this document.</td>
</tr>
<tr>
<td><code>bounds</code></td>
<td><code>object</code></td>
<td></td>
<td>The portion of the <code>texture</code> object to extract, as an object with <code>x</code>, <code>y</code>, <code>width</code>, and <code>height</code> number properties, specified in pixels</td>
</tr>
<tr>
<td><code>height</code></td>
<td><code>number</code></td>
<td></td>
<td>This skin's height, in pixels</td>
</tr>
<tr>
<td><code>left</code></td>
<td><code>number</code></td>
<td>0</td>
<td>The skin's left tile</td>
</tr>
<tr>
<td><code>right</code></td>
<td><code>number</code></td>
<td>0</td>
<td>The skin's right tile</td>
</tr>
<tr>
<td><code>states</code></td>
<td><code>number</code></td>
<td><code>undefined</code></td>
<td>This skin's vertical offset between states, in pixels</td>
</tr>
<tr>
<td><code>texture</code></td>
<td><code>texture</code></td>
<td></td>
<td>This skin's texture</td>
</tr>
<tr>
<td><code>tiles</code></td>
<td><code>object</code></td>
<td><code>undefined</code></td>
<td>This skin's tiles, as an object with <code>left</code>, <code>right</code>, <code>top</code>, and <code>bottom</code> number properties, specified in pixels</td>
</tr>
<tr>
<td><code>top</code></td>
<td><code>number</code></td>
<td>0</td>
<td>The skin's top tile</td>
</tr>
<tr>
<td><code>variants</code></td>
<td><code>number</code></td>
<td><code>undefined</code></td>
<td>This skin's horizontal offset between variants, in pixels</td>
</tr>
<tr>
<td><code>width</code></td>
<td><code>number</code></td>
<td></td>
<td>This skin's width, in pixels</td>
</tr>
</tbody>
</table>
<p><strong>Color Skins</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>borders</code></td>
<td><code>object</code></td>
<td><code>{left: 0, right: 0, top: 0, bottom: 0}</code></td>
<td>This skin's borders, as an object with <code>left</code>, <code>right</code>, <code>top</code>, and <code>bottom</code> number properties, specified in pixels</td>
</tr>
<tr>
<td><code>fill</code></td>
<td><code>object</code></td>
<td></td>
<td>This skin's fill color(s), as an <code>array</code> of strings of the form specified in the <a href="#color">Color</a> section of this document.<BR><BR>The <code>state</code> property of the <code>content</code> object using the skin determines the index of the array; if <code>state</code> is not an integer, colors from surrounding states are blended. If specified as one string instead of an array, it is treated as an array with a single item. The default fill color is <code>transparent</code>.</td>
</tr>
<tr>
<td><code>stroke</code></td>
<td><code>object</code></td>
<td></td>
<td>This skin's stroke color(s), as an <code>array</code> of strings of the form specified in the <a href="#color">Color</a> section of this document.<BR><BR>The <code>state</code> property of the <code>content</code> object using the skin determines the index of the array; if <code>state</code> is not an integer, colors from surrounding states are blended. If specified as one string instead of an array, it is treated as an array with a single item. The default stroke color is <code>transparent</code>.</td>
</tr>
</tbody>
</table>
<hr />
<h3>Sound Object</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../modules/piu/MC/piuSound.c" title="piuSound.c"><code>piuSound.c</code></a></li>
<li><strong>Relevant Examples:</strong> <a href="../../examples/piu/sound" title="sound">sound</a></li>
</ul>
<p>The <code>Sound</code> object plays audio using the <a href="https://github.com/Moddable-OpenSource/moddable/blob/public/documentation/pins/audioout.html"><code>AudioOut</code> class</a>. It may be used to play all or part of an audio resource once or repeatedly. The <code>Sound</code> object is designed to play short sounds to provide audible feedback for user actions. Use the <code>AudioOut</code> class directly for other audio playback needs.</p>
<h4>Constructor Description</h4>
<p>A separate instance of the Sound class is created for each audio resource to be played.</p>
<h5><code>Sound(dictionary)</code></h5>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dictionary</code></td>
<td><code>object</code></td>
<td style="text-align:left">An object with properties to initialize the result. Only parameters specified in the <a href="#sound-dictionary">Dictionary</a> section below have an effect; other parameters are ignored.</td>
</tr>
</tbody>
</table>
<p>Returns a <code>sound</code> instance, an object that inherits from <code>Sound.prototype</code></p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleSound = <span class="hljs-keyword">new</span> Sound({ <span class="hljs-attr">path</span>: <span class="hljs-string">"piano.wav"</span> });
</code></pre>
<p><a id="sound-dictionary"></a></p>
<h4>Dictionary</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>path</code></td>
<td><code>string</code></td>
<td style="text-align:left">The name of the resource containing the audio audio.</td>
</tr>
<tr>
<td><code>offset</code></td>
<td><code>number</code></td>
<td style="text-align:left">The number of samples into the audio to begin playback. If not specified, playback begins with the first sample.</td>
</tr>
<tr>
<td><code>size</code></td>
<td><code>number</code></td>
<td style="text-align:left">The number of samples to play. If not specified, playback continues to the end of the audio resource.</td>
</tr>
</tbody>
</table>
<h4>Prototype Description</h4>
<p>Prototype inherits from <code>Object.prototype</code>.</p>
<h5>Properties</h5>
<p>All properties are static. The default values for the <code>bitsPerSample</code>, <code>numChannels</code>, and <code>sampleRate</code> properties reflect the configuration of the <code>AudioOut</code> module.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default Value</th>
<th>Read Only</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bitsPerSample</code></td>
<td><code>number</code></td>
<td></td>
<td>✓</td>
<td style="text-align:left">The number of bits (either 8 or 16) for audio playback.</td>
</tr>
<tr>
<td><code>numChannels</code></td>
<td><code>number</code></td>
<td></td>
<td>✓</td>
<td style="text-align:left">The number of channels for audio playback.</td>
</tr>
<tr>
<td><code>sampleRate</code></td>
<td><code>number</code></td>
<td></td>
<td>✓</td>
<td style="text-align:left">The number of samples per second for audio playback.</td>
</tr>
<tr>
<td><code>volume</code></td>
<td><code>number</code></td>
<td>1</td>
<td></td>
<td style="text-align:left">The volume of sounds; values range from 0 for silent, to 1 for full volume</td>
</tr>
</tbody>
</table>
<h5>Functions</h5>
<p><strong><code>static close()</code></strong></p>
<p>Stops any sounds that are playing and closes the <code>AudioOut</code> instance used by the <code>Sound</code> object. Instances of the <code>Sound</code> class are not closed or otherwise affected by this call.</p>
<pre><code class="language-javascript">Sound.close();
</code></pre>
<hr />
<p><strong><code>play([stream, repeat, callback])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>stream</code></td>
<td><code>number</code></td>
<td style="text-align:left">The stream to play the sound on. Defaults to <code>0</code>.</td>
</tr>
<tr>
<td><code>repeat</code></td>
<td><code>number</code></td>
<td style="text-align:left">The number of times to repeat the sound. Defaults to <code>1</code>. Set the <code>repeat</code> property to <code>Infinity</code> to repeat the sound indefinitely.</td>
</tr>
<tr>
<td><code>callback</code></td>
<td><code>function</code></td>
<td style="text-align:left">An optional callback function to invoke after the audio resource completes playback.</td>
</tr>
</tbody>
</table>
<p>Plays the audio sample on the specified stream <code>repeat</code> times. If the <code>callback</code> parameter is provided, it is invoked after playback of the audio completes.</p>
<pre><code class="language-javascript"><span class="hljs-comment">// Play sampleSound once</span>
sampleSound.play();

<span class="hljs-comment">// Play sampleSound 5 times</span>
sampleSound.play(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>);	

<span class="hljs-comment">// Play sampleSound once and print to the console when finished</span>
sampleSound.play(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, () =&gt; {
	trace(<span class="hljs-string">"Sound finished\n"</span>);
});
</code></pre>
<hr />
<h3>Style Object</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../modules/piu/All/piuStyle.c" title="piuStyle.c"><code>piuStyle.c</code></a></li>
<li><strong>Relevant Examples:</strong> <a href="../../examples/piu/text" title="text">text</a></li>
</ul>
<p>The <code>style</code> object defines the appearance of strings in <code>label</code> and <code>text</code> objects. Styles can be inherited from those of containing objects. For more information, see the <a href="#cascading-styles">Cascading Styles</a> section below.</p>
<h4>Constructor Description</h4>
<h5><code>Style(dictionary)</code></h5>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dictionary</code></td>
<td><code>object</code></td>
<td style="text-align:left">An object with properties to initialize the result. Only parameters specified in the <a href="#style-dictionary">Dictionary</a> section below will have an effect; other parameters will be ignored.</td>
</tr>
</tbody>
</table>
<p>Returns <code>style</code> instance, an object that inherits from <code>Style.prototype</code></p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"blue"</span> });
<span class="hljs-keyword">let</span> sampleLabel = <span class="hljs-keyword">new</span> Label(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, 
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
	<span class="hljs-attr">style</span>: sampleStyle, <span class="hljs-attr">string</span>: <span class="hljs-string">"Hello, World!"</span>
});
application.add(sampleLabel)
</code></pre>
<p><img src="../assets/piu/styleSample1.png" alt="" /></p>
<h5><code>Style.template(dictionary)</code></h5>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dictionary</code></td>
<td><code>object</code></td>
<td style="text-align:left">An object with properties to initialize the result. Only parameters specified in the <a href="#style-dictionary">Dictionary</a> section below will have an effect; other parameters will be ignored.</td>
</tr>
</tbody>
</table>
<p>Returns a constructor, a function that creates instances of <code>Style.prototype</code>. The <code>prototype</code> property of the result is <code>Style</code>. The result also provides a <code>template</code> function.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> RedStyle = Style.template({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"red"</span> });
<span class="hljs-keyword">let</span> BlueStyle = Style.template({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"blue"</span> });
<span class="hljs-keyword">let</span> sampleLabel = <span class="hljs-keyword">new</span> Label(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>:<span class="hljs-number">30</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, 
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
	<span class="hljs-attr">Style</span>: RedStyle, <span class="hljs-attr">string</span>: <span class="hljs-string">"Hello, World!"</span>	<span class="hljs-comment">// Note the capital "S" in "Style"</span>
});
<span class="hljs-keyword">let</span> sampleLabel2 = <span class="hljs-keyword">new</span> Label(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">30</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">30</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, 
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
	<span class="hljs-attr">style</span>: <span class="hljs-keyword">new</span> BlueStyle, <span class="hljs-attr">string</span>: <span class="hljs-string">"Hello, World!"</span>	<span class="hljs-comment">// Note the lowercase "s" in "style"</span>
});
application.add(sampleLabel);
application.add(sampleLabel2);
</code></pre>
<p><img src="../assets/piu/sampleStyle2.png" alt="" /></p>
<p><a id="style-dictionary"></a></p>
<h4>Dictionary</h4>
<h5>Text styles only</h5>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bottom</code></td>
<td><code>number</code></td>
<td style="text-align:left">This style's bottom margin, in pixels (setting the <code>bottom</code> property of the created instance, and <code>bottom</code> in the created instance's <code>margins</code> property)</td>
</tr>
<tr>
<td><code>leading</code></td>
<td><code>number</code></td>
<td style="text-align:left">This style's line height, or &quot;leading&quot;--the distance between lines of a block, in pixels. If 0 or unspecified, it is automatically calculated. Use a negative value to force a distance even if lines overlap.</td>
</tr>
<tr>
<td><code>left</code></td>
<td><code>number</code></td>
<td style="text-align:left">This style's left margin, in pixels (setting the <code>left</code> property of the created instance, and <code>left</code> in the created instance's <code>margins</code> property)</td>
</tr>
<tr>
<td><code>right</code></td>
<td><code>number</code></td>
<td style="text-align:left">This style's right margin, in pixels (setting the <code>right</code> property of the created instance, and <code>right</code> in the created instance's <code>margins</code> property)</td>
</tr>
</tbody>
</table>
<!-- TO DO:
| `indentation` | `number` | This style's indentation--the indentation of the first line of a block, in pixels
-->
<h5>Label styles only</h5>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>vertical</code></td>
<td><code>string</code></td>
<td style="text-align:left">This style's vertical alignment, as <code>top</code>, <code>middle</code> (the default), or <code>bottom</code></td>
</tr>
</tbody>
</table>
<h5>Text and Label styles</h5>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>color</code></td>
<td><code>string</code> or <code>array</code></td>
<td style="text-align:left">This style's color(s), as a string or an <code>array</code> of strings of the form specified in the <a href="#color">Color</a> section of this document</td>
</tr>
<tr>
<td><code>font</code></td>
<td><code>string</code></td>
<td style="text-align:left">This style's font, as a string of the form specified in the <a href="#cascading-styles">Cascading Styles</a> section of this document (setting the <code>style</code>, <code>weight</code>, <code>stretch</code>, <code>size</code>, and <code>family</code> properties of the created instance)</td>
</tr>
<tr>
<td><code>horizontal</code></td>
<td><code>string</code></td>
<td style="text-align:left">This style's horizontal alignment, as <code>left</code>, <code>center</code> (the default), <code>right</code>, or <code>justify</code></td>
</tr>
<tr>
<td><code>top</code></td>
<td><code>number</code></td>
<td style="text-align:left">This style's top margin, in pixels (setting the <code>top</code> property of the created instance, and <code>top</code> in the created instance's <code>margins</code> property)</td>
</tr>
</tbody>
</table>
<h4>Prototype Description</h4>
<p>Prototype inherits from <code>Object.prototype</code>.</p>
<h5>Properties</h5>
<p>All properties of a <code>style</code> object are read-only, but you can change the style of content objects at any time.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bottom</code></td>
<td><code>number</code></td>
<td>0</td>
<td>The bottom margin of this style</td>
</tr>
<tr>
<td><code>color</code></td>
<td><code>object</code></td>
<td><code>undefined</code></td>
<td>This style's color(s), as an array of strings, or <code>undefined</code> if no color has been specified. The <code>state</code> property of the <code>content</code> object using the style determines the index of the array; if <code>state</code> is not an integer, colors from surrounding states are blended.</td>
</tr>
<tr>
<td><code>family</code></td>
<td><code>string</code></td>
<td></td>
<td>This style's font family</td>
</tr>
<tr>
<td><code>horizontal</code></td>
<td><code>string</code></td>
<td></td>
<td>This style's horizontal alignment, as <code>left</code>, <code>center</code> (the default), <code>right</code>, or <code>justify</code></td>
</tr>
<tr>
<td><code>leading</code></td>
<td><code>number</code></td>
<td></td>
<td>This style's line height (or &quot;leading&quot;)--the distance between lines of a block, in pixels. If <code>0</code> or unspecified, it is automatically calculated</td>
</tr>
<tr>
<td><code>left</code></td>
<td><code>number</code></td>
<td>0</td>
<td>The left margin of this style</td>
</tr>
<tr>
<td><code>margins</code></td>
<td><code>object</code></td>
<td></td>
<td>This style's margins, as an object with <code>left</code>, <code>right</code>, <code>top</code>, and <code>bottom</code> number properties, specified in pixels</td>
</tr>
<tr>
<td><code>right</code></td>
<td><code>number</code></td>
<td>0</td>
<td>The right margin of this style</td>
</tr>
<tr>
<td><code>size</code></td>
<td><code>string</code></td>
<td></td>
<td>This style's font size, in pixels.</td>
</tr>
<tr>
<td><code>stretch</code></td>
<td><code>string</code></td>
<td></td>
<td>This style's stretch</td>
</tr>
<tr>
<td><code>top</code></td>
<td><code>number</code></td>
<td>0</td>
<td>The top margin of this style</td>
</tr>
<tr>
<td><code>vertical</code></td>
<td><code>string</code></td>
<td></td>
<td>This style's vertical alignment, as <code>top</code>, <code>middle</code> (the default), or <code>bottom</code>, specified in pixels</td>
</tr>
<tr>
<td><code>weight</code></td>
<td><code>number</code></td>
<td></td>
<td>The weight of this style's font</td>
</tr>
</tbody>
</table>
<!-- TO DO:
| `indentation` | `number` | | This style's indentation--the indentation of the first line of a block, in pixels
-->
<h5>Functions</h5>
<p><strong><code>measure(string)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>string</code></td>
<td><code>string</code></td>
<td style="text-align:left">The string to measure</td>
</tr>
</tbody>
</table>
<p>Calculates the size of the string rendered with this style (and any inherited styles, if this style is attached to a <code>content</code> object), and returns it as an <code>object</code> with <code>width</code> and <code>height</code> properties, specified in pixels</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> normalStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"black"</span> });
<span class="hljs-keyword">let</span> size = normalStyle.measure(<span class="hljs-string">"Moddable"</span>);	<span class="hljs-comment">// {"width":134,"height":38}</span>
</code></pre>
<hr />
<h3>Text Object</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../modules/piu/All/piuText.c" title="piuText.c"><code>piuText.c</code></a></li>
<li><strong>Relevant Examples:</strong> <a href="../../examples/piu/text" title="text">text</a></li>
</ul>
<p>The <code>text</code> object is a <code>content</code> object that renders a string on multiple lines with multiple styles. There are two ways to modify the string of a <code>text</code> object. An application typically uses only one of these approaches for a specific <code>text</code> object.</p>
<ol>
<li>Set the <code>string</code> property. This replaces the full string.</li>
<li>Build the string with blocks and spans, between calls to the <code>begin</code> and <code>end</code> functions. This appends characters to the string. This method provides the most control, since each span can have a different style.</li>
</ol>
<h4>Constructor Description</h4>
<h5><code>Text([behaviorData, dictionary])</code></h5>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>behaviorData</code></td>
<td><code>*</code></td>
<td style="text-align:left">A parameter that is passed into the <code>onCreate</code> function of this content's <code>behavior</code>. This may be any type of object, including <code>null</code> or a dictionary with arbitrary parameters.</td>
</tr>
<tr>
<td><code>dictionary</code></td>
<td><code>object</code></td>
<td style="text-align:left">An object with properties to initialize the result. Only parameters specified in the <a href="#text-dictionary">Dictionary</a> section below will have an effect; other parameters will be ignored.</td>
</tr>
</tbody>
</table>
<p>Returns a <code>text</code> instance, an object that inherits from <code>Text.prototype</code></p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>});
<span class="hljs-keyword">let</span> redStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">color</span>: <span class="hljs-string">"red"</span> });
<span class="hljs-keyword">let</span> blueStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">color</span>: <span class="hljs-string">"blue"</span> });

<span class="hljs-keyword">let</span> sampleText = <span class="hljs-keyword">new</span> Text(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span>}),
	<span class="hljs-attr">style</span>: sampleStyle,
	<span class="hljs-attr">blocks</span>: [
		{ <span class="hljs-attr">spans</span>: [
			<span class="hljs-string">" Lorem ipsum dolor sit amet, "</span>,
			{ <span class="hljs-attr">style</span>: redStyle, <span class="hljs-attr">spans</span>: <span class="hljs-string">"consectetur adipiscing elit."</span> },
		]},
		{ <span class="hljs-attr">style</span>: blueStyle, <span class="hljs-attr">spans</span>: <span class="hljs-string">"In dignissim hendrerit ultricies."</span> }
	]
});
application.add(sampleText);
</code></pre>
<p><img src="../assets/piu/sampleText1.png" alt="" /></p>
<h5><code>Text.template(anonymous)</code></h5>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>anonymous</code></td>
<td><code>function</code></td>
<td style="text-align:left">A function that returns an object with properties to initialize the instances that the result creates</td>
</tr>
</tbody>
</table>
<p>Returns a constructor, a function that creates instances of <code>Text.prototype</code>. The <code>prototype</code> property of the result is <code>Text.prototype</code>. The result also provides a <code>template</code> function.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>:<span class="hljs-string">"600 28px Open Sans"</span>});
<span class="hljs-keyword">let</span> redStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">color</span>: <span class="hljs-string">"red"</span>, <span class="hljs-attr">horizontal</span>: <span class="hljs-string">"left"</span> });
<span class="hljs-keyword">let</span> blueStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">color</span>: <span class="hljs-string">"blue"</span>, <span class="hljs-attr">horizontal</span>: <span class="hljs-string">"right"</span> });

<span class="hljs-keyword">let</span> SampleText = Text.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">top</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">50</span>,
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({<span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span>}),
	<span class="hljs-attr">style</span>: $.baseStyle,
	<span class="hljs-attr">blocks</span>: [
		{ <span class="hljs-attr">style</span>: redStyle, <span class="hljs-attr">spans</span>: $.redText },
		{ <span class="hljs-attr">style</span>: blueStyle, <span class="hljs-attr">spans</span>: $.blueText }
	]
}));
application.add(<span class="hljs-keyword">new</span> SampleText({ <span class="hljs-attr">baseStyle</span>: sampleStyle, <span class="hljs-attr">redText</span>: <span class="hljs-string">"Red!"</span>, <span class="hljs-attr">blueText</span>: <span class="hljs-string">"Blue!"</span> }));
</code></pre>
<p><img src="../assets/piu/sampleText2.png" alt="" /></p>
<p><a id="text-dictionary"></a></p>
<h4>Dictionary</h4>
<p>Same as for <code>content</code> object (see <a href="#content-dictionary">Dictionary</a> in the section <a href="#content-object">Content Object</a>), plus:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>blocks</code></td>
<td><code>array</code></td>
<td style="text-align:left">An array of blocks, where a block is an object with the following properties:<BR>- <code>behavior</code>: An object or <code>null</code> (the default). When this text is active and the block is touched, the block calls the corresponding function properties of its behavior.<BR>- <code>style</code>: A <code>style</code> instance or <code>null</code> (the default).<BR>- <code>spans</code>: A <code>string</code> or an <code>array</code> of spans.<BR><BR>Like a block, a span is an object with <code>behavior</code>, <code>style</code>, and <code>spans</code> properties.</td>
</tr>
<tr>
<td><code>string</code></td>
<td><code>string</code></td>
<td style="text-align:left">This text's string. Setting this string creates one block containing one span that uses this text's style.</td>
</tr>
</tbody>
</table>
<h4>Prototype Description</h4>
<p>Prototype inherits from <code>Content.prototype</code>.</p>
<h5>Properties</h5>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Read Only</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>blocks</code></td>
<td><code>array</code></td>
<td></td>
<td>This text's blocks</td>
</tr>
<tr>
<td><code>string</code></td>
<td><code>string</code></td>
<td></td>
<td>This text's string. Setting this string creates one block containing one span that uses this text's style.</td>
</tr>
</tbody>
</table>
<h5>Functions</h5>
<blockquote>
<p>For sample code that uses all the functions below, see the <a href="../../examples/piu/text" title="text">text example</a>.</p>
</blockquote>
<p><strong><code>begin()</code></strong></p>
<p>Starts the process of defining the string and styles of this text using blocks and spans. The string is reset to empty. The <code>begin</code> function must be called before <code>beginBlock</code> or <code>beginSpan</code>. After defining the string and styles, call <code>end</code>.</p>
<hr />
<p><strong><code>beginBlock([style, behavior])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>style</code></td>
<td><code>style</code></td>
<td style="text-align:left">The style of the block</td>
</tr>
<tr>
<td><code>behavior</code></td>
<td><code>object</code></td>
<td style="text-align:left">The behavior of the block</td>
</tr>
</tbody>
</table>
<p>Creates and opens a new block. The <code>begin</code> function must have been already called without a corresponding <code>end</code>. There cannot be another block already open.</p>
<hr />
<p><strong><code>beginSpan(style [, behavior])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>style</code></td>
<td><code>style</code></td>
<td style="text-align:left">The style of the span</td>
</tr>
<tr>
<td><code>behavior</code></td>
<td><code>object</code></td>
<td style="text-align:left">The behavior of the span</td>
</tr>
</tbody>
</table>
<p>Creates and opens a new span. There must be an open block. There cannot be another open span.</p>
<hr />
<p><strong><code>concat(string)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>string</code></td>
<td><code>string</code></td>
<td style="text-align:left">The string to concatenate</td>
</tr>
</tbody>
</table>
<p>Concatenates the specified string to this text. There must be an open span.</p>
<hr />
<p><strong><code>end()</code></strong></p>
<p>Completes the process of building this text's string and styles using blocks and spans; must be called after <code>begin</code> and before this text can be measured, fit, or rendered</p>
<hr />
<p><strong><code>endBlock()</code></strong></p>
<p>Closes the open block</p>
<hr />
<p><strong><code>endSpan()</code></strong></p>
<p>Closes the open span</p>
<hr />
<p><a id="text-events"></a></p>
<h4>Events</h4>
<p>Same as for <code>content</code> object (see <a href="#content-events">Events</a> in the section <a href="#content-object">Content Object</a>).</p>
<h3>Texture Object</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../modules/piu/MC/piuTexture.c" title="piuTexture.c"><code>piuTexture.c</code></a></li>
<li><strong>Relevant Examples:</strong> <a href="../../examples/piu/balls" title="balls">balls</a>, <a href="../../examples/piu/cards" title="cards">cards</a></li>
</ul>
<p>The <code>texture</code> object is an asset that references an image file. Applications use <code>texture</code> objects in defining <code>skin</code> objects.</p>
<h4>Constructor Description</h4>
<h5><code>Texture(path)</code></h5>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>path</code></td>
<td><code>string</code></td>
<td style="text-align:left">The URL of the image file. It must be a file URL.</td>
</tr>
</tbody>
</table>
<p>Returns a <code>texture</code> instance, an object that inherits from <code>Object.prototype</code></p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> logoTexture = <span class="hljs-keyword">new</span> Texture(<span class="hljs-string">"logo.png"</span>);
<span class="hljs-keyword">const</span> logoSkin = <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">texture</span>: logoTexture, <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">20</span> });
</code></pre>
<h5><code>Texture(dictionary)</code></h5>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dictionary</code></td>
<td><code>object</code></td>
<td style="text-align:left">An object with properties to initialize the result. Only parameters specified in the <a href="#texture-dictionary">Dictionary</a> section below will have an effect; other parameters will be ignored.</td>
</tr>
</tbody>
</table>
<p>Returns a <code>texture</code> instance, an object that inherits from <code>Object.prototype</code></p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> logoTexture = <span class="hljs-keyword">new</span> Texture({ <span class="hljs-attr">path</span>: <span class="hljs-string">"logo.png"</span> });
<span class="hljs-keyword">const</span> logoSkin = <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">texture</span>: logoTexture, <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">20</span> });
</code></pre>
<h5><code>Texture.template(dictionary)</code></h5>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dictionary</code></td>
<td><code>object</code></td>
<td style="text-align:left">An object with properties to initialize the result. Only parameters specified in the <a href="#texture-dictionary">Dictionary</a> section below will have an effect; other parameters will be ignored.</td>
</tr>
</tbody>
</table>
<p>Returns a constructor, a function that creates instances of <code>Texture.prototype</code>. The <code>prototype</code> property of the result is <code>Texture.prototype</code>.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> LogoTexture = Texture.template({ <span class="hljs-attr">path</span>: <span class="hljs-string">"logo.png"</span> });
<span class="hljs-comment">// Note the capital "T" in "Texture" below</span>
<span class="hljs-keyword">const</span> LogoSkin = Skin.template({ <span class="hljs-attr">Texture</span>: LogoTexture, <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"white"</span> });

<span class="hljs-keyword">const</span> AnotherLogoTexture = Texture.template({ <span class="hljs-attr">path</span>: <span class="hljs-string">"logo.png"</span> });
<span class="hljs-comment">// Note the lowercase "t" in "texture" below</span>
<span class="hljs-keyword">const</span> AnotherLogoSkin = Skin.template({ <span class="hljs-attr">texture</span>: <span class="hljs-keyword">new</span> AnotherLogoTexture(), <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"white"</span> });

</code></pre>
<p><a id="texture-dictionary"></a></p>
<h4>Dictionary</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>path</code></td>
<td><code>string</code></td>
<td style="text-align:left">The URL of the image file. It must be a file URL.</td>
</tr>
</tbody>
</table>
<h4>Prototype Description</h4>
<p>Prototype inherits from <code>Object.prototype</code>.</p>
<h5>Properties</h5>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Read Only</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>height</code></td>
<td><code>number</code></td>
<td>✓</td>
<td style="text-align:left">This texture's height, in physical pixels</td>
</tr>
<tr>
<td><code>width</code></td>
<td><code>number</code></td>
<td>✓</td>
<td style="text-align:left">This texture's width, in physical pixels</td>
</tr>
</tbody>
</table>
<h3>Timeline Object</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../modules/piu/MC/piuTimeline.js" title="piuTimeline.js"><code>piuTimeline.js</code></a></li>
<li><strong>Relevant Examples:</strong> <a href="../../examples/piu/timeline" title="timeline">timeline</a>, <a href="../../examples/piu/easing-equations" title="easing-equations">easing-equations</a></li>
</ul>
<p>The <code>timeline</code> object provides a mechanism for sequencing and running a collection of tweens. This is useful for managing transitions between Piu screens and other animations.</p>
<p>Tweens work by taking in a target object and an object that specifies a list of properties and values. When the tween is set to a specific fraction, the appropriate properties of the target object are updated with values between their initial value and the destination value. The specifics of how this works are determined by the type of tween (&quot;on&quot;, &quot;from&quot;, or &quot;to&quot;, as described below) and the easing function used for the tween.</p>
<p>The application manages all of the tweens in a timeline at once by seeking to a particular point in the timeline. This is usually driven by the <code>onTimeChanged</code> function of a <code>content</code> object.</p>
<p>The Piu Timeline implementation is based on the <a href="https://greensock.com/timelinelite">TimelineLite class developed by GreenSock</a>.</p>
<p>Note that the <code>Timeline</code> class must be imported into your application to be used:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">import</span> Timeline <span class="hljs-keyword">from</span> <span class="hljs-string">"piu/Timeline"</span>;<span class="hljs-string">`
</span></code></pre>
<h4>Constructor Description</h4>
<h5><code>Timeline()</code></h5>
<p>Returns a timeline object, an instance of the <code>Timeline</code> class.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> timeline = <span class="hljs-keyword">new</span> Timeline();
</code></pre>
<h4>Prototype Description</h4>
<h5>Properties</h5>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default Value</th>
<th>Read Only</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>duration</code></td>
<td><code>number</code></td>
<td></td>
<td></td>
<td>How long this timeline will take to complete once started, in ms.</td>
</tr>
<tr>
<td><code>fraction</code></td>
<td><code>number</code></td>
<td></td>
<td></td>
<td>The fraction of this timeline that has completed, as a decimal between 0 and 1. Setting the fraction is equivalent to calling <code>seekTo(fraction * duration)</code>.</td>
</tr>
<tr>
<td><code>time</code></td>
<td><code>number</code></td>
<td></td>
<td></td>
<td>The amount of time the timeline has completed, in ms. This should not be modified directly — use <code>seekTo(time)</code> instead.</td>
</tr>
</tbody>
</table>
<h5>Functions</h5>
<!-- The add function doesn't seem possible to use right now, because the Tween sub-class is not exported. Any reason to describe this in the docs? 

**`add(tween, when)`** -->
<p><strong><code>from(target, fromProperties, duration, [easing, delay])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>target</code></td>
<td><code>object</code></td>
<td style="text-align:left">The object that will have its properties tweened by the timeline.</td>
</tr>
<tr>
<td><code>fromProperties</code></td>
<td><code>object</code></td>
<td style="text-align:left">The keys of this object are the properties of the <code>target</code> object that will be tweened by the timeline. Their values are the starting values the properties of the <code>target</code> object will have at the begining of the tween.</td>
</tr>
<tr>
<td><code>duration</code></td>
<td><code>number</code></td>
<td style="text-align:left">The duration of the tween in ms.</td>
</tr>
<tr>
<td><code>easing</code></td>
<td><code>number</code></td>
<td style="text-align:left">An easing function to use for the tween. If <code>null</code> is provided, the tween will use a linear easing function.</td>
</tr>
<tr>
<td><code>delay</code></td>
<td><code>number</code></td>
<td style="text-align:left">The number of ms after the previous tween in the timeline completes that this one should begin. If this number is negative, the tween will begin before the prior tween completes. If no duration is provided, the tween will begin immediately upon completion of the prior tween.</td>
</tr>
</tbody>
</table>
<p>Adds a &quot;from tween&quot; to the timeline. A &quot;from tween&quot; eases the properties of the <code>target</code> object from the values specified in the <code>toProperties</code> object to the original values of the <code>target</code> object over <code>duration</code> ms.</p>
<p>Returns this timeline, useful for chaining together multiple <code>to</code>, <code>from</code>, and <code>on</code> calls.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>: <span class="hljs-string">"600 28px Open Sans"</span>, <span class="hljs-attr">color</span>: [<span class="hljs-string">"blue"</span>, <span class="hljs-string">"white"</span>] });
<span class="hljs-keyword">let</span> sampleColumn = <span class="hljs-keyword">new</span> Column(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, 
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }), <span class="hljs-attr">style</span>: sampleStyle,
	<span class="hljs-attr">contents</span>: [
		Label(<span class="hljs-literal">null</span>, { <span class="hljs-attr">top</span>: <span class="hljs-number">90</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">28</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">80</span>, <span class="hljs-attr">string</span>: <span class="hljs-string">"Hello"</span>, <span class="hljs-attr">state</span>: <span class="hljs-number">0</span> }),
		Label(<span class="hljs-literal">null</span>, { <span class="hljs-attr">top</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">28</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">80</span>, <span class="hljs-attr">string</span>: <span class="hljs-string">"Moddable"</span>, <span class="hljs-attr">state</span>: <span class="hljs-number">0</span> }),
	],
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onDisplaying(column) {
			<span class="hljs-keyword">let</span> timeline = <span class="hljs-keyword">this</span>.timeline = <span class="hljs-keyword">new</span> Timeline();
			timeline.from(column.first, { <span class="hljs-attr">x</span>: -column.first.width, <span class="hljs-attr">state</span>: <span class="hljs-number">1</span> }, <span class="hljs-number">1000</span>, <span class="hljs-built_in">Math</span>.quadEaseOut, <span class="hljs-number">0</span>)
				.from(column.last, { <span class="hljs-attr">x</span>: application.width, <span class="hljs-attr">state</span>: <span class="hljs-number">1</span> }, <span class="hljs-number">800</span>, <span class="hljs-built_in">Math</span>.quadEaseOut, <span class="hljs-number">-800</span>);
			column.duration = timeline.duration;
			timeline.seekTo(<span class="hljs-number">0</span>);
			column.time = <span class="hljs-number">0</span>;
			column.start();
		}
		onTimeChanged(column) {
			<span class="hljs-keyword">this</span>.timeline.seekTo(column.time);
		}
	}
});
application.add(sampleColumn);
</code></pre>
<p><img src="../assets/piu/timelineFrom.gif" alt="" /></p>
<p><strong><code>on(target, onProperties, duration, easing, delay, when)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>target</code></td>
<td><code>object</code></td>
<td style="text-align:left">The object that will have its properties tweened by the timeline.</td>
</tr>
<tr>
<td><code>onProperties</code></td>
<td><code>object</code></td>
<td style="text-align:left">The keys of this object are the properties of the <code>target</code> object that will be tweened by the timeline. Their values are arrays of values that the tween will ease between over the duration of the timeline.</td>
</tr>
<tr>
<td><code>duration</code></td>
<td><code>number</code></td>
<td style="text-align:left">The duration of the tween in ms.</td>
</tr>
<tr>
<td><code>easing</code></td>
<td><code>number</code></td>
<td style="text-align:left">An easing function to use for the tween. If <code>null</code> is provided, the tween will use a linear easing function.</td>
</tr>
<tr>
<td><code>delay</code></td>
<td><code>number</code></td>
<td style="text-align:left">The number of ms after the previous tween in the timeline completes that this one should begin. If this number is negative, the tween will begin before the prior tween completes. If no duration is provided, the tween will begin immediately upon completion of the prior tween.</td>
</tr>
</tbody>
</table>
<p>Adds an &quot;on tween&quot; to the timeline. An &quot;on tween&quot; eases the values of the <code>target</code> object through a sequence of steps as specified by arrays in the <code>onProperties</code> object over <code>duration</code> ms.</p>
<p>Returns this timeline, useful for chaining together multiple <code>to</code>, <code>from</code>, and <code>on</code> calls.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleContainer = <span class="hljs-keyword">new</span> Container(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }),
	<span class="hljs-attr">contents</span>: [
		Content(<span class="hljs-literal">null</span>, { <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: [<span class="hljs-string">"blue"</span>, <span class="hljs-string">"red"</span>] }) })
	],
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onDisplaying(container) {
			<span class="hljs-keyword">this</span>.startAnimation(container);
		}
		startAnimation(container) {
			<span class="hljs-keyword">let</span> timeline = <span class="hljs-keyword">this</span>.timeline = <span class="hljs-keyword">new</span> Timeline();
			<span class="hljs-keyword">let</span> l=<span class="hljs-number">0</span>, r=<span class="hljs-number">150</span>, b=<span class="hljs-number">150</span>, t=<span class="hljs-number">0</span>;
			timeline.on(container.first, { <span class="hljs-attr">x</span>: [l, r, r, l, l], <span class="hljs-attr">y</span>: [t, t, b, b, t], <span class="hljs-attr">state</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>] }, <span class="hljs-number">1000</span>, <span class="hljs-built_in">Math</span>.quadEaseInOut, <span class="hljs-number">500</span>);
			container.duration = timeline.duration;
			timeline.seekTo(<span class="hljs-number">0</span>);
			container.time = <span class="hljs-number">0</span>;
			container.start();
		}
		onTimeChanged(container) {
			<span class="hljs-keyword">let</span> time = container.time;
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.reverse) time = container.duration - time;
			<span class="hljs-keyword">this</span>.timeline.seekTo(time);
		}
		onFinished(container) {
			<span class="hljs-keyword">this</span>.reverse = !<span class="hljs-keyword">this</span>.reverse;
			<span class="hljs-keyword">this</span>.startAnimation(container);
		}
	}
});
application.add(sampleContainer);
</code></pre>
<p><img src="../assets/piu/timelineOn.gif" alt="" /></p>
<p><strong><code>seekTo(time)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>time</code></td>
<td><code>number</code></td>
<td style="text-align:left">The position in the Timeline to seek to.</td>
</tr>
</tbody>
</table>
<p>Causes this timeline to jump its tweens to the specified time. This sets the properties of the tweens' target objects.</p>
<p><strong><code>to(target, toProperties, duration, [easing, delay])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>target</code></td>
<td><code>object</code></td>
<td style="text-align:left">The object that will have its properties tweened by the timeline.</td>
</tr>
<tr>
<td><code>toProperties</code></td>
<td><code>object</code></td>
<td style="text-align:left">The keys of this object are the properties of the <code>target</code> object that will be tweened by the timeline. Their values are the destination values the properties of the <code>target</code> object will have when the tween is complete.</td>
</tr>
<tr>
<td><code>duration</code></td>
<td><code>number</code></td>
<td style="text-align:left">The duration of the tween in ms.</td>
</tr>
<tr>
<td><code>easing</code></td>
<td><code>number</code></td>
<td style="text-align:left">An easing function to use for the tween. If <code>null</code> is provided, the tween will use a linear easing function.</td>
</tr>
<tr>
<td><code>delay</code></td>
<td><code>number</code></td>
<td style="text-align:left">The number of ms after the previous tween in the timeline completes that this one should begin. If this number is negative, the tween will begin before the prior tween completes. If no duration is provided, the tween will begin immediately upon completion of the prior tween.</td>
</tr>
</tbody>
</table>
<p>Adds a &quot;to tween&quot; to the timeline. A &quot;to tween&quot; eases the properties of the <code>target</code> object from its current values to the desired values specified in the <code>toProperties</code> object over <code>duration</code> ms.</p>
<p>Returns this timeline, useful for chaining together multiple <code>to</code>, <code>from</code>, and <code>on</code> calls.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> sampleStyle = <span class="hljs-keyword">new</span> Style({ <span class="hljs-attr">font</span>: <span class="hljs-string">"600 28px Open Sans"</span>, <span class="hljs-attr">color</span>: [<span class="hljs-string">"blue"</span>, <span class="hljs-string">"white"</span>] });
<span class="hljs-keyword">let</span> sampleColumn = <span class="hljs-keyword">new</span> Column(<span class="hljs-literal">null</span>, {
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, 
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: <span class="hljs-string">"white"</span> }), <span class="hljs-attr">style</span>: sampleStyle,
	<span class="hljs-attr">contents</span>: [
		Label(<span class="hljs-literal">null</span>, { <span class="hljs-attr">top</span>: <span class="hljs-number">90</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">28</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">80</span>, <span class="hljs-attr">string</span>: <span class="hljs-string">"Hello"</span>, <span class="hljs-attr">state</span>: <span class="hljs-number">0</span> }),
		Label(<span class="hljs-literal">null</span>, { <span class="hljs-attr">top</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">28</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">80</span>, <span class="hljs-attr">string</span>: <span class="hljs-string">"Moddable"</span>, <span class="hljs-attr">state</span>: <span class="hljs-number">0</span> }),
	],
	<span class="hljs-attr">Behavior</span>: <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
		onDisplaying(column) {
			<span class="hljs-keyword">let</span> timeline = <span class="hljs-keyword">this</span>.timeline = <span class="hljs-keyword">new</span> Timeline();
			timeline.to(column.first, { <span class="hljs-attr">x</span>: -column.first.width, <span class="hljs-attr">state</span>: <span class="hljs-number">1</span> }, <span class="hljs-number">1000</span>, <span class="hljs-built_in">Math</span>.quadEaseOut, <span class="hljs-number">1000</span>)
				.to(column.last, { <span class="hljs-attr">x</span>: application.width, <span class="hljs-attr">state</span>: <span class="hljs-number">1</span> }, <span class="hljs-number">800</span>, <span class="hljs-built_in">Math</span>.quadEaseOut, <span class="hljs-number">-800</span>);
			column.duration = timeline.duration;
			timeline.seekTo(<span class="hljs-number">0</span>);
			column.time = <span class="hljs-number">0</span>;
			column.start();
		}
		onTimeChanged(column) {
			<span class="hljs-keyword">this</span>.timeline.seekTo(column.time);
		}
	}
});
application.add(sampleColumn);
</code></pre>
<p><img src="../assets/piu/timelineTo.gif" alt="" /></p>
<h3>Transition Object</h3>
<ul>
<li><strong>Source code:</strong> <a href="../../modules/piu/All/piuTransition.c" title="piuTransition.c"><code>piuTransition.c</code></a></li>
<li><strong>Relevant Examples:</strong> N/A</li>
</ul>
<p>The <code>transition</code> object is used to animate modifications of the containment hierarchy.</p>
<h4>Constructor Description</h4>
<p>Applications define their own constructors for <code>transition</code> objects, which inherit from <code>Transition.prototype</code> and override the <code>onBegin</code>, <code>onEnd</code>, and <code>onStep</code> functions.</p>
<pre><code class="language-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BasicLeftToRightTransition</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Transition</span> </span>{
	<span class="hljs-keyword">constructor</span>(duration) {
		<span class="hljs-keyword">super</span>(duration);
	}
	onBegin(container, current, next) {
		container.add(next);
		<span class="hljs-keyword">this</span>.die = <span class="hljs-keyword">new</span> Die();
		<span class="hljs-keyword">this</span>.die.attach(next);
		<span class="hljs-keyword">this</span>.width = container.width;
		<span class="hljs-keyword">this</span>.height = container.height;
	}
	onStep(fraction) {
		fraction = <span class="hljs-built_in">Math</span>.quadEaseOut(fraction);
		<span class="hljs-keyword">let</span> left = <span class="hljs-number">0</span>, right =  <span class="hljs-built_in">Math</span>.round(<span class="hljs-keyword">this</span>.width * fraction);
		<span class="hljs-keyword">this</span>.die.set(left, <span class="hljs-number">0</span>, right - left, <span class="hljs-keyword">this</span>.height);
		<span class="hljs-keyword">this</span>.die.cut();
	}
	onEnd(container, current, next) {
		<span class="hljs-keyword">this</span>.die.detach();
		container.remove(current);
	}
}
</code></pre>
<p><code>Container</code> objects use instances of <code>transition</code> objects as a parameter to their <code>run</code> function.</p>
<pre><code class="language-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SwitchScreenBehavior</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Behavior</span> </span>{
	onCreate(content, data) {
		<span class="hljs-keyword">this</span>.data = data;
	}
	onTouchEnded(content) {
		<span class="hljs-keyword">let</span> data = <span class="hljs-keyword">this</span>.data;
		<span class="hljs-keyword">let</span> transition = <span class="hljs-keyword">new</span> BasicLeftToRightTransition(<span class="hljs-number">1000</span>);
		<span class="hljs-keyword">let</span> nextScreen = <span class="hljs-keyword">new</span> ColoredScreen({ <span class="hljs-attr">color</span>: data.nextColor, <span class="hljs-attr">nextColor</span>: data.color })
		application.run(transition, application.first, nextScreen);
	}
}
<span class="hljs-keyword">let</span> ColoredScreen = Container.template(<span class="hljs-function"><span class="hljs-params">$</span> =&gt;</span> ({
	<span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>, 
	<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $.color }),
	<span class="hljs-attr">contents</span>: [
		Content($, {
			<span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, 
			<span class="hljs-attr">skin</span>: <span class="hljs-keyword">new</span> Skin({ <span class="hljs-attr">fill</span>: $.nextColor }),
			<span class="hljs-attr">Behavior</span>: SwitchScreenBehavior
		})
	]
}));
application.add(<span class="hljs-keyword">new</span> ColoredScreen({ <span class="hljs-attr">color</span>: <span class="hljs-string">"red"</span>, <span class="hljs-attr">nextColor</span>: <span class="hljs-string">"blue"</span> }));
</code></pre>
<p><img src="../assets/piu/transition.gif" alt="" /></p>
<h4>Prototype Description</h4>
<p>Prototype inherits from <code>Object.prototype</code>.</p>
<h5>Properties</h5>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default Value</th>
<th>Read Only</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>duration</code></td>
<td><code>number</code></td>
<td>250</td>
<td></td>
<td style="text-align:left">The duration of the transition, in milliseconds</td>
</tr>
</tbody>
</table>
<h5>Functions</h5>
<p><strong><code>onBegin(container [, ...])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>container</code></td>
<td><code>container</code></td>
<td style="text-align:left">The <code>container</code> object that is running the transition</td>
</tr>
<tr>
<td><code>...</code></td>
<td><code>*</code></td>
<td style="text-align:left">Zero or more extra parameters</td>
</tr>
</tbody>
</table>
<p>Invoked when this transition starts. The extra parameters are the extra parameters of the call to the <code>run</code> function that bound this transition to the specified <code>container</code> object.</p>
<hr />
<p><strong><code>onEnd(container [, ...])</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>container</code></td>
<td><code>container</code></td>
<td style="text-align:left">The <code>container</code> object that is running the transition</td>
</tr>
<tr>
<td><code>...</code></td>
<td><code>*</code></td>
<td style="text-align:left">Zero or more extra parameters</td>
</tr>
</tbody>
</table>
<p>Invoked when this transition ends. The extra parameters are the extra parameters of the call to the <code>run</code> function that bound this transition to the specified <code>container</code> object.</p>
<hr />
<p><strong><code>onStep(fraction)</code></strong></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fraction</code></td>
<td><code>number</code></td>
<td style="text-align:left">The ratio of the time elapsed and the duration of this transition, as a number between 0 and 1 (inclusive)</td>
</tr>
</tbody>
</table>
<p>Called while this transition is running; called at least twice (with a <code>fraction</code> parameter of 0 and 1) and at most at the display refresh rate--for example, 60 times a second</p>
<!-- Referenced Links -->

</div>

        </div>
    </body>
</html>
