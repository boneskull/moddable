<!DOCTYPE html>
<html>
<head>
    <title>Moddable</title>
    <link href="https://fonts.googleapis.com/css?family=Inconsolata|Open+Sans" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="/assets/css/hljs.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/markdown.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />
</head>
    <body>
<div id="header">
    <div class="package"></div>
    <a href="https:&#x2F;&#x2F;github.com&#x2F;moddable-opensource&#x2F;moddable" class="badge" title="Github.com"><img src="/assets/images/github.png" alt="Github" /></a>
    <a href="/" class="home"><strong>Moddable</strong> <span class="headline">Moddable SDK</span></a>
</div>
        <div id="container">
            <div id="sidebar">
<ul class="list">
    <li>
        <h4><a href="/">Home</a></h4>
        <ul>
            <li><a href="https://www.moddable.com">Moddable</a></li>
            <li><a href="/">Documentation</a></li>
        </ul>
    </li>
    <li>
        <h4><a href="/">Resources</a></h4>
        <ul>
            <li><a href="https://github.com/moddable-opensource/moddable">GitHub</a></li>
            <li><a href="/">Link 2</a></li>
        </ul>
    </li>
</ul>
            </div>

<div id="content">
<h1>BuyDisplay 2.8&quot; CTP Display Wiring Guide - ESP8266</h1>
<p>Copyright 2018 Moddable Tech, Inc.<br />
Revised: December 6, 2018</p>
<p><img src="images/spi_serial_2.8_inch_320x240_tft_lcd_display_module_ili9341_arduino_stm32_1.jpg" alt="Generic SPI Display" /></p>
<h2>Specs</h2>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>Part</strong></td>
<td style="text-align:left">ER-TFTM028-4 LCD w/Capacitive Touch Screen Module (<a href="http://www.buydisplay.com/download/manual/ER-TFTM028-4_Datasheet.pdf">datasheet</a>)</td>
</tr>
<tr>
<td style="text-align:center"><strong>Size</strong></td>
<td style="text-align:left">2.8&quot;, 320 x 240</td>
</tr>
<tr>
<td style="text-align:center"><strong>Type</strong></td>
<td style="text-align:left">TFT LCD</td>
</tr>
<tr>
<td style="text-align:center"><strong>Interface</strong></td>
<td style="text-align:left">SPI</td>
</tr>
<tr>
<td style="text-align:center"><strong>Drivers</strong></td>
<td style="text-align:left">video <a href="../../documentation/drivers/ili9341/ili9341.html">ILI9341</a>, touch FT6206</td>
</tr>
<tr>
<td style="text-align:center"><strong>Availability</strong></td>
<td style="text-align:left">[2.8&quot; BuyDisplay CTP display] (http://www.buydisplay.com/default/2-8-inch-tft-touch-shield-for-arduino-w-capacitive-touch-screen-module)</td>
</tr>
<tr>
<td style="text-align:center"><strong>Description</strong></td>
<td style="text-align:left">This BuyDisplay screen is highly configurable and can be ordered with varying touch modules, main power voltage and connection types. This sample is for the 3.3v CTP version.</td>
</tr>
</tbody>
</table>
<h2>Configuration</h2>
<p>This display supports many configurations. For this sample, Moddable configured the display  IMO settings to support 4 wire SPI. See the ER-TFTM028-4 <a href="http://www.buydisplay.com/download/manual/ER-TFTM028-4_Datasheet.pdf">datasheet</a>. The jumper settings below are open or closed drag solder pads on the PCB.</p>
<table>
<thead>
<tr>
<th>IMO Mode</th>
<th>Jumper settings</th>
</tr>
</thead>
<tbody>
<tr>
<td>4-wire SPI Interface</td>
<td>J2, J3, J4, J5 Short<BR>J1, J6, J7, J8 Open<BR>R1-R10=0R<BR>R19=0R<BR>R21-R28=0R<BR>R17, R18, R20 not soldered</td>
</tr>
</tbody>
</table>
<p><strong>Display input voltage</strong><br />
The TFTM028-4 can be configured to be powered by either 5v or 3.3v via a solder jumper. See Table 4.3 in the <a href="http://www.buydisplay.com/download/manual/ER-TFTM028-4_Datasheet.pdf">datasheet</a>. For this guide the display was set to run with 3.3v input. If the display was configured for 5v Pin 2 on the display header would require 5v input.</p>
<h2>Moddable Sample code</h2>
<p>The <a href="../../examples/piu/drag/">drag</a> example is good for testing this display. To run a debug build, use the following build command:</p>
<pre><code>cd $MODDABLE/examples/piu/drag
mcconfig -d -m -p esp/buydisplay_ctp 
</code></pre>
<h2>ESP8266 Pinout</h2>
<table>
<thead>
<tr>
<th>BuyDisplay CTP Display</th>
<th>ESP8266</th>
<th>ESP8266 Devboard label</th>
</tr>
</thead>
<tbody>
<tr>
<td>1 - VSS</td>
<td>GND</td>
<td></td>
</tr>
<tr>
<td>2 - VDD</td>
<td>3.3V</td>
<td></td>
</tr>
<tr>
<td>21 - Reset</td>
<td>3.3V</td>
<td></td>
</tr>
<tr>
<td>23 - CS</td>
<td>GPIO 15</td>
<td>(D8)</td>
</tr>
<tr>
<td>24 - SCK</td>
<td>GPIO 14</td>
<td>(D5)</td>
</tr>
<tr>
<td>25 - DC</td>
<td>GPIO 2</td>
<td>(D4)</td>
</tr>
<tr>
<td>27 - SDI</td>
<td>GPIO 13</td>
<td>(D7)</td>
</tr>
<tr>
<td>28 - SDO</td>
<td>GPIO 12</td>
<td>(D6)</td>
</tr>
<tr>
<td>30 - CPT SCL</td>
<td>GPIO 4</td>
<td>(D2)</td>
</tr>
<tr>
<td>31 - CPT SDA</td>
<td>GPIO 5</td>
<td>(D1)</td>
</tr>
</tbody>
</table>
<p><img src="images/buydisplay+esp-wiring.png" alt="Generic 2.4&quot;-2.8&quot; wiring illustration" /></p>

</div>

        </div>
    </body>
</html>
